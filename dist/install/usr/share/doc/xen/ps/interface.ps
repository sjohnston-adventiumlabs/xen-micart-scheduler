%!PS-Adobe-2.0
%%Creator: dvips(k) 5.96.1 Copyright 2007 Radical Eye Software
%%Title: interface.dvi
%%CreationDate: Thu Feb 23 14:37:50 2012
%%Pages: 56
%%PageOrder: Ascend
%%BoundingBox: 0 0 595 842
%%DocumentFonts: Times-Bold Times-Roman Times-Italic Helvetica Courier
%%+ CMSY10 CMMI10
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -Ppdf -G0 -o ps/interface.ps.new interface.dvi
%DVIPSParameters: dpi=8000
%DVIPSSource:  TeX output 2012.02.23:1437
%%BeginProcSet: tex.pro 0 0
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/CharBuilder{save 3 1 roll S A/base get 2 index get S
/BitMaps get S get/Cd X pop/ctr 0 N Cdx 0 Cx Cy Ch sub Cx Cw add Cy
setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx sub Cy .1 sub]{Ci}imagemask
restore}B/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: alt-rule.pro 0 0
%!
% Patch by TVZ
% Makes dvips files draw rules with stroke rather than fill.
% Makes narrow rules more predictable at low resolutions
% after distilling to PDF.
% May have unknown consequences for very thick rules.
% Tested only with dvips 5.85(k).
TeXDict begin
/QV {
  gsave newpath /ruleY X /ruleX X
  Rx Ry gt
  { ruleX ruleY Ry 2 div sub moveto Rx 0 rlineto Ry }
  { ruleX Rx 2 div add ruleY moveto 0 Ry neg rlineto Rx }
  ifelse
  setlinewidth 0 setlinecap stroke grestore
} bind def
end

%%EndProcSet
%%BeginProcSet: 8r.enc 0 0
% File 8r.enc  TeX Base 1 Encoding  Revision 2.0  2002-10-30
%
% @@psencodingfile@{
%   author    = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry,
%                W. Schmidt, P. Lehman",
%   version   = "2.0",
%   date      = "27nov06",
%   filename  = "8r.enc",
%   email     = "tex-fonts@@tug.org",
%   docstring = "This is the encoding vector for Type1 and TrueType
%                fonts to be used with TeX.  This file is part of the
%                PSNFSS bundle, version 9"
% @}
% 
% The idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard encoding, ISO Latin 1, Windows ANSI including the euro symbol,
% MacRoman, and some extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% These are /dotlessj /ff /ffi /ffl.
% 
% (4) hyphen appears twice for compatibility with both ASCII and Windows.
%
% (5) /Euro was assigned to 128, as in Windows ANSI
%
% (6) Missing characters from MacRoman encoding incorporated as follows:
%
%     PostScript      MacRoman        TeXBase1
%     --------------  --------------  --------------
%     /notequal       173             0x16
%     /infinity       176             0x17
%     /lessequal      178             0x18
%     /greaterequal   179             0x19
%     /partialdiff    182             0x1A
%     /summation      183             0x1B
%     /product        184             0x1C
%     /pi             185             0x1D
%     /integral       186             0x81
%     /Omega          189             0x8D
%     /radical        195             0x8E
%     /approxequal    197             0x8F
%     /Delta          198             0x9D
%     /lozenge        215             0x9E
%
/TeXBase1Encoding [
% 0x00
 /.notdef /dotaccent /fi /fl
 /fraction /hungarumlaut /Lslash /lslash
 /ogonek /ring /.notdef /breve
 /minus /.notdef /Zcaron /zcaron
% 0x10
 /caron /dotlessi /dotlessj /ff
 /ffi /ffl /notequal /infinity
 /lessequal /greaterequal /partialdiff /summation
 /product /pi /grave /quotesingle
% 0x20
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus
 /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three
 /four /five /six /seven
 /eight /nine /colon /semicolon
 /less /equal /greater /question
% 0x40
 /at /A /B /C
 /D /E /F /G
 /H /I /J /K
 /L /M /N /O
% 0x50
 /P /Q /R /S
 /T /U /V /W
 /X /Y /Z /bracketleft
 /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c
 /d /e /f /g
 /h /i /j /k
 /l /m /n /o
% 0x70
 /p /q /r /s
 /t /u /v /w
 /x /y /z /braceleft
 /bar /braceright /asciitilde /.notdef
% 0x80
 /Euro /integral /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /Omega /radical /approxequal
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /Delta /lozenge /Ydieresis
% 0xA0
 /.notdef /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot /hyphen /registered /macron
% 0xB0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde
 /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def


%%EndProcSet
%%BeginProcSet: texps.pro 0 0
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]FontType 0
ne{/Metrics exch def dict begin Encoding{exch dup type/integertype ne{
pop pop 1 sub dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get
div def}ifelse}forall Metrics/Metrics currentdict end def}{{1 index type
/nametype eq{exit}if exch pop}loop}ifelse[2 index currentdict end
definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{dup
sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1 roll
mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def dup[
exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}if}
forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}def
end

%%EndProcSet
%%BeginProcSet: special.pro 0 0
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/setpagedevice{pop}N/copypage{}N/p 3 def
@MacSetUp}N/doclip{psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll
newpath 4 copy 4 2 roll moveto 6 -1 roll S lineto S lineto S lineto
closepath clip newpath moveto}N/endTexFig{end psf$SavedState restore}N
/@beginspecial{SDict begin/SpecialSave save N gsave normalscale
currentpoint TR @SpecialDefaults count/ocount X/dcount countdictstack N}
N/@setspecial{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs
neg 0 rlineto closepath clip}if ho vo TR hsc vsc scale ang rotate
rwiSeen{rwi urx llx sub div rhiSeen{rhi ury lly sub div}{dup}ifelse
scale llx neg lly neg TR}{rhiSeen{rhi ury lly sub div dup scale llx neg
lly neg TR}if}ifelse CLIP 2 eq{newpath llx lly moveto urx lly lineto urx
ury lineto llx ury lineto closepath clip}if/showpage{}N/erasepage{}N
/setpagedevice{pop}N/copypage{}N newpath}N/@endspecial{count ocount sub{
pop}repeat countdictstack dcount sub{end}repeat grestore SpecialSave
restore end}N/@defspecial{SDict begin}N/@fedspecial{end}B/li{lineto}B
/rl{rlineto}B/rc{rcurveto}B/np{/SaveX currentpoint/SaveY X N 1
setlinecap newpath}N/st{stroke SaveX SaveY moveto}N/fil{fill SaveX SaveY
moveto}N/ellipse{/endangle X/startangle X/yrad X/xrad X/savematrix
matrix currentmatrix N TR xrad yrad scale 0 0 1 startangle endangle arc
savematrix setmatrix}N end

%%EndProcSet
%%BeginFont: CMMI10
%!PS-AdobeFont-1.1: CMMI10 1.100
%%CreationDate: 1996 Jul 23 07:53:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.100) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMMI10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.04 def
/isFixedPitch false def
end readonly def
/FontName /CMMI10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 60 /less put
dup 62 /greater put
readonly def
/FontBBox{-32 -250 1048 750}readonly def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA0529731C99A784CCBE85B4993B2EEBDE
3B12D472B7CF54651EF21185116A69AB1096ED4BAD2F646635E019B6417CC77B
532F85D811C70D1429A19A5307EF63EB5C5E02C89FC6C20F6D9D89E7D91FE470
B72BEFDA23F5DF76BE05AF4CE93137A219ED8A04A9D7D6FDF37E6B7FCDE0D90B
986423E5960A5D9FBB4C956556E8DF90CBFAEC476FA36FD9A5C8175C9AF513FE
D919C2DDD26BDC0D99398B9F4D03D5993DFC0930297866E1CD0A319B6B1FD958
9E394A533A081C36D456A09920001A3D2199583EB9B84B4DEE08E3D12939E321
990CD249827D9648574955F61BAAA11263A91B6C3D47A5190165B0C25ABF6D3E
6EC187E4B05182126BB0D0323D943170B795255260F9FD25F2248D04F45DFBFB
DEF7FF8B19BFEF637B210018AE02572B389B3F76282BEB29CC301905D388C721
59616893E774413F48DE0B408BC66DCE3FE17CB9F84D205839D58014D6A88823
D9320AE93AF96D97A02C4D5A2BB2B8C7925C4578003959C46E3CE1A2F0EAC4BF
8B9B325E46435BDE60BC54D72BC8ACB5C0A34413AC87045DC7B84646A324B808
6FD8E34217213E131C3B1510415CE45420688ED9C1D27890EC68BD7C1235FAF9
1DAB3A369DD2FC3BE5CF9655C7B7EDA7361D7E05E5831B6B8E2EEC542A7B38EE
03BE4BAC6079D038ACB3C7C916279764547C2D51976BABA94BA9866D79F13909
95AA39B0F03103A07CBDF441B8C5669F729020AF284B7FF52A29C6255FCAACF1
74109050FBA2602E72593FBCBFC26E726EE4AEF97B7632BC4F5F353B5C67FED2
3EA752A4A57B8F7FEFF1D7341D895F0A3A0BE1D8E3391970457A967EFF84F6D8
47750B1145B8CC5BD96EE7AA99DDC9E06939E383BDA41175233D58AD263EBF19
AFC0E2F840512D321166547B306C592B8A01E1FA2564B9A26DAC14256414E4C8
42616728D918C74D13C349F4186EC7B9708B86467425A6FDB3A396562F7EE4D8
40B43621744CF8A23A6E532649B66C2A0002DD04F8F39618E4F572819DD34837
B5A08E643FDCA1505AF6A1FA3DDFD1FA758013CAED8ACDDBBB334D664DFF5B53
95601766777978D01677B8D19E1B10A078432D2884BB4F7B8C3293B68BB78100
16724E495064BA0168CC86D413CB48560D6D318357397832F7A858CD82030C7D
8A4A1919716E8B26AFF8789AAF489EE4E0A88DC477551A87C7DF2856189E4596
FE015956AFE5CC019F5CA6323A12B763B7B08B92C1A2940D3C566C43729E5482
63C6DC5E834AEB4DAFB5AE8F0B8931A4687C94D11587B9071C8D81DA14F12776
53A1985A3EBE37827656BD4635E03F09C3231F906874645E7DB3E59045A59D67
E745D8487CF73FC50F64060544F624F357BC998A87FBE468DEBB38A09449EBCA
D041D7C29225ACD16CB8A59E87924D15A9125F064710A6CCCA3AD3103D8FCC94
CC3571C6F9192774FCFE5BB42A14B27960903144D28BF047BF4C77646EA7BF6F
440D4EDEB712C63F2E8080419E42D1D58EED685EB5CDD49F80DB6E5553B519FA
C6A39A093155802F3EC607721F390307E91ECB597ABA60A537E3F8C045BF5DD3
D88CF6518D37FCD95D2F295D902D617440D23516D962F47750A682A319ACE1
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 15 /bullet put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D1D12B51E641C1D4E8E2771864FC104F8CBF
5B78EC1D88228725F1C453A678F58A7E1B7BD7CA700717D288EB8DA1F57C4F09
0ABF1D42C5DDD0C384C7E22F8F8047BE1D4C1CC8E33368FB1AC82B4E96146730
DE3302B2E6B819CB6AE455B1AF3187FFE8071AA57EF8A6616B9CB7941D44EC7A
71A7BB3DF755178D7D2E4BB69859EFA4BBC30BD6BB1531133FD4D9438FF99F09
4ECC068A324D75B5F696B8688EEB2F17E5ED34CCD6D047A4E3806D000C199D7C
515DB70A8D4F6146FE068DC1E5DE8BC5703711DA090312BA3FC00A08C453C609
C627A8BECD6E1FA14A3B02476E90AAD8B4700C400380BC9AFFBF7847EB28661B
9DC3AA0F44C533F2E07DCC4DE19D367BF223E33DC321D0247A0E6EF6ABC8FA52
15AE044094EF678A8726CD7C011F02BFF8AB6EAEEE391AD837120823BED0B5D8
F8B15245377871A64F78378BB4330149D6941F7A86FBFFC49B93C94155F5FA7D
F22E7214511C0A92693F4CDBF38411651540572F2DD70D924AE0F18E1CD581F3
C871399127FF5D07A868885B5FF7CDEB50B8323B2533DEF8DC973B1AE84FA0A2

0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
TeXDict begin 39139632 55387786 1000 8000 8000 (interface.dvi)
@start /Fa 140[472 404 1[606 10[538 101[{
.167 SlantFont TeXBase1Encoding ReEncodeFont}4 1212.12
/Times-Roman rf /Fb 135[664 1[664 664 664 664 664 1[664
664 664 664 664 2[664 664 664 1[664 664 664 664 664 9[664
2[664 1[664 8[664 3[664 664 2[664 6[664 10[664 664 664
45[{TeXBase1Encoding ReEncodeFont}30 1106.96 /Courier
rf /Fc 193[943 1[943 60[{}2 1212.12 /CMMI10 rf /Fd 240[606
15[{}1 1212.12 /CMSY10 rf /Fe 134[664 1[959 664 739 442
517 590 1[739 664 739 1107 369 739 1[369 739 664 442
590 739 590 739 664 10[959 1[886 3[812 1[959 1254 4[1033
1033 2[959 1[886 9[664 1[664 1[664 664 664 664 2[332
46[{TeXBase1Encoding ReEncodeFont}38 1328.35 /Times-Bold
rf /Ff 119[531 10[531 1[531 531 531 531 531 531 531 531
531 531 531 531 531 531 531 531 531 1[531 531 531 531
531 531 531 531 531 1[531 1[531 1[531 1[531 531 531 531
531 531 531 531 531 531 531 531 531 531 531 531 531 531
531 531 531 531 531 531 531 531 531 531 1[531 531 531
531 531 531 531 1[531 531 531 531 531 531 531 531 531
531 531 531 531 531 3[531 531 34[{TeXBase1Encoding ReEncodeFont}82
885.568 /Courier rf /Fg 134[727 727 727 727 727 727 727
727 1[727 727 727 727 727 727 1[727 727 727 727 727 727
727 727 727 8[727 3[727 727 13[727 3[727 6[727 1[727
4[727 727 1[727 727 727 9[727 36[{TeXBase1Encoding ReEncodeFont}36
1212.12 /Courier rf /Fh 134[606 606 875 606 674 337 606
404 674 674 674 674 1010 269 606 1[269 674 674 337 674
674 606 674 674 9[1144 2[741 1[875 1[808 3[674 4[943
2[875 11[674 1[674 1[674 3[674 2[404 337 1[472 404 404
36[606 3[{TeXBase1Encoding ReEncodeFont}41 1212.12 /Helvetica
rf /Fi 134[797 797 1151 797 886 531 620 708 1[886 797
886 1328 443 886 1[443 886 797 531 708 886 708 886 797
8[1151 1594 1151 1151 1063 886 2[974 1240 1151 1505 3[620
1240 1240 1[1063 1151 1151 1063 1151 7[797 797 797 797
797 797 797 797 797 797 443 399 531 42[886 2[{
TeXBase1Encoding ReEncodeFont}55 1594.02 /Times-Bold
rf /Fj 134[538 1[808 538 606 337 472 472 1[606 606 606
875 337 2[337 606 606 337 538 606 538 606 606 8[741 2[875
7[1010 8[875 16[606 606 606 606 2[404 5[404 39[{
TeXBase1Encoding ReEncodeFont}31 1212.12 /Times-Italic
rf /Fk 135[1148 3[765 1[1019 1[1276 1[1276 4[638 1276
2[1019 1276 2[1148 29[1658 1[1658 7[1148 1148 1148 1148
1148 1148 1148 1148 1148 49[{TeXBase1Encoding ReEncodeFont}21
2295.84 /Times-Bold rf /Fl 104[1212 2[538 538 24[538
606 606 875 606 606 337 472 404 606 606 606 606 943 337
606 337 337 606 606 404 538 606 538 606 538 404 2[404
1[404 741 875 875 1144 875 875 741 674 808 875 674 875
875 1078 741 875 472 404 875 875 674 741 875 808 808
875 1[538 3[337 337 606 606 606 606 606 606 606 606 606
606 337 303 404 303 1[606 404 404 404 943 34[674 674
2[{TeXBase1Encoding ReEncodeFont}82 1212.12 /Times-Roman
rf /Fm 104[1212 28[538 606 606 875 606 674 404 472 538
674 674 606 674 1010 337 674 1[337 674 606 404 538 674
538 674 606 3[404 1[404 1[875 875 1212 875 875 808 674
875 943 741 943 875 1144 808 943 606 472 943 943 741
808 875 875 808 875 1127 5[404 606 606 606 606 606 606
606 606 606 606 337 303 404 303 4[404 35[674 674 2[{
TeXBase1Encoding ReEncodeFont}72 1212.12 /Times-Bold
rf /Fn 134[797 2[797 1[443 620 531 1[797 797 797 1240
3[443 797 797 531 708 797 708 797 708 8[1151 2[1151 974
8[1151 7[1063 13[797 2[797 1[797 2[531 399 2[531 531
40[{TeXBase1Encoding ReEncodeFont}30 1594.02 /Times-Roman
rf /Fo 135[1148 1[1148 3[765 2[1148 1148 7[765 1019 12[1658
31[1148 1[1148 2[1148 2[1148 1[574 46[{TeXBase1Encoding ReEncodeFont}13
2295.84 /Times-Roman rf /Fp 134[1377 2[1377 1531 917
1071 1223 1[1531 1377 1531 2294 766 2[766 1531 1377 917
1223 1531 1223 1531 1377 8[1988 1[1988 5[1683 2[2600
3[1071 2143 2143 1683 1837 1988 1988 1[1988 65[{
TeXBase1Encoding ReEncodeFont}32 2754.12 /Times-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 8000dpi
TeXDict begin
%%PaperSize: A4
 end
%%EndSetup
%%Page: 1 1
TeXDict begin 1 0 bop 6249 25074 a @beginspecial 155
@llx 324 @lly 445 @urx 461 @ury 2900 @rwi @setspecial
%%BeginDocument: figs/xenlogo.eps
%!PS-Adobe-3.0 EPSF-3.0
%%Creator: (ImageMagick)
%%Title: (/homes/kaf24/xenlogo.eps)
%%CreationDate: (Tue Oct 28 13:52:11 2003)
%%BoundingBox: 155 324 445 461
%%DocumentData: Clean7Bit
%%LanguageLevel: 1
%%Pages: 1
%%EndComments

%%BeginDefaults
%%EndDefaults

%%BeginProlog
%
% Display a color image.  The image is displayed in color on
% Postscript viewers or printers that support color, otherwise
% it is displayed as grayscale.
%
/DirectClassPacket
{
  %
  % Get a DirectClass packet.
  %
  % Parameters:
  %   red.
  %   green.
  %   blue.
  %   length: number of pixels minus one of this color (optional).
  %
  currentfile color_packet readhexstring pop pop
  compression 0 eq
  {
    /number_pixels 3 def
  }
  {
    currentfile byte readhexstring pop 0 get
    /number_pixels exch 1 add 3 mul def
  } ifelse
  0 3 number_pixels 1 sub
  {
    pixels exch color_packet putinterval
  } for
  pixels 0 number_pixels getinterval
} bind def

/DirectClassImage
{
  %
  % Display a DirectClass image.
  %
  systemdict /colorimage known
  {
    columns rows 8
    [
      columns 0 0
      rows neg 0 rows
    ]
    { DirectClassPacket } false 3 colorimage
  }
  {
    %
    % No colorimage operator;  convert to grayscale.
    %
    columns rows 8
    [
      columns 0 0
      rows neg 0 rows
    ]
    { GrayDirectClassPacket } image
  } ifelse
} bind def

/GrayDirectClassPacket
{
  %
  % Get a DirectClass packet;  convert to grayscale.
  %
  % Parameters:
  %   red
  %   green
  %   blue
  %   length: number of pixels minus one of this color (optional).
  %
  currentfile color_packet readhexstring pop pop
  color_packet 0 get 0.299 mul
  color_packet 1 get 0.587 mul add
  color_packet 2 get 0.114 mul add
  cvi
  /gray_packet exch def
  compression 0 eq
  {
    /number_pixels 1 def
  }
  {
    currentfile byte readhexstring pop 0 get
    /number_pixels exch 1 add def
  } ifelse
  0 1 number_pixels 1 sub
  {
    pixels exch gray_packet put
  } for
  pixels 0 number_pixels getinterval
} bind def

/GrayPseudoClassPacket
{
  %
  % Get a PseudoClass packet;  convert to grayscale.
  %
  % Parameters:
  %   index: index into the colormap.
  %   length: number of pixels minus one of this color (optional).
  %
  currentfile byte readhexstring pop 0 get
  /offset exch 3 mul def
  /color_packet colormap offset 3 getinterval def
  color_packet 0 get 0.299 mul
  color_packet 1 get 0.587 mul add
  color_packet 2 get 0.114 mul add
  cvi
  /gray_packet exch def
  compression 0 eq
  {
    /number_pixels 1 def
  }
  {
    currentfile byte readhexstring pop 0 get
    /number_pixels exch 1 add def
  } ifelse
  0 1 number_pixels 1 sub
  {
    pixels exch gray_packet put
  } for
  pixels 0 number_pixels getinterval
} bind def

/PseudoClassPacket
{
  %
  % Get a PseudoClass packet.
  %
  % Parameters:
  %   index: index into the colormap.
  %   length: number of pixels minus one of this color (optional).
  %
  currentfile byte readhexstring pop 0 get
  /offset exch 3 mul def
  /color_packet colormap offset 3 getinterval def
  compression 0 eq
  {
    /number_pixels 3 def
  }
  {
    currentfile byte readhexstring pop 0 get
    /number_pixels exch 1 add 3 mul def
  } ifelse
  0 3 number_pixels 1 sub
  {
    pixels exch color_packet putinterval
  } for
  pixels 0 number_pixels getinterval
} bind def

/PseudoClassImage
{
  %
  % Display a PseudoClass image.
  %
  % Parameters:
  %   class: 0-PseudoClass or 1-Grayscale.
  %
  currentfile buffer readline pop
  token pop /class exch def pop
  class 0 gt
  {
    currentfile buffer readline pop
    token pop /depth exch def pop
    /grays columns 8 add depth sub depth mul 8 idiv string def
    columns rows depth
    [
      columns 0 0
      rows neg 0 rows
    ]
    { currentfile grays readhexstring pop } image
  }
  {
    %
    % Parameters:
    %   colors: number of colors in the colormap.
    %   colormap: red, green, blue color packets.
    %
    currentfile buffer readline pop
    token pop /colors exch def pop
    /colors colors 3 mul def
    /colormap colors string def
    currentfile colormap readhexstring pop pop
    systemdict /colorimage known
    {
      columns rows 8
      [
        columns 0 0
        rows neg 0 rows
      ]
      { PseudoClassPacket } false 3 colorimage
    }
    {
      %
      % No colorimage operator;  convert to grayscale.
      %
      columns rows 8
      [
        columns 0 0
        rows neg 0 rows
      ]
      { GrayPseudoClassPacket } image
    } ifelse
  } ifelse
} bind def

/DisplayImage
{
  %
  % Display a DirectClass or PseudoClass image.
  %
  % Parameters:
  %   x & y translation.
  %   x & y scale.
  %   label pointsize.
  %   image label.
  %   image columns & rows.
  %   class: 0-DirectClass or 1-PseudoClass.
  %   compression: 0-none or 1-RunlengthEncoded.
  %   hex color packets.
  %
  gsave
  /buffer 512 string def
  /byte 1 string def
  /color_packet 3 string def
  /pixels 768 string def

  currentfile buffer readline pop
  token pop /x exch def
  token pop /y exch def pop
  x y translate
  currentfile buffer readline pop
  token pop /x exch def
  token pop /y exch def pop
  currentfile buffer readline pop
  token pop /pointsize exch def pop
  /Times-Roman findfont pointsize scalefont setfont
  x y scale
  currentfile buffer readline pop
  token pop /columns exch def
  token pop /rows exch def pop
  currentfile buffer readline pop
  token pop /class exch def pop
  currentfile buffer readline pop
  token pop /compression exch def pop
  class 0 gt { PseudoClassImage } { DirectClassImage } ifelse
  grestore
} bind def
%%EndProlog
%%Page:  1 1
%%PageBoundingBox: 155 324 445 461
userdict begin
DisplayImage
155 324
289.992 137.145
12.000000
302 143
1
1
1
8
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8e6
d4cec2b6b6aa9e9e9e9e9e9e9e9eb6b6b6c8cee0e6ffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffff2e0c8b6a49e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
aabccee6ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffff8e0c2aa9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eb6ceecffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffff8dabc9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
aac8ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffe0bc9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eaac8f2ffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffff8ceaa9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eb6e0
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffff2c29e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9eaadaffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffff2c29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eaadaffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffff8c29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9eaadaffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffcea49e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eb6e6ffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffe6aa9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9ec2f8ffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffff8c29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea4e0ffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe6aa9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea1acb6bac4c8c8d6d6d6d6d6d6
d6cfc8c8bdbaafa89e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9ebcf8ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffc89e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea8b6c4
cfd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c8bdafa19e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eaaecffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffff8b09e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9ea1afc1d2d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6cbbaa89e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ed4ffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeca49e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eafc1d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6cfbaa59e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9ec2f8ffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffda9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea1bacfd6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6c8af9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eb0f8ffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffc89e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9ea5c1d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6cfb39e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9ea4ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc29e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea5c1d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6cf
b39e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea4ecffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffc29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea1bdd6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6cfaf9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea4
daffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffc29e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9eb3d2d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c8a59e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9edaffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffc29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea5c8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d2b69e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9edaffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffc29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eb3d2d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c8a59e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9ea4ecffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffc29e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9ea1c4d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d2af9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea4ecffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffda9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea8cbd6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6bd9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9ea4f8ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffe09e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eafd2
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
c8a19e9e9e9e9e9e9e9e9e9e9e9e9e9e9eb0f8ffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeca49e9e9e9e
9e9e9e9e9e9e9e9e9e9e9eb3d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6cba89e9e9e9e9e9e9e9e9e9e9e9e9e9e9ec2ffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffff8b09e9e9e9e9e9e9e9e9e9e9e9e9e9e9ec1d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d2a89e9e9e9e
9e9e9e9e9e9e9e9e9e9e9ed4ffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffc29e9e9e9e9e9e9e9e9e9e9e9e9e9e
9ec1d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d2a89e9e9e9e9e9e9e9e9e9e9e9e9e9e9eecffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffda9e
9e9e8027272727272727272727272b353535353535353535353535353535353535353535
353535353535add6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c85035353535353535322727272727272727272727
272727272d3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f5fefffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffff2a49e9e9e9e45000000000000000000000000000000000000
00000000000000000000000000000000000000001ac8d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad28000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00003fefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffb69e9e9e9e9e9e27000000
000000000000000000000000000000000000000000000000000000000000000000000050
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6930d0000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000007fffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffd49e9e9e9e9e9e9e9413000000000000000000000000000000000000000000000000
000000000000000000000000000085d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d66b0000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000fbfffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffff8a49e9e9e9e9e9e9e9e8009000000000000000000
000000000000000000000000000000000000000000000000000000000dadd6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c83500000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000002fdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc29e9e9e9e9e9e
9e9e9e9e6200000000000000000000000000000000000000000000000000000000000000
0000000000000028c8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6ad1a000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000006fffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffe69e9e9e9e9e9e9e9e9e9e9e9e4500000000000000000000000000000000
0000000000000000000000000000000000000000000050d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6850d0000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000fafffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffb69e9e9e9e9e9e9e9e9e9e9e9e9e2b00
000000000000000000000000000000000000000000000000000000000000000000000000
0085d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d65d0000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000002fcfffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09e9e
9e9e9e9e9e9e9e9e9e9e9ea8c81a00000000000000000000000000000000000000000000
0000000000000000000000000000000dadd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6c83500000000000000000000000000000000000000000000000000
000000000000000000000000000000000000005fefffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffaa9e9e9e9e9e9e9e9e9e9e9e9e9ecbd6ad0d00000000000000
00000000000000000000000000000000000000000000000000000000000028d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad1a000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000009fffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffda9e9e9e9e9e9e9e9e9e9e9e
9e9ebad6d6d6850000000000000000000000000000000000000000000000000000000000
0000000000000000005dd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d685
0d0000000000000000000000000000000000000000000000000000000000000000000000
00000000000000001fcfffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffaa9e9e9e9e9e9e9e9e9e9e9e9ea5d6d6d6d6d65d0000000000000000000000000000
00000000000000000000000000000000000000000000000093d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d65d0000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000049efffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffe69e9e9e9e9e9e9e9e9e9e9e9e9ec8d6d6d6d6d6d6
350000000000000000000000000000000000000000000000000000000000000000000000
00000dbbd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c83500000000000000000000
000000000000000000000000000000000000000000000000000000000000000000004faa
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffb69e9e9e9e9e9e
9e9e9e9e9e9eacd6d6d6d6d6d6d6c81a0000000000000000000000000000000000000000
000000000000000000000000000000000028d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6ad1a000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000009769e9ee0ffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffff29e9e9e9e9e9e9e9e9e9e9e9e9ecbd6d6d6d6d6d6d6d6ad0d0000000000
00000000000000000000000000000000000000000000000000000000000000005dd6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6850d0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000001d949e9e9eb6ffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffc29e9e9e9e9e9e9e9e9e9e9e9eb3d6d6
d6d6d6d6d6d6d6d685000000000000000000000000000000000000000000000000000000
000000000000000000000093d6d6d6d6d6d6d6d6d6d6d6d6d6d6d65d0000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
459e9e9e9e9e9ef2ffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa49e
9e9e9e9e9e9e9e9e9e9e9ecfd6d6d6d6d6d6d6d6d6d6d65d000000000000000000000000
000000000000000000000000000000000000000000000000000dbbd6d6d6d6d6d6d6d6d6
d6d6d6c83500000000000000000000000000000000000000000000000000000000000000
000000000000000000000000096c9e9e9e9e9e9e9ec8ffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffda9e9e9e9e9e9e9e9e9e9e9e9eacd6d6d6d6d6d6d6d6d6d6d6
d6d635000000000000000000000000000000000000000000000000000000000000000000
0000000035d6d6d6d6d6d6d6d6d6d6d6ad1a000000000000000000000000000000000000
000000000000000000000000000000000000000000000000001d8a9e9e9e9e9e9e9e9eaa
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffbc9e9e9e9e9e9e9e9e9e9e
9e9ec8d6d6d6d6d6d6d6d6d6d6d6d6d6c81a000000000000000000000000000000000000
000000000000000000000000000000000000006bd6d6d6d6d6d6d6d6d6850d0000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00003b949e9e9e9e9e9e9e9e9e9ee0ffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffff89e9e9e9e9e9e9e9e9e9e9e9ea5d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad0d000000
00000000000000000000000000000000000000000000000000000000000000000000a0d6
d6d6d6d6d6d65d0000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000d7b9e9e9e9e9e9e9e9e9e9e9e9ec2ffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffda9e9e9e9e9e9e9e9e9e9e9e9ebdd6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d68500000000000000000000000000000000000000000000000000
0000000000000000000000000dc8d6d6d6d6c83500000000000000000000000000000000
0000000000000000000000000000000000000000000000000000001aadd6a59e9e9e9e9e
9e9e9e9e9e9ea4ffffffffffffffdfbf8f7f5f3f3f1f0000000000000000000000000000
001f3f3f5f7f8fbfcfffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbc9e9e9e9e9e
9e9e9e9e9e9e9ed2d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d65000000000000000000000
00000000000000000000000000000000000000000000000000000035d6d6d6ad0d000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000042c8d6d6bd9e9e9e9e9e9e9e9e9e9e9e9ee6ffcf9f5f3f000000000000000000
0000000000000000000000000000000000000000000000002f5f8fcfffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbf8f7f
3f3f0f000000000000000000003f3f7f9fdfffffffffffffffffffffffffffffffffffff
ffffffffffffffffa49e9e9e9e9e9e9e9e9e9e9eafd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d62800000000000000000000000000000000000000000000000000000000000000
0000000000006bd685000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000078d6d6d6d6cf9e9e9e9e9e9e9e9e9e9e9e6c47
1f0000000000000000000000000000000000000000000000000000000000000000000000
0000000000000f4f9fdfffffffffffffffffffffffffffffffffffffffffffffffffffff
ffbf3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3fefffffffffff
ffffffffffffffaf6f2f000000000000000000000000000000000000000000001f6fcfff
ffffffffffffffffffffffffffffffffffffffffffe69e9e9e9e9e9e9e9e9e9e9e9ec1d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c80d00000000000000000000000000000000
000000000000000000000000000000000000000000350000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000da0d6d6d6d6d6
d6a89e9e9e9e9e9e9e763b09000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000004f9fffffffffffffffffffff
ffffffffffffffffffffffffffffff6f0000000000000000000000000000000000000000
000000000000001fffffffffffffffffffff9f4f00000000000000000000000000000000
000000000000000000000000003fafffffffffffffffffffffffffffffffffffffffffce
9e9e9e9e9e9e9e9e9e9e9e9ed2d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad0000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000035c8d6d6d6d6d6d6d6bd9e9e9e9e94621300000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000f7fefffffffffffffffffffffffffffffffffffffffffffff3f000000000000
0000000000000000000000000000000000000000004fffffffffffffffdf6f0f00000000
00000000000000000000000000000000000000000000000000000000003fdfffffffffff
ffffffffffffffffffffffffffb69e9e9e9e9e9e9e9e9e9e9eafd6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6850000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000005dd6d6d6d6d6d6d6d6d6cf9e9e944f0900
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000f8fffffffffffffffffffffffffffff
ffffffffffffff000000000000000000000000000000000000000000000000000000008f
ffffffffffdf5f0000000000000000000000000000000000000000000000000000000000
00000000000000000f9fffffffffffffffffffffffffffffffffff9e9e9e9e9e9e9e9e9e
9e9e9ebdd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6500000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000d93d6d6d6
d6d6d6d6d6d6d6d69b4f0900000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
2fcfffffffffffffffffffffffffffffffffffffbf000000000000000000000000000000
00000000000000000000000000bfffffffef5f0000000000000000000000000000000000
0000000000000000000000000000000000000000000000009fffffffffffffffffffffff
ffffffffe69e9e9e9e9e9e9e9e9e9e9e9ecbd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6280000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000028bbd6d6d6d6d6d6d6d6d6d6d6850d00000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000f9fffffffffffffffffffffffffffffffffff8f00
000000000000000000000000000000000000000000000000000000ffffff8f0f00000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000009fffffffffffffffffffffffffffffd49e9e9e9e9e9e9e9e9e9e9ea1d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c80d0000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000050c8d6d6d6d6d6d6d6d6d6d6ad3500
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000006fffffffff
ffffffffffffffffffffffff5f0000000000000000000000000000000000000000000000
000000003fffef3f00000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000bfffffffffffffffffffffffffffc89e9e9e
9e9e9e9e9e9e9e9eafd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000d85d6
d6d6d6d6d6d6d6d6d6d66b00000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000005fffffffffffffffffffffffffffffff1f000000000000000000
0000000000000000000000000000000000006fbf0f000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000001fffffff
ffffffffffffffffffffb69e9e9e9e9e9e9e9e9e9e9ebad6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d685000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000028add6d6d6d6d6d6d6d6d6d6c835000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000005fffffffffffffffffffff
ffffffef000000000000000000000000000000000000000000000000000000003f000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000009fffffffffffffffffffffffffa49e9e9e9e9e9e9e9e9e9e9e
c8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d650000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000042c8d6d6d6d6d6d6d6d6d6d6ad
0d0000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000007fffffffffffffffffffffffffaf000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000002fffffffffffffffffffff
ffff9e9e9e9e9e9e9e9e9e9e9e9ed2d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d628000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
78d6d6d6d6d6d6d6d6d6d6d6850000000000000000000000000000000000000000000000
000000000000000000000000001f3f3f3f3f3f3f00000000000000000000000000000000
00000000000000000000000000000000000000bfffffffffffffffffffffff7f00000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000dfffffffffffffffffffffe69e9e9e9e9e9e9e9e9e9e9e9ed6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c80d000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000dadd6d6d6d6d6d6d6d6d6d6d68500000000000000000000
00000000000000000000000000000000000000000000000f5fafefffffffffffffffffcf
8f2f000000000000000000000000000000000000000000000000000000000000001fefff
ffffffffffffffffff3f0000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000bfffffffffffffffffffffe69e9e9e9e9e9e
9e9e9e9e9eacd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6ad00000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000035c8d6d6d6d6d6d6d6d6d6
d6d68500000000000000000000000000000000000000000000000000000000000000001f
9fffffffffffffffffffffffffffffffbf3f000000000000000000000000000000000000
0000000000000000000000007fffffffffffffffffffff0f000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000009fffffff
ffffffffffffffce9e9e9e9e9e9e9e9e9e9e9eacd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d68500000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00006bd6d6d6d6d6d6d6d6d6d6d6d6930000000000000000000000000000000000000000
00000000000000000000000f8fffffffffffffffffffffffffffffffffffffff8f000000
00000000000000000000000000000000000000000000000000000fefffffffffffffffff
cf0000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000008fffffffffffffffffffffce9e9e9e9e9e9e9e9e9e9e9ebad6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d65000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000d93d6d6d6d6d6d6d6d6d6d6d6d6ad0d000000000000
0000000000000000000000000000000000000000000000002fdfffffffffffffffffffff
ffffffffffffffffffffff9f000000000000000000000000000000000000000000000000
00000000008fffffffffffffffff9f000000000000000000000000000000000000000000
00000000000000000000000000000000000000003f3f3f3f3f0f00000000000000000000
000000000000000000000000000000000000000000000000bfffffffffffffffffffffce
9e9e9e9e9e9e9e9e9e9e9ebad6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d62800000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000028bbd6d6d6d6d6d6d6
d6d6d6d6d6c81a0000000000000000000000000000000000000000000000000000000000
005fefffffffffffffffffffffffffffffffffffffffffffffff3f000000000000000000
000000000000000000000000000000000000002fffffffffffffffff5f00000000000000
0000000000000000000000000000000000000000000000000000000000001f6fcfffffff
ffffffffaf2f000000000000000000000000000000000000000000000000000000000000
0000bfffffffffffffffffffffbc9e9e9e9e9e9e9e9e9e9e9ebad6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c80d00000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000050d6d6d6d6d6d6d6d6d6d6d6d6d6d64200000000000000000000000000000000
00000000000000000000000000005fffffffffffffffffffffffffffffffffffffffffff
ffffffffaf0000000000000000000000000000000000000000000000000000000000efff
ffffffffffff2f0000000000000000000000000000000000000000000000000000000000
0000000000000f9fffffffffffffffffffffffef2f000000000000000000000000000000
00000000000000000000000000000000cfffffffffffffffffffffb69e9e9e9e9e9e9e9e
9e9e9ec8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6ad0000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000d85d6d6d6d6d6d6d6d6d6d6d6d6d6d693000000
0000000000000000000000000000000000000000000000000000002fefffffffffffffff
ffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000
000000000000000000000000bfffffffffffffff00000000000000000000000000000000
000000000000000000000000000000000000004fefffffffffffffffffffffffffffaf00
000000000000000000000000000000000000000000000000000000000000ffffffffffff
ffffffffffb69e9e9e9e9e9e9e9e9e9e9ec8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6780000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000028add6d6d6d6d6
d6d6d6d6d6d6d6d6d6d61a00000000000000000000000000000000000000000000000000
000000000fcfffffffffffffffffffffffffffffffffffffffffffffffffffffff1f0000
00000000000000000000000000000000000000000000000000007fffffffffffffbf0000
00000000000000000000000000000000000000000000000000000000000000008fffffff
ffffffffffffffffffffffffff0000000000000000000000000000000000000000000000
000000000000001fffffffffffffffffffffffb69e9e9e9e9e9e9e9e9e9e9ec8d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad1a000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000042c8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d66b000000000000000000000000
0000000000000000000000000000000000007fffffffffffffffffffffffffffffffffff
ffffffffffffffffffffff1f000000000000000000000000000000000000000000000000
000000007fffffffffffff7f000000000000000000000000000000000000000000000000
0000000000000000009fffffffffffffffffffffffffffffffffff000000000000000000
0000000000000000000000000000000000000000003fffffffffffffffffffffffb69e9e
9e9e9e9e9e9e9e9e9ec8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d685000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000078d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d60d00000000000000000000000000000000000000000000000000000000001fffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000
0000000000000000000000000000000000004fffffffffffff4f00000000000000000000
000000000000000000000000000000000000000000006fffffffffffffffffffffffffff
ffffffffff0000000000000000000000000000000000000000000000000000000000007f
ffffffffffffffffffffffb69e9e9e9e9e9e9e9e9e9e9ec8d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c8500000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000001aadd6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d685000000000000000000000000000000000000000000
0000000000000000009fffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffbf00000000000000000000000000000000000000000000000000000000003fffffff
ffffff0f000000000000000000000000000000000000000000000000000000000000003f
ffffffffffffffffffffffffffffffffffffcf0000000000000000000000000000000000
00000000000000000000000000afffffffffffffffffffffffb69e9e9e9e9e9e9e9e9e9e
9ec8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad2800
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000001ac8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d62800000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000007fffffffffffdf00000000000000000000000000000000000000
0000000000000000000000000fdfffffffffffffffffffffffffffffffffffffaf000000
000000000000000000000000000000000000000000000000000000cfffffffffffffffff
ffffffb69e9e9e9e9e9e9e9e9e9e9ec8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6930d000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000a0d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6bb000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000007fffffffffffaf0000000000
00000000000000000000000000000000000000000000000000007fffffffffffffffffff
ffffffffffffffffffff7f00000000000000000000000000000000000000000000000000
0000000000ffffffffffffffffffffffffbc9e9e9e9e9e9e9e9e9e9e9ebad6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d65d000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000dc8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d68500000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000afffffffffff6f000000000000000000000000000000000000000000000000000000
0000000fefffffffffffffffffffffffffffffffffffffff3f0000000000000000000000
0000000000000000000000000000000000003fffffffffffffffffffffffffce9e9e9e9e
9e9e9e9e9e9e9ebad6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c8
280000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000028d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6500000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000cfffffffffff3f00000000000000000000000000
00000000000000000000000000000000007fffffffffffffffffffffffffffffffffffff
ffff0f00000000000000000000000000000000000000000000000000000000007fffffff
ffffffffffffffffffce9e9e9e9e9e9e9e9e9e9e9ebad6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6a00d00000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000005dd6d6d6d6
d6d6d6d6d6d6d6d6d6d6d635000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000ffffffffffff
00000000000000000000000000000000000000000000000000000000000000dfffffffff
ffffffffffffffffffffffffffffffdf0000000000000000000000000000000000000000
00000000000000000000afffffffffffffffffffffffffce9e9e9e9e9e9e9e9e9e9e9eac
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d66b00000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000093d6d6d6d6d6d6d6d6d6d6d6d6d6d60000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000003fffffffffffbf00000000000000000000000000000000000000000000
00000000000000004fffffffffffffffffffffffffffffffffffffffffaf000000000000
000000000000000000000000000000000000000000000000dfffffffffffffffffffffff
ffe69e9e9e9e9e9e9e9e9e9e9eacd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6c835000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000dbbd6d6d6d6d6d6d6d6d6d6
d6d6d6000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000006fffffffffff8f0000000000000000
000000000000000000000000000000000000000000009fffffffffffffffffffffffffff
ffffffffffffff7f00000000000000000000000000000000000000000000000000000000
000fffffffffffffffffffffffffffe69e9e9e9e9e9e9e9e9e9e9e9ed6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad1a0000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000028c8d6d6d6d6d6d6d6d6d6d6d6d600000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000af
ffffffffff5f000000000000000000000000000000000000000000000000000000000000
efffffffffffffffffffffffffffffffffffffffff3f0000000000000000000000000000
0000000000000000000000000000004fffffffffffffffffffffffffffff9e9e9e9e9e9e
9e9e9e9e9e9ed2d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6780000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000050d6d6d6d6d6d6d6d6d6d6d6d60000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000dfffffffffff1f00000000000000000000000000000000
000000000000000000000000002fffffffffffffffffffffffffffffffffffffffffff0f
00000000000000000000000000000000000000000000000000000000007fffffffffffff
ffffffffffffffffa49e9e9e9e9e9e9e9e9e9e9ec8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6c85000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000085d6d6
d6d6d6d6d6d6d6d6d6000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000001fffffffffffef000000
0000000000000000000000000000000000000000000000000000006fffffffffffffffff
ffffffffffffffffffffffffdf0000000000000000000000000000000000000000000000
00000000000000bfffffffffffffffffffffffffffffb69e9e9e9e9e9e9e9e9e9e9ebad6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad28000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000dadd6d6d6d6d6d6d6d6d6d600000000000000000000000000
0000000000000000000000000000000027737f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f
7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f
7f7f7f7f9fffffffffffaf00000000000000000000000000000000000000000000000000
00000000009fffffffffffffffffffffffffffffffffffffffff9f000000000000000000
000000000000000000000000000000000000000000efffffffffffffffffffffffffffff
c89e9e9e9e9e9e9e9e9e9e9eafd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6850d0000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000028c8d6d6d6d6d6d6d6d6
d60d000000000000000000000000000000000000000000000000000000003becffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000
00000000000000000000000000000000000000cfffffffffffffffffffffffffffffffff
ffffffff6f00000000000000000000000000000000000000000000000000000000002fff
ffffffffffffffffffffffffffffd49e9e9e9e9e9e9e9e9e9e9ea1d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d65d0000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000050d6d6d6d6d6d6d6d6d6350000000000000000000000000000000000000000
00000000000000001dffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffff3f00000000000000000000000000000000000000000000000000000000000fffffff
ffffffffffffffffffffffffffffffffffff3f0000000000000000000000000000000000
0000000000000000000000005fffffffffffffffffffffffffffffffe69e9e9e9e9e9e9e
9e9e9e9e9ecbd6d6d6d6d6d6d6d6d6d6d6d6bb2800000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000078d6d6d6d6d6d6d6d66b000000000000
0000000000000000000000000000000000000000000000dfffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffff0f00000000000000000000000000000000000000
000000000000000000003fffffffffffffffffffffffffffffffffffffffffff00000000
00000000000000000000000000000000000000000000000000008fffffffffffffffffff
ffffffffffffff9e9e9e9e9e9e9e9e9e9e9e9ebdd6d6d6d6d6d6d6d6d6d6d6a00d000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000ad
d6d6d6d6d6d6d6a000000000000000000000000000000000000000000000000000000000
006fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcf000000000000
0000000000000000000000000000000000000000000000007fffffffffffffffffffffff
ffffffffffffffffffbf0000000000000000000000000000000000000000000000000000
00000000cfffffffffffffffffffffffffffffffffb69e9e9e9e9e9e9e9e9e9e9eafd6d6
d6d6d6d6d6d6d6d66b000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000001ac8d6d6d6d6d6d6d60d00000000000000000000000000
0000000000000000000000000000000fdfffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffff9f00000000000000000000000000000000000000000000000000000000
0000bfffffffffffffffffffffffffffffffffffffffff8f000000000000000000000000
000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffce
9e9e9e9e9e9e9e9e9e9e9e9ed2d6d6d6d6d6d6d6c8350000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000042d6d6d6d6d6d6d6
6b00000000000000000000000000000000000000000000000000000000003fffffffffff
ffffffffffffffffffffffffffffffffffffffcf3f3f3f3f5f7f7f7fafbfbfbfffffffff
ffffffffffffffffffffffffffffffffffffffffff5f0000000000000000000000000000
00000000000000000000000000000000efffffffffffffffffffffffffffffffffffffff
ff5f00000000000000000000000000000000000000000000000000000000003fffffffff
ffffffffffffffffffffffffffe69e9e9e9e9e9e9e9e9e9e9e9ec1d6d6d6d6d6d6ad0d00
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000006bd6d6d6d6d6d6bb000000000000000000000000000000000000000000
0000000000000000005fffffffffffffffffffffffffffffffffffffffffffffaf0f0000
000000000000000000000000000f3f3f3f5f7f7f7fafbfbfbfffffffffffffffffffff2f
00000000000000000000000000000000000000000000000000000000001fffffffffffff
ffffffffffffffffffffffffffffff1f0000000000000000000000000000000000000000
0000000000000000006fffffffffffffffffffffffffffffffffffffa49e9e9e9e9e9e9e
9e9e9e9eafd6d6d6d6d67800000000000000000000000000000000000000000000000000
000000000000000000000000000000000000005d35000000000000000000000000000000
00000000000000000000000000000000000000000000a0d6d6d6d6d6d65d000000000000
0000000000000000000000000000000000000000000000004fefffffffffffffffffffff
ffffffffffffffffdf4f0000000000000000000000000000000000000000000000000000
00000000003fffffffffffffff0000000000000000000000000000000000000000000000
000000000000005fffffffffffffffffffffffffffffffffffffffffef00000000000000
0000000000000000000000000000000000000000000000afffffffffffffffffffffffff
ffffffffffffbc9e9e9e9e9e9e9e9e9e9e9e9ed2d6d6c842000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000085d6c80d
000000000000000000000000000000000000000000000000000000000000000000000000
0dc8d6d6d6d6d6c80d000000000000000000000000000000000000000000000000000000
0000000f7fefffffffffffffffffffffffffffffcf5f0000000000000000000000000000
0000000000000000000000000000000000002fefffffffffffffbf000000000000000000
0000000000000000000000000000000000000000008fffffffffffffffffffffffffffff
ffffffffffffbf0000000000000000000000000000000000000000000000000000000000
00dfffffffffffffffffffffffffffffffffffffda9e9e9e9e9e9e9e9e9e9e9e9ebdd6ad
280000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000dadd6d6d69300000000000000000000000000000000000000000000
00000000000000000000000000000035d6d6d6d6d6d69300000000000000000000000000
000000000000000000000000000000000000000f4f8fbfffffffffffffffbf9f6f1f0000
000000000000000000000000000000000000000000000000000000000000000fefffffff
ffffffff7f000000000000000000000000000000000000000000000000000000000000cf
ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000
00000000000000000000000000000ffffffffffffffffffffffffffffffffffffffff89e
9e9e9e9e9e9e9e9e9e9e9ea5850d00000000000000000000000000000000000000000000
00000000000000000000000000000000000000000028c8d6d6d6d6d64200000000000000
0000000000000000000000000000000000000000000000000000000000005dd6d6d6d6d6
d65d00000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000fcfffffffffffffffff4f0000000000000000000000000000000000
00000000000000000000000000ffffffffffffffffffffffffffffffffffffffffff3f00
000000000000000000000000000000000000000000000000000000004fffffffffffffff
ffffffffffffffffffffffffffbc9e9e9e9e9e9e9e9e9e9e9e3b00000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000050d6
d6d6d6d6d6d6c81a00000000000000000000000000000000000000000000000000000000
00000000000000000093d6d6d6d6d6d65000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000002fdfffffffffffffffffff0f000000
00000000000000000000000000000000000000000000000000003fffffffffffffffffff
ffffffffffffffffffffffff0f0000000000000000000000000000000000000000000000
0000000000007fffffffffffffffffffffffffffffffffffffffffda9e9e9e9e9e9e9e9e
9e8a1d000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000078d6d6d6d6d6d6d6d6d6a00000000000000000000000000000
00000000000000000000000000000000000000000000000dbbd6d6d6d6d6c82800000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000003fef
ffffffffffffffffffdf0000000000000000000000000000000000000000000000000000
000000006fffffffffffffffffffffffffffffffffffffffffdf00000000000000000000
0000000000000000000000000000000000000000bfffffffffffffffffffffffffffffff
ffffffffffffa49e9e9e9e9e9e9e6c090000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000da0d6d6d6d6d6d6d6d6d6d6d6
5d0000000000000000000000000000000000000000000000000000000000000000000000
000028d6d6d6d6d6d6c85000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000006fffffffffffffffffffffffaf000000000000000000000000
000000000000000000000000000000000000afffffffffffffffffffffffffffffffffff
ffffff9f000000000000000000000000000000000000000000000000000000000000efff
ffffffffffffffffffffffffffffffffffffffffc29e9e9e9e9e9e450000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
28add6d6d6d6d6d6d6d6d6d6d6d6d6280000000000000000000000000000000000000000
00000000000000000000000000000000005dd6d6d6d6d6d6d65d00000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000fbfffffffffffffffffffffff
ff6f000000000000000000000000000000000000000000000000000000000000dfffffff
ffffffffffffffffffffffffffffffffff6f000000000000000000000000000000000000
00000000000000000000002ffffffffffffffffffffffffffffffffffffffffffffff29e
9e9e9e942700000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000042c8d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad000000000000
000000000000000000000000000000000000000000000000000000000000000085d6d6d6
d6d6d6d6850d000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
6fefffffffffffffffffffffffffff3f0000000000000000000000000000000000000000
0000000000000000001fffffffffffffffffffffffffffffffffffffffffff3f00000000
000000000000000000000000000000000000000000000000005fffffffffffffffffffff
ffffffffffffffffffffffffffb69e9e7609000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000006bd6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d678000000000000000000000000000000000000000000000000000000
000000000000000000000dadd6d6d6d6d6d6d6bb35000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000003fcfffffffffffffffffffffffffffffff00000000000000
00000000000000000000000000000000000000000000004fffffffffffffffffffffffff
ffffffffffffffffff000000000000000000000000000000000000000000000000000000
0000008fffffffffffffffffffffffffffffffffffffffffffffffe69e58000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000d85d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d635000000000000000000000000
0000000000000000000000000000000000000000000000000028c8d6d6d6d6d6d6d6ac6c
130000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000003fbfffffffffffffffffffff
ffffffffffffbf0000000000000000000000000000000000000000000000000000000000
007fffffffffffffffffffffffffffffffffffffffffbf00000000000000000000000000
0000000000000000000000000000000000bfffffffffffffffffffffffffffffffffffff
ffffffffffef310000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000001aadd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6bb0d000000000000000000000000000000000000000000000000000000000000000000
0000000050d6d6d6d6d6d6c49e9e9e6c2700000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000f
6fdfffffffffffffffffffffffffffffffffffff8f000000000000000000000000000000
000000000000000000000000000000bfffffffffffffffffffffffffffffffffffffffff
8f000000000000000000000000000000000000000000000000000000000000ffffffffff
ffffffffffffffffffffffffffffffffffffcf1f00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000028c8d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d69300000000000000000000000000000000000000
0000000000000000000000000000000000000085d6d6d6d6d2a59e9e9e9e9e8a45130000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000f5fafffffffffffffffffffffffffffffffffffffffffff5f00
0000000000000000000000000000000000000000000000000000000000ffffffffffffff
ffffffffffffffffffffffffffff5f000000000000000000000000000000000000000000
00000000000000003fffffffffffffffffffffffffffffffffffffffffffff9f0f000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000050d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d64200000000
00000000000000000000000000000000000000000000000000000000000000000000add6
d6d6b69e9e9e9e9e9e9e9e9e805831090000000000000000000000000000000000000000
00000000000000000000000000000000000000000f4f8fcfffffffffffffffffffffffff
ffffffffffffffffffffffff1f0000000000000000000000000000000000000000000000
0000000000002fffffffffffffffffffffffffffffffffffffffffff1f00000000000000
000000000000000000000000000000000000000000006fffffffffffffffffffffffffff
ffffffffffffffef5f000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000085d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6c81a00000000000000000000000000000000000000000000000000
0000000000000000000000001ac8d6c89e9e9e9e9e9e9e9e9e9e9e9e9eaacf9f7f3f1f00
00000000000000000000000000000000000000000000000000000000002f3f7fafcfffff
ffffffffffffffffffffffffffffffffffffffffffffffffffef00000000000000000000
00000000000000000000000000000000000000006fffffffffffffffffffffffffffffff
ffffffffffef000000000000000000000000000000000000000000000000000000000000
9fffffffffffffffffffffffffffffffffffffffdf2f0000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000da0d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6a00000000000000000000000
00000000000000000000000000000000000000000000000000000042d2a59e9e9e9e9e9e
9e9e9e9e9e9e9edaffffffffffffcfbf9f7f7f6f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3f
7f7f7fafbfdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffdf7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7fbfff
ffffffffffffffffffffffffffffffffffffffdf7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f
7f7f7f7f7f7f7f7f7f7f7f7f7f7fdfffffffffffffffffffffffffffffffffffffaf0f00
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000028bbd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d65d0000000000000000000000000000000000000000000000000000000000000000
0000000000005f9e9e9e9e9e9e9e9e9e9e9e9e9eb6ffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffff6f00000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000050c8d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6280000000000000000000000000000000000
000000000000000000000000000000000000000000809e9e9e9e9e9e9e9e9e9e9e9eecff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffef2f000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000006bd6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6ad000000
000000000000000000000000000000000000000000000000000000000000000000000009
949e9e9e9e9e9e9e9e9e9ec8ffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbf
0f0000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000d93d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d678000000000000000000000000000000000000000000000000
0000000000000000000000000000279e9e9e9e9e9e9e9e9ea4f8ffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000001aadd6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d635000000000000000000
00000000000000000000000000000000000000000000000000000000004f9e9e9e9e9e9e
9e9ee0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffef4f00000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000035
c8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6bb0d000000000000000000000000000000000000000000000000000000000000
0000000000000000769e9e9e9e9e9ec2ffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffcf1f000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000005dd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d69300000000000000000000000000000000
00000000000000000000000000000000000000000000098a9e9e9e9eaaf8ffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffff9f000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000085d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d64200
000000000000000000000000000000000000000000000000000000000000000000000000
001d9e9e9e9eecffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffdf7f7f7f7f7f7f7f7f
7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f614f4f4f4f4f4f4f4f4f4f4f4f4f4f4f566b6b6b
6b6badd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6c86b6b6b6b6b6b6b6b6b6b6b6b6b6b6b6b6b6b6b6b6b6b6b
6b6b674f4f4f4f4f4f4f4f4f4f4f4f4f8a9e9ed4ffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeca49e9e9e9e
9e9e9e9e9e9e9e9e9e9e9eb3d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6cba89e9e9e9e9e9e9e9e9e9e9e9e9e9e9ec2ffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffe09e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eafd2d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c8a19e9e9e9e9e9e
9e9e9e9e9e9e9e9e9eb0f8ffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffda9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9ea8cbd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6bd9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea4f8ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffc29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea1c4d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d2af9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea4
ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffc29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
b3d2d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c8a59e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9ea4ecffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc29e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea5c8d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d2b69e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9edaffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffc29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eb3d2d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c8a59e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9edaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffc29e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9ea1bad6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6cfac9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea4daffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffc29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea5c1d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6cfb39e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea4ecffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffc89e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9ea5c1d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6cfb39e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9ea4ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
da9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea1bacfd6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c8af9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eb0f8ffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffeca49e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9eafc1d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6cfbaa59e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ec2f8ffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8b09e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea1afc1d2d6d6d6d6d6d6d6d6d6d6d6d6d6
d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6cbbaa89e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9ed4ffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffc89e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9ea8b6c4cfd6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c8bdafa19e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eaaecffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffe6aa9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ea1acb3bac4c8c8d6d6d6d6d6d6d6cfc8c8
bdbaafa89e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ebcf8ff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffff8c89e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9ea4e0ffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffe6aa9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9ec2f8ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
cea49e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eb6e6
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffff8c29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9eaadaffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2c29e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eaadaffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffff2c29e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eaada
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffff8ceaa9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9eb6e0ffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffe0bc9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eaac8f2ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffff8dabc9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eaac8ecff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffff8e0c2aa9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e
9e9e9e9e9e9e9eb6d4ecffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffff2e0c8b6a49e9e9e9e9e9e9e9e
9e9e9e9e9e9e9e9e9e9e9e9e9e9e9e9eaabccee6ffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffff8e6d4cec2b6b6aa9e9e9e9e9e9e9e9eb6b6b6c8cee0e6ffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffff
end
%%PageTrailer
%%Trailer
%%EOF

%%EndDocument
 @endspecial 7018 32882 a Fp(Interface)689 b(manual)7018
36227 y Fo(Xen)574 b(v3.0)g(for)f(x86)7018 63155 y Fn(Xen)398
b(is)h(Cop)-16 b(yright)399 b(\(c\))f(2002-2005,)g(The)g(Xen)g(T)-112
b(eam)7018 65831 y(Uni)-40 b(v)-24 b(ersity)399 b(of)f(Cambridge,)g(UK)
p eop end
%%Page: 2 2
TeXDict begin 2 1 bop 7749 7306 a Fm(DISCLAIMER:)325
b(This)f(documentation)g(is)g(always)h(under)g(acti)-12
b(v)g(e)324 b(de)-18 b(v)-12 b(elopment)324 b(and)7749
9037 y(as)258 b(such)g(ther)-22 b(e)259 b(may)f(be)h(mistak)-12
b(es)257 b(and)h(omissions)f(\227)h(watch)h(out)f(f)-30
b(or)258 b(these)g(and)g(please)7749 10768 y(r)-22 b(eport)280
b(any)g(y)-30 b(ou)280 b(\002nd)f(to)h(the)g(de)-18 b(v)-12
b(eloper')-45 b(s)279 b(mailing)h(list.)367 b(The)281
b(latest)d(v)-12 b(ersion)280 b(is)f(always)7749 12500
y(a)-30 b(v)-12 b(ailable)371 b(on-line.)579 b(Contrib)-24
b(utions)370 b(of)g(material,)388 b(suggestions)369 b(and)i(corr)-22
b(ections)372 b(ar)-22 b(e)7749 14231 y(welcome.)p eop
end
%%Page: 1 3
TeXDict begin 1 2 bop 2435 16821 a Fp(Contents)2435 24353
y Fm(1)1212 b(Intr)-22 b(oduction)30848 b(1)2435 27458
y(2)1212 b(V)-45 b(irtual)304 b(Ar)-22 b(chitectur)g(e)26845
b(3)4253 29221 y Fl(2.1)1273 b(CPU)304 b(state)814 b(.)606
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)2276 b(3)4253
30985 y(2.2)1273 b(Exceptions)310 b(.)606 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)
g(.)g(.)g(.)g(.)2276 b(4)4253 32748 y(2.3)1273 b(Interrupts)302
b(and)h(e)-30 b(v)-18 b(ents)1034 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)2276
b(4)4253 34512 y(2.4)1273 b(T)-42 b(ime)453 b(.)606 b(.)g(.)g(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)2276 b(4)4253
36275 y(2.5)1273 b(Xen)304 b(CPU)f(Scheduling)715 b(.)606
b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)2276 b(5)4253 38039 y(2.6)1273
b(Pri)-30 b(vile)-18 b(ged)303 b(operations)864 b(.)606
b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)2276 b(5)2435 41143 y Fm(3)1212
b(Memory)32985 b(7)4253 42907 y Fl(3.1)1273 b(Memory)303
b(Allocation)648 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)2276
b(7)4253 44670 y(3.2)1273 b(Pseudo-Ph)-6 b(ysical)303
b(Memory)484 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)2276 b(7)4253 46434
y(3.3)1273 b(P)-18 b(age)304 b(T)-97 b(able)303 b(Updates)663
b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)2276 b(8)4253 48197
y(3.4)1273 b(Writable)304 b(P)-18 b(age)303 b(T)-97 b(ables)831
b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)2276 b(9)4253 49961 y(3.5)1273
b(Shado)-30 b(w)304 b(P)-18 b(age)303 b(T)-97 b(ables)1197
b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)2276 b(9)4253 51724 y(3.6)1273
b(Se)-18 b(gment)304 b(Descriptor)e(T)-97 b(ables)797
b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)1670 b(10)4253 53488 y(3.7)1273 b(Start)303
b(of)g(Day)681 b(.)606 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)1670
b(10)4253 55251 y(3.8)1273 b(VM)303 b(assists)341 b(.)606
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)1670 b(10)2435
58356 y Fm(4)1212 b(Xen)304 b(Inf)-30 b(o)302 b(P)-12
b(ages)29051 b(13)4253 60119 y Fl(4.1)1273 b(Shared)303
b(info)g(page)1120 b(.)607 b(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)1670
b(13)7041 61883 y(4.1.1)1455 b(vcpu)p 13349 61883 364
45 v 437 w(info)p 15739 61883 V 436 w(t)845 b(.)606 b(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)
g(.)g(.)1670 b(14)7041 63646 y(4.1.2)1455 b(vcpu)p 13349
63646 V 437 w(time)p 15941 63646 V 436 w(info)845 b(.)606
b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)1670 b(15)7041 65410 y(4.1.3)1455
b(arch)p 13079 65410 V 437 w(shared)p 16680 65410 V 436
w(info)p 19069 65410 V 436 w(t)1151 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)1670
b(16)4253 67173 y(4.2)1273 b(Start)303 b(info)g(page)378
b(.)606 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)1670 b(16)2435
70277 y Fm(5)1212 b(Ev)-12 b(ent)304 b(Channels)28649
b(19)4253 72041 y Fl(5.1)1273 b(Hypercall)304 b(interf)-12
b(ace)932 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)1670 b(19)22192
75362 y(i)p eop end
%%Page: 2 4
TeXDict begin 2 3 bop 7749 7306 a Fm(6)1212 b(Grant)303
b(tables)30321 b(23)9567 9037 y Fl(6.1)1273 b(Interf)-12
b(ace)493 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669
b(23)12355 10768 y(6.1.1)1455 b(Grant)303 b(table)g(manipulation)608
b(.)e(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)1669 b(23)12355 12500 y(6.1.2)1455 b(Hypercalls)1112
b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(24)7749 15443
y Fm(7)1212 b(Xenstor)-22 b(e)32197 b(25)9567 17174 y
Fl(7.1)1273 b(Guidelines)445 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)1669 b(25)9567 18906 y(7.2)1273 b(Store)303
b(layout)714 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669
b(26)7749 21849 y Fm(8)1212 b(De)-18 b(vices)32934 b(31)9567
23580 y Fl(8.1)1273 b(Netw)-12 b(ork)303 b(I/O)458 b(.)606
b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(32)12355
25312 y(8.1.1)1455 b(Back)-12 b(end)304 b(P)-18 b(ack)-12
b(et)303 b(Handling)1089 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(32)12355 27043 y(8.1.2)1455
b(Data)303 b(T)-42 b(ransfer)616 b(.)606 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669
b(33)12355 28774 y(8.1.3)1455 b(Netw)-12 b(ork)303 b(ring)f(interf)-12
b(ace)802 b(.)607 b(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)1669 b(33)9567 30506 y(8.2)1273 b(Block)304
b(I/O)882 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669
b(35)12355 32237 y(8.2.1)1455 b(Data)303 b(T)-42 b(ransfer)616
b(.)606 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(35)12355 33968
y(8.2.2)1455 b(Block)303 b(ring)g(interf)-12 b(ace)317
b(.)606 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)1669 b(36)9567 35699 y(8.3)1273 b(V)-73
b(irtual)303 b(TPM)449 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)1669 b(37)12355 37431 y(8.3.1)1455 b(Data)303 b(T)-42
b(ransfer)616 b(.)606 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(37)12355
39162 y(8.3.2)1455 b(V)-73 b(irtual)303 b(TPM)f(ring)h(interf)-12
b(ace)693 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)1669 b(37)7749 42105 y Fm(9)1212 b(Further)303
b(Inf)-30 b(ormation)26109 b(39)9567 43837 y Fl(9.1)1273
b(Other)303 b(documentation)884 b(.)606 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669
b(39)9567 45568 y(9.2)1273 b(Online)303 b(references)751
b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(39)9567
47299 y(9.3)1273 b(Mailing)303 b(lists)509 b(.)606 b(.)g(.)g(.)g(.)g(.)
g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)1669 b(40)7749 50243 y Fm(A)943
b(Xen)303 b(Hyper)-22 b(calls)28863 b(41)9567 51974 y
Fl(A.1)1004 b(In)-48 b(v)-24 b(oking)302 b(Hypercalls)384
b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(41)9567 53705
y(A.2)1004 b(V)-73 b(irtual)303 b(CPU)h(Setup)1156 b(.)606
b(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(42)9567 55436 y(A.3)1004
b(Scheduling)303 b(and)h(T)-42 b(imer)419 b(.)606 b(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
1669 b(43)9567 57168 y(A.4)1004 b(P)-18 b(age)303 b(T)-97
b(able)303 b(Management)1034 b(.)606 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669
b(44)9567 58899 y(A.5)1004 b(Se)-18 b(gmentation)303
b(Support)361 b(.)606 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(46)9567
60630 y(A.6)1004 b(Conte)-18 b(xt)303 b(Switching)1203
b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(46)9567 62361
y(A.7)1004 b(Ph)-6 b(ysical)303 b(Memory)f(Management)486
b(.)607 b(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)1669 b(47)9567 64093 y(A.8)1004 b(Inter)-24
b(-Domain)302 b(Communication)1009 b(.)607 b(.)f(.)g(.)g(.)g(.)g(.)g(.)
g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(48)9567
65824 y(A.9)1004 b(IO)303 b(Con\002guration)1017 b(.)606
b(.)g(.)g(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(49)9567 67555 y(A.10)398
b(Administrati)-30 b(v)-18 b(e)302 b(Operations)1032
b(.)606 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)1669 b(49)9567 69287 y(A.11)398 b(Access)302
b(Control)i(Module)f(Hypercalls)447 b(.)606 b(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(51)9567
71018 y(A.12)398 b(Deb)-24 b(ugging)303 b(Hypercalls)1144
b(.)606 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)1669 b(52)27337 75362 y(ii)p
eop end
%%Page: 1 5
TeXDict begin 1 4 bop 2435 16438 a Fk(Chapter)575 b(1)2435
22859 y Fp(Intr)-50 b(oduction)2435 29496 y Fl(Xen)290
b(allo)-30 b(ws)289 b(the)h(hardw)-12 b(are)289 b(resources)f(of)h(a)h
(machine)g(to)f(be)h(virtualized)g(and)f(dynamically)2435
31152 y(partitioned,)453 b(allo)-30 b(wing)423 b(multiple)g(dif)-30
b(ferent)422 b Fj(guest)g Fl(operating)h(system)f(images)h(to)g(be)g
(run)2435 32808 y(simultaneously)-79 b(.)917 b(V)-73
b(irtualizing)484 b(the)f(machine)h(in)g(this)f(manner)g(pro)-18
b(vides)483 b(considerable)2435 34464 y(\003e)-18 b(xibility)-79
b(,)304 b(for)e(e)-18 b(xample)304 b(allo)-30 b(wing)303
b(dif)-30 b(ferent)302 b(users)g(to)h(choose)g(their)g(preferred)g
(operating)2435 36120 y(system)399 b(\(e.g.,)424 b(Linux,)f(NetBSD,)400
b(or)g(a)f(custom)h(operating)f(system\).)664 b(Furthermore,)423
b(Xen)2435 37776 y(pro)-18 b(vides)340 b(secure)h(partitioning)f
(between)i(virtual)e(machines)h(\(kno)-30 b(wn)341 b(as)f
Fj(domains)h Fl(in)f(Xen)2435 39432 y(terminology\),)397
b(and)378 b(enables)g(better)g(resource)f(accounting)i(and)f(QoS)g
(isolation)f(than)h(can)2435 41088 y(be)304 b(achie)-30
b(v)-18 b(ed)303 b(with)g(a)g(con)-48 b(v)-18 b(entional)303
b(operating)h(system.)2435 43298 y(Xen)392 b(essentially)f(tak)-12
b(es)391 b(a)g(`whole)h(machine')f(virtualization)g(approach)h(as)f
(pioneered)h(by)2435 44954 y(IBM)369 b(VM/370.)575 b(Ho)-30
b(we)g(v)-18 b(er)-48 b(,)385 b(unlik)-12 b(e)369 b(VM/370)g(or)g(more)
g(recent)h(ef)-30 b(forts)367 b(such)i(as)g(VMw)-12 b(are)2435
46610 y(and)278 b(V)-73 b(irtual)278 b(PC,)f(Xen)h(does)f(not)h
(attempt)f(to)h(completely)g(virtualize)f(the)h(underlying)f(hard-)2435
48266 y(w)-12 b(are.)358 b(Instead)249 b(parts)g(of)g(the)g(hosted)g
(guest)g(operating)h(systems)e(are)h(modi\002ed)g(to)h(w)-12
b(ork)249 b(with)2435 49922 y(the)362 b(VMM;)e(the)h(operating)h
(system)e(is)g(ef)-30 b(fecti)g(v)-18 b(ely)361 b(ported)g(to)g(a)g(ne)
-30 b(w)361 b(tar)-22 b(get)362 b(architecture,)2435
51578 y(typically)450 b(requiring)f(changes)h(in)f(just)g(the)g
(machine-dependent)i(code.)815 b(The)449 b(user)-24 b(-le)-30
b(v)-18 b(el)2435 53234 y(API)257 b(is)g(unchanged,)267
b(and)257 b(so)g(e)-18 b(xisting)257 b(binaries)f(and)i(operating)f
(system)f(distrib)-24 b(utions)256 b(w)-12 b(ork)2435
54890 y(without)304 b(modi\002cation.)2435 57099 y(In)f(addition)g(to)g
(e)-18 b(xporting)302 b(virtualized)h(instances)g(of)f(CPU,)i(memory)
-79 b(,)303 b(netw)-12 b(ork)302 b(and)i(block)2435 58755
y(de)-30 b(vices,)289 b(Xen)c(e)-18 b(xposes)284 b(a)i(control)e
(interf)-12 b(ace)285 b(to)g(manage)h(ho)-30 b(w)285
b(these)f(resources)g(are)h(shared)2435 60411 y(between)333
b(the)f(running)g(domains.)462 b(Access)331 b(to)h(the)g(control)g
(interf)-12 b(ace)331 b(is)g(restricted:)433 b(it)332
b(may)2435 62067 y(only)390 b(be)f(used)g(by)h(one)f(specially-pri)-30
b(vile)-18 b(ged)389 b(VM,)g(kno)-30 b(wn)389 b(as)g
Fj(domain)h(0)p Fl(.)634 b(This)389 b(domain)2435 63723
y(is)e(a)f(required)h(part)g(of)f(an)-18 b(y)387 b(Xen-based)g(serv)-18
b(er)385 b(and)i(runs)f(the)h(application)h(softw)-12
b(are)386 b(that)2435 65380 y(manages)264 b(the)g(control-plane)g
(aspects)g(of)f(the)h(platform.)362 b(Running)265 b(the)f(control)g
(softw)-12 b(are)263 b(in)2435 67036 y Fj(domain)g(0)p
Fl(,)271 b(distinct)263 b(from)f(the)g(h)-6 b(ypervisor)262
b(itself,)270 b(allo)-30 b(ws)263 b(the)f(Xen)h(frame)-30
b(w)-12 b(ork)262 b(to)h(separate)2435 68692 y(the)304
b(notions)e(of)h(mechanism)g(and)g(polic)-18 b(y)304
b(within)f(the)g(system.)22058 75362 y(1)p eop end
%%Page: 2 6
TeXDict begin 2 5 bop 27371 75362 a Fl(2)p eop end
%%Page: 3 7
TeXDict begin 3 6 bop 2435 16438 a Fk(Chapter)575 b(2)2435
22859 y Fp(V)-102 b(irtual)689 b(Ar)-50 b(chitectur)g(e)2435
29496 y Fl(In)326 b(a)g(Xen/x86)g(system,)331 b(only)326
b(the)g(h)-6 b(ypervisor)325 b(runs)h(with)g(full)f(processor)g(pri)-30
b(vile)-18 b(ges)325 b(\()p Fj(ring)2435 31152 y(0)344
b Fl(in)f(the)g(x86)h(four)-24 b(-ring)342 b(model\).)496
b(It)343 b(has)g(full)g(access)g(to)g(the)g(ph)-6 b(ysical)344
b(memory)f(a)-24 b(v)-30 b(ailable)2435 32808 y(in)303
b(the)h(system)e(and)h(is)g(responsible)f(for)g(allocating)i(portions)e
(of)h(it)g(to)g(running)g(domains.)2435 35018 y(On)332
b(a)h(32-bit)e(x86)i(system,)338 b(guest)332 b(operating)g(systems)e
(may)j(use)e Fj(rings)g(1)p Fl(,)340 b Fj(2)332 b Fl(and)g
Fj(3)g Fl(as)g(the)-18 b(y)2435 36674 y(see)294 b(\002t.)373
b(Se)-18 b(gmentation)295 b(is)e(used)h(to)h(pre)-30
b(v)-18 b(ent)294 b(the)g(guest)g(OS)g(from)g(accessing)g(the)g
(portion)g(of)2435 38330 y(the)264 b(address)f(space)h(that)g(is)f
(reserv)-18 b(ed)263 b(for)h(Xen.)363 b(W)-97 b(e)264
b(e)-18 b(xpect)264 b(most)g(guest)f(operating)h(systems)2435
39986 y(will)303 b(use)g(ring)g(1)g(for)f(their)h(o)-30
b(wn)303 b(operation)g(and)h(place)f(applications)g(in)g(ring)g(3.)2435
42195 y(On)326 b(64-bit)g(systems)e(it)i(is)f(not)h(possible)f(to)h
(protect)g(the)g(h)-6 b(ypervisor)325 b(from)g(untrusted)g(guest)2435
43851 y(code)311 b(running)g(in)f(rings)g(1)g(and)h(2.)398
b(Guests)310 b(are)g(therefore)g(restricted)g(to)g(run)g(in)h(ring)f(3)
g(only)-79 b(.)2435 45507 y(The)382 b(guest)f(k)-12 b(ernel)381
b(is)g(protected)h(from)f(its)g(applications)g(by)h(conte)-18
b(xt)382 b(switching)f(between)2435 47163 y(the)304 b(k)-12
b(ernel)302 b(and)i(currently)f(running)f(application.)2435
49373 y(In)397 b(this)f(chapter)h(we)g(consider)f(the)h(basic)g
(virtual)f(architecture)h(pro)-18 b(vided)397 b(by)g(Xen:)563
b(CPU)2435 51029 y(state,)397 b(e)-18 b(xception)379
b(and)f(interrupt)g(handling,)397 b(and)379 b(time.)601
b(Other)378 b(aspects)g(such)g(as)g(memory)2435 52685
y(and)304 b(de)-30 b(vice)303 b(access)g(are)g(discussed)f(in)h(later)g
(chapters.)2435 57339 y Fi(2.1)1594 b(CPU)398 b(state)2435
60803 y Fl(All)388 b(pri)-30 b(vile)-18 b(ged)387 b(state)g(must)f(be)i
(handled)g(by)f(Xen.)629 b(The)387 b(guest)g(OS)h(has)f(no)g(direct)g
(access)2435 62459 y(to)312 b(CR3)g(and)g(is)e(not)i(permitted)f(to)h
(update)f(pri)-30 b(vile)-18 b(ged)311 b(bits)g(in)h(EFLA)-48
b(GS.)310 b(Guest)h(OSes)g(use)2435 64115 y Fj(hyper)-45
b(calls)444 b Fl(to)g(in)-48 b(v)-24 b(ok)-12 b(e)443
b(operations)h(in)f(Xen;)515 b(these)444 b(are)g(analogous)g(to)f
(system)g(calls)h(b)-24 b(ut)2435 65771 y(occur)303 b(from)g(ring)g(1)g
(to)g(ring)f(0.)2435 67981 y(A)h(list)g(of)g(all)g(h)-6
b(ypercalls)302 b(is)h(gi)-30 b(v)-18 b(en)303 b(in)g(Appendix)g(A.)
22058 75362 y(3)p eop end
%%Page: 4 8
TeXDict begin 4 7 bop 7749 7306 a Fi(2.2)1593 b(Exceptions)7749
10770 y Fl(A)341 b(virtual)h(IDT)f(is)g(pro)-18 b(vided)341
b(\227)h(a)f(domain)h(can)g(submit)f(a)h(table)g(of)f(trap)g(handlers)g
(to)h(Xen)7749 12426 y(via)335 b(the)h Fm(set)p 12869
12426 364 45 v 436 w(trap)p 15527 12426 V 436 w(table)f
Fl(h)-6 b(ypercall.)473 b(The)335 b(e)-18 b(xception)336
b(stack)f(frame)g(presented)h(to)f(a)g(virtual)7749 14082
y(trap)303 b(handler)g(is)f(identical)i(to)f(its)f(nati)-30
b(v)-18 b(e)303 b(equi)-30 b(v)g(alent.)7749 18736 y
Fi(2.3)1593 b(Interrupts)398 b(and)i(e)-24 b(v)-16 b(ents)7749
22200 y Fl(Interrupts)326 b(are)i(virtualized)h(by)f(mapping)g(them)g
(to)g Fj(e)-18 b(vent)329 b(c)-18 b(hannels)p Fl(,)334
b(which)328 b(are)h(deli)-30 b(v)-18 b(ered)7749 23856
y(asynchronously)230 b(to)h(the)g(tar)-22 b(get)231 b(domain)g(using)f
(a)h(callback)g(supplied)g(via)g(the)g Fm(set)p 42455
23856 V 436 w(callbacks)7749 25512 y Fl(h)-6 b(ypercall.)680
b(A)405 b(guest)f(OS)h(can)f(map)h(these)g(e)-30 b(v)-18
b(ents)404 b(onto)g(its)g(standard)g(interrupt)g(dispatch)7749
27168 y(mechanisms.)367 b(Xen)278 b(is)f(responsible)f(for)h
(determining)h(the)g(tar)-22 b(get)278 b(domain)f(that)h(will)g(handle)
7749 28825 y(each)307 b(ph)-6 b(ysical)307 b(interrupt)g(source.)387
b(F)-18 b(or)306 b(more)h(details)g(on)g(the)g(binding)h(of)e(e)-30
b(v)-18 b(ent)307 b(sources)f(to)7749 30481 y(e)-30 b(v)-18
b(ent)303 b(channels,)g(see)g(Chapter)g(8.)7749 35135
y Fi(2.4)1593 b(T)-29 b(ime)7749 38599 y Fl(Guest)257
b(operating)h(systems)e(need)j(to)e(be)h(a)-18 b(w)-12
b(are)258 b(of)f(the)h(passage)f(of)h(both)g(real)f(\(or)g(w)-12
b(allclock\))7749 40255 y(time)395 b(and)g(their)g(o)-30
b(wn)395 b(`virtual)g(time')g(\(the)g(time)g(for)g(which)g(the)-18
b(y)395 b(ha)-24 b(v)-18 b(e)396 b(been)f(e)-18 b(x)g(ecuting\).)7749
41911 y(Furthermore,)270 b(Xen)263 b(has)f(a)h(notion)g(of)f(time)h
(which)g(is)f(used)h(for)f(scheduling.)362 b(The)263
b(follo)-30 b(wing)7749 43567 y(notions)302 b(of)h(time)g(are)g(pro)-18
b(vided:)7749 45777 y Fm(Cycle)303 b(counter)g(time.)606
b Fl(This)229 b(pro)-18 b(vides)230 b(a)g(\002ne-grained)h(time)f
(reference.)351 b(The)231 b(c)-18 b(ycle)230 b(counter)10779
47433 y(time)428 b(is)f(used)h(to)g(accurately)g(e)-18
b(xtrapolate)428 b(the)g(other)g(time)f(references.)750
b(On)428 b(SMP)10779 49089 y(machines)301 b(it)g(is)f(currently)h
(assumed)f(that)h(the)g(c)-18 b(ycle)301 b(counter)g(time)g(is)f
(synchronized)10779 50745 y(between)331 b(CPUs.)456 b(The)330
b(current)g(x86-based)f(implementation)i(achie)-30 b(v)-18
b(es)330 b(this)f(within)10779 52401 y(inter)-24 b(-CPU)303
b(communication)h(latencies.)7749 54610 y Fm(System)e(time.)605
b Fl(This)256 b(is)f(a)i(64-bit)f(counter)g(which)h(holds)f(the)h
(number)f(of)g(nanoseconds)g(that)10779 56266 y(ha)-24
b(v)-18 b(e)303 b(elapsed)g(since)g(system)f(boot.)7749
58476 y Fm(W)-79 b(all)303 b(clock)g(time.)606 b Fl(This)354
b(is)g(the)i(time)f(of)f(day)h(in)g(a)h(Unix-style)e
Fm(struct)g(time)-18 b(v)-12 b(al)354 b Fl(\(seconds)10779
60132 y(and)285 b(microseconds)g(since)g(1)g(January)g(1970,)k
(adjusted)c(by)g(leap)g(seconds\).)369 b(An)286 b(NTP)10779
61788 y(client)303 b(hosted)g(by)g Fj(domain)h(0)f Fl(can)g(k)-12
b(eep)304 b(this)e(v)-30 b(alue)303 b(accurate.)7749
63997 y Fm(Domain)g(virtual)f(time.)606 b Fl(This)356
b(progresses)f(at)i(the)h(same)e(pace)i(as)f(system)f(time,)370
b(b)-24 b(ut)357 b(only)10779 65653 y(while)477 b(a)f(domain)h(is)e(e)
-18 b(x)g(ecuting)477 b(\227)f(it)h(stops)e(while)h(a)h(domain)f(is)g
(de-scheduled.)10779 67309 y(Therefore)406 b(the)i(share)f(of)g(the)g
(CPU)h(that)f(a)h(domain)f(recei)-30 b(v)-18 b(es)407
b(is)g(indicated)h(by)f(the)10779 68965 y(rate)303 b(at)g(which)h(its)e
(virtual)h(time)g(increases.)27371 75362 y(4)p eop end
%%Page: 5 9
TeXDict begin 5 8 bop 2435 7306 a Fl(Xen)431 b(e)-18
b(xports)430 b(timestamps)f(for)h(system)f(time)i(and)f(w)-12
b(all-clock)431 b(time)f(to)h(guest)f(operating)2435
8962 y(systems)408 b(through)h(a)g(shared)g(page)g(of)g(memory)-79
b(.)694 b(Xen)409 b(also)g(pro)-18 b(vides)408 b(the)h(c)-18
b(ycle)410 b(counter)2435 10618 y(time)244 b(at)f(the)h(instant)f(the)h
(timestamps)e(were)i(calculated,)256 b(and)244 b(the)f(CPU)h(frequenc)
-18 b(y)243 b(in)h(Hertz.)2435 12274 y(This)329 b(allo)-30
b(ws)328 b(the)i(guest)f(to)g(e)-18 b(xtrapolate)330
b(system)e(and)i(w)-12 b(all-clock)329 b(times)g(accurately)h(based)
2435 13930 y(on)303 b(the)h(current)e(c)-18 b(ycle)304
b(counter)f(time.)2435 16140 y(Since)333 b(all)g(time)f(stamps)g(need)h
(to)g(be)g(updated)g(and)g(read)f Fj(atomically)h Fl(a)g(v)-18
b(ersion)332 b(number)g(is)2435 17796 y(also)287 b(stored)f(in)h(the)g
(shared)f(info)h(page,)k(which)c(is)f(incremented)h(before)g(and)g
(after)f(updating)2435 19452 y(the)i(timestamps.)371
b(Thus)287 b(a)h(guest)g(can)g(be)g(sure)g(that)g(it)g(read)g(a)g
(consistent)f(state)h(by)g(checking)2435 21108 y(the)304
b(tw)-12 b(o)303 b(v)-18 b(ersion)302 b(numbers)g(are)h(equal)h(and)f
(e)-30 b(v)-18 b(en.)2435 23317 y(Xen)287 b(includes)g(a)g(periodic)g
(tick)-12 b(er)286 b(which)h(sends)f(a)h(timer)g(e)-30
b(v)-18 b(ent)286 b(to)h(the)g(currently)g(e)-18 b(x)g(ecuting)2435
24973 y(domain)367 b(e)-30 b(v)-18 b(ery)365 b(10ms.)564
b(The)366 b(Xen)g(scheduler)g(also)f(sends)h(a)g(timer)f(e)-30
b(v)-18 b(ent)366 b(whene)-30 b(v)-18 b(er)366 b(a)g(do-)2435
26629 y(main)359 b(is)f(scheduled;)386 b(this)358 b(allo)-30
b(ws)358 b(the)h(guest)f(OS)h(to)f(adjust)g(for)g(the)h(time)g(that)f
(has)g(passed)2435 28285 y(while)429 b(it)g(has)f(been)i(inacti)-30
b(v)-18 b(e.)752 b(In)429 b(addition,)460 b(Xen)429 b(allo)-30
b(ws)428 b(each)i(domain)f(to)f(request)h(that)2435 29941
y(the)-18 b(y)268 b(recei)-30 b(v)-18 b(e)268 b(a)f(timer)h(e)-30
b(v)-18 b(ent)267 b(sent)h(at)f(a)h(speci\002ed)g(system)f(time)g(by)h
(using)f(the)h Fm(set)p 37380 29941 364 45 v 436 w(timer)p
40643 29941 V 436 w(op)2435 31597 y Fl(h)-6 b(ypercall.)449
b(Guest)328 b(OSes)f(may)g(use)g(this)g(timer)g(to)h(implement)f
(timeout)h(v)-30 b(alues)327 b(when)h(the)-18 b(y)2435
33253 y(block.)2435 37908 y Fi(2.5)1594 b(Xen)398 b(CPU)g(Scheduling)
2435 41372 y Fl(Xen)454 b(of)-30 b(fers)452 b(a)i(uniform)f(API)g(for)g
(CPU)g(schedulers.)827 b(It)453 b(is)g(possible)g(to)g(choose)h(from)f
(a)2435 43028 y(number)382 b(of)f(schedulers)f(at)i(boot)g(and)f(it)h
(should)f(be)g(easy)h(to)f(add)h(more.)610 b(The)382
b(SEDF)f(and)2435 44684 y(Credit)451 b(schedulers)e(are)i(part)f(of)g
(the)g(normal)h(Xen)f(distrib)-24 b(ution.)817 b(SEDF)450
b(will)g(be)h(going)2435 46340 y(a)-18 b(w)-12 b(ay)421
b(and)f(its)f(use)h(should)g(be)g(a)-24 b(v)g(oided)420
b(once)g(the)g(credit)g(scheduler)g(has)g(stabilized)g(and)2435
47996 y(become)353 b(the)f(def)-12 b(ault.)523 b(The)352
b(Credit)g(scheduler)g(pro)-18 b(vides)352 b(proportional)f(f)-12
b(air)352 b(shares)f(of)h(the)2435 49652 y(host')-67
b(s)244 b(CPUs)h(to)g(the)g(running)g(domains.)357 b(It)244
b(does)h(this)f(while)i(transparently)e(load)h(balancing)2435
51308 y(runnable)304 b(VCPUs)f(across)f(the)h(whole)g(system.)2435
55290 y Fm(Note:)474 b(SMP)352 b(host)g(support)1211
b Fl(Xen)353 b(has)f(al)-12 b(w)g(ays)352 b(supported)g(SMP)g(host)g
(systems.)522 b(When)2435 56946 y(using)369 b(the)h(credit)g(scheduler)
-48 b(,)385 b(a)370 b(domain')-67 b(s)369 b(VCPUs)h(will)f(be)h
(dynamically)g(mo)-18 b(v)g(ed)370 b(across)2435 58602
y(ph)-6 b(ysical)385 b(CPUs)g(to)g(maximise)g(domain)g(and)g(system)f
(throughput.)622 b(VCPUs)385 b(can)g(also)g(be)2435 60258
y(manually)423 b(restricted)d(to)i(be)g(mapped)g(only)g(on)g(a)g
(subset)f(of)g(the)h(host')-67 b(s)421 b(ph)-6 b(ysical)422
b(CPUs,)2435 61914 y(using)303 b(the)g(pinning)g(mechanism.)2435
66568 y Fi(2.6)1594 b(Pri)-16 b(vileged)398 b(operations)2435
70032 y Fl(Xen)432 b(e)-18 b(xports)430 b(an)i(e)-18
b(xtended)432 b(interf)-12 b(ace)431 b(to)g(pri)-30 b(vile)-18
b(ged)431 b(domains)g(\(viz.)g Fj(Domain)h(0)p Fl(\).)760
b(This)2435 71688 y(allo)-30 b(ws)358 b(such)h(domains)f(to)g(b)-24
b(uild)359 b(and)f(boot)h(other)f(domains)h(on)f(the)h(serv)-18
b(er)-48 b(,)371 b(and)359 b(pro)-18 b(vides)22058 75362
y(5)p eop end
%%Page: 6 10
TeXDict begin 6 9 bop 7749 7306 a Fl(control)423 b(interf)-12
b(aces)423 b(for)f(managing)i(scheduling,)454 b(memory)-79
b(,)454 b(netw)-12 b(orking,)453 b(and)424 b(block)f(de-)7749
8962 y(vices.)27371 75362 y(6)p eop end
%%Page: 7 11
TeXDict begin 7 10 bop 2435 16438 a Fk(Chapter)575 b(3)2435
22859 y Fp(Memory)2435 29496 y Fl(Xen)420 b(is)e(responsible)g(for)g
(managing)i(the)f(allocation)h(of)e(ph)-6 b(ysical)419
b(memory)g(to)g(domains,)2435 31152 y(and)304 b(for)e(ensuring)h(safe)f
(use)h(of)g(the)g(paging)g(and)g(se)-18 b(gmentation)303
b(hardw)-12 b(are.)2435 35806 y Fi(3.1)1594 b(Memory)397
b(Allocation)2435 39271 y Fl(As)k(well)h(as)f(allocating)h(a)f(portion)
h(of)f(ph)-6 b(ysical)401 b(memory)g(for)g(its)g(o)-30
b(wn)401 b(pri)-30 b(v)g(ate)401 b(use,)425 b(Xen)2435
40927 y(also)371 b(reserv)-18 b(es)369 b(s)h(small)g(\002x)-18
b(ed)371 b(portion)g(of)f(e)-30 b(v)-18 b(ery)370 b(virtual)h(address)f
(space.)578 b(This)370 b(is)g(located)2435 42583 y(in)344
b(the)f(top)h(64MB)f(on)g(32-bit)g(systems,)353 b(the)343
b(top)g(168MB)h(on)f(P)-112 b(AE)344 b(systems,)352 b(and)344
b(a)f(lar)-22 b(ger)2435 44239 y(portion)316 b(in)g(the)g(middle)g(of)f
(the)h(address)f(space)h(on)g(64-bit)f(systems.)413 b(Unreserv)-18
b(ed)315 b(ph)-6 b(ysical)2435 45895 y(memory)415 b(is)g(a)-24
b(v)-30 b(ailable)415 b(for)f(allocation)i(to)f(domains)g(at)g(a)h
(page)f(granularity)-79 b(.)712 b(Xen)415 b(tracks)2435
47551 y(the)313 b(o)-30 b(wnership)311 b(and)i(use)f(of)g(each)h(page,)
i(which)e(allo)-30 b(ws)311 b(it)i(to)f(enforce)g(secure)g
(partitioning)2435 49207 y(between)304 b(domains.)2435
51416 y(Each)276 b(domain)g(has)f(a)h(maximum)g(and)f(current)h(ph)-6
b(ysical)275 b(memory)h(allocation.)367 b(A)275 b(guest)h(OS)2435
53072 y(may)324 b(run)f(a)g(`balloon)g(dri)-30 b(v)-18
b(er')322 b(to)h(dynamically)h(adjust)f(its)f(current)h(memory)g
(allocation)h(up)2435 54728 y(to)303 b(its)g(limit.)2435
59383 y Fi(3.2)1594 b(Pseudo-Ph)-24 b(ysical)399 b(Memory)2435
62847 y Fl(Since)432 b(ph)-6 b(ysical)430 b(memory)h(is)g(allocated)g
(and)g(freed)g(on)g(a)g(page)h(granularity)-79 b(,)462
b(there)431 b(is)g(no)2435 64503 y(guarantee)493 b(that)f(a)g(domain)g
(will)h(recei)-30 b(v)-18 b(e)491 b(a)i(contiguous)f(stretch)f(of)h(ph)
-6 b(ysical)492 b(memory)-79 b(.)2435 66159 y(Ho)-30
b(we)g(v)-18 b(er)294 b(most)f(operating)g(systems)g(do)g(not)h(ha)-24
b(v)-18 b(e)294 b(good)g(support)f(for)g(operating)g(in)h(a)g(frag-)
2435 67815 y(mented)394 b(ph)-6 b(ysical)394 b(address)e(space.)648
b(T)-97 b(o)393 b(aid)g(porting)h(such)f(operating)h(systems)e(to)h
(run)h(on)2435 69471 y(top)329 b(of)g(Xen,)336 b(we)330
b(mak)-12 b(e)329 b(a)g(distinction)g(between)h Fj(mac)-18
b(hine)330 b(memory)f Fl(and)g Fj(pseudo-physical)2435
71127 y(memory)p Fl(.)22058 75362 y(7)p eop end
%%Page: 8 12
TeXDict begin 8 11 bop 7749 7306 a Fl(Put)261 b(simply)-79
b(,)269 b(machine)261 b(memory)g(refers)f(to)h(the)g(entire)g(amount)h
(of)e(memory)h(installed)g(in)g(the)7749 8962 y(machine,)370
b(including)357 b(that)f(reserv)-18 b(ed)356 b(by)g(Xen,)370
b(in)357 b(use)f(by)g(v)-30 b(arious)356 b(domains,)370
b(or)356 b(currently)7749 10618 y(unallocated.)367 b(W)-97
b(e)276 b(consider)g(machine)g(memory)f(to)h(comprise)f(a)h(set)f(of)h
(4kB)g Fj(mac)-18 b(hine)276 b(pa)-12 b(g)g(e)7749 12274
y(fr)-18 b(ames)275 b Fl(numbered)i(consecuti)-30 b(v)-18
b(ely)276 b(starting)g(from)g(0.)367 b(Machine)276 b(frame)g(numbers)g
(mean)h(the)7749 13930 y(same)303 b(within)g(Xen)g(or)g(an)-18
b(y)303 b(domain.)7749 16140 y(Pseudo-ph)-6 b(ysical)301
b(memory)-79 b(,)303 b(on)f(the)g(other)g(hand,)h(is)e(a)h(per)-24
b(-domain)302 b(abstraction.)375 b(It)302 b(allo)-30
b(ws)7749 17796 y(a)299 b(guest)h(operating)g(system)e(to)i(consider)f
(its)g(memory)h(allocation)g(to)f(consist)g(of)h(a)f(contigu-)7749
19452 y(ous)287 b(range)g(of)g(ph)-6 b(ysical)287 b(page)h(frames)f
(starting)f(at)i(ph)-6 b(ysical)287 b(frame)g(0,)j(despite)d(the)h(f)
-12 b(act)287 b(that)7749 21108 y(the)303 b(underlying)g(machine)h
(page)f(frames)f(may)i(be)f(sparsely)f(allocated)i(and)f(in)g(an)-18
b(y)303 b(order)-67 b(.)7749 23317 y(T)-97 b(o)233 b(achie)-30
b(v)-18 b(e)233 b(this,)247 b(Xen)233 b(maintains)g(a)h(globally)f
(readable)h Fj(mac)-18 b(hine-to-physical)232 b Fl(table)i(which)7749
24973 y(records)322 b(the)i(mapping)g(from)e(machine)i(page)g(frames)f
(to)g(pseudo-ph)-6 b(ysical)323 b(ones.)436 b(In)323
b(addi-)7749 26629 y(tion,)289 b(each)c(domain)h(is)e(supplied)i(with)f
(a)g Fj(physical-to-mac)-18 b(hine)285 b Fl(table)h(which)f(performs)f
(the)7749 28285 y(in)-48 b(v)-18 b(erse)254 b(mapping.)360
b(Clearly)256 b(the)f(machine-to-ph)-6 b(ysical)255 b(table)h(has)f
(size)g(proportional)g(to)g(the)7749 29941 y(amount)247
b(of)f(RAM)h(installed)f(in)h(the)g(machine,)259 b(while)247
b(each)g(ph)-6 b(ysical-to-machine)247 b(table)g(has)7749
31597 y(size)303 b(proportional)f(to)h(the)h(memory)f(allocation)g(of)g
(the)g(gi)-30 b(v)-18 b(en)303 b(domain.)7749 33807 y(Architecture)258
b(dependent)i(code)f(in)f(guest)h(operating)g(systems)e(can)i(then)g
(use)f(the)h(tw)-12 b(o)258 b(tables)7749 35463 y(to)453
b(pro)-18 b(vide)453 b(the)h(abstraction)f(of)g(pseudo-ph)-6
b(ysical)453 b(memory)-79 b(.)826 b(In)454 b(general,)491
b(only)453 b(certain)7749 37119 y(specialized)367 b(parts)f(of)h(the)g
(operating)g(system)f(\(such)g(as)g(page)i(table)f(management\))g
(needs)7749 38775 y(to)303 b(understand)g(the)g(dif)-30
b(ference)302 b(between)i(machine)g(and)f(pseudo-ph)-6
b(ysical)302 b(addresses.)7749 43429 y Fi(3.3)1593 b(P)-16
b(age)399 b(T)-147 b(able)399 b(Updates)7749 46893 y
Fl(In)454 b(the)h(def)-12 b(ault)455 b(mode)g(of)g(operation,)493
b(Xen)455 b(enforces)g(read-only)g(access)f(to)h(page)g(tables)7749
48549 y(and)341 b(requires)g(guest)g(operating)g(systems)f(to)h(e)-18
b(xplicitly)342 b(request)e(an)-18 b(y)342 b(modi\002cations.)490
b(Xen)7749 50205 y(v)-30 b(alidates)456 b(all)h(such)f(requests)g(and)h
(only)g(applies)f(updates)h(that)g(it)f(deems)h(safe.)836
b(This)456 b(is)7749 51861 y(necessary)302 b(to)h(pre)-30
b(v)-18 b(ent)303 b(domains)g(from)f(adding)i(arbitrary)e(mappings)h
(to)g(their)g(page)g(tables.)7749 54071 y(T)-97 b(o)425
b(aid)h(v)-30 b(alidation,)457 b(Xen)426 b(associates)f(a)h(type)g(and)
g(reference)f(count)h(with)g(each)g(memory)7749 55727
y(page.)719 b(A)418 b(page)g(has)f(one)h(of)f(the)g(follo)-30
b(wing)418 b(mutually-e)-18 b(xclusi)-30 b(v)-18 b(e)416
b(types)i(at)f(an)-18 b(y)418 b(point)f(in)7749 57383
y(time:)576 b(page)403 b(directory)g(\()p Fh(PD)p Fl(\),)g(page)g
(table)h(\()p Fh(PT)p Fl(\),)e(local)h(descriptor)g(table)g(\()p
Fh(LDT)p Fl(\),)f(global)7749 59039 y(descriptor)288
b(table)i(\()p Fh(GDT)p Fl(\),)e(or)h(writable)g(\()p
Fh(R)-36 b(W)p Fl(\).)289 b(Note)g(that)h(a)f(guest)g(OS)g(may)h(al)-12
b(w)g(ays)289 b(create)7749 60695 y(readable)303 b(mappings)g(of)g(its)
f(o)-30 b(wn)303 b(memory)g(re)-18 b(g)-6 b(ardless)302
b(of)h(its)f(current)h(type.)7749 62904 y(This)272 b(mechanism)h(is)g
(used)g(to)g(maintain)g(the)h(in)-48 b(v)-30 b(ariants)272
b(required)g(for)h(safety;)282 b(for)273 b(e)-18 b(xample,)7749
64560 y(a)307 b(domain)g(cannot)h(ha)-24 b(v)-18 b(e)307
b(a)h(writable)f(mapping)g(to)g(an)-18 b(y)308 b(part)f(of)f(a)i(page)f
(table)h(as)f(this)f(w)-12 b(ould)7749 66216 y(require)302
b(the)i(page)f(concerned)h(to)f(simultaneously)f(be)i(of)e(types)h
Fh(PT)g Fl(and)h Fh(R)-36 b(W)p Fl(.)7749 69056 y Fh(mm)-12
b(u)p 10504 69056 364 45 v 435 w(update\(mm)g(u)p 17732
69056 V 435 w(update)p 21874 69056 V 436 w(t)311 b(*req,)k(int)310
b(count,)316 b(int)311 b(*success)p 37483 69056 V 436
w(count,)k(domid)p 44837 69056 V 436 w(t)c(do-)7749 70712
y(mid\))27371 75362 y Fl(8)p eop end
%%Page: 9 13
TeXDict begin 9 12 bop 2435 7306 a Fl(This)337 b(h)-6
b(ypercall)337 b(is)g(used)g(to)h(mak)-12 b(e)337 b(updates)g(to)h
(either)f(the)h(domain')-67 b(s)337 b(pagetables)g(or)g(to)h(the)2435
8962 y(machine)456 b(to)f(ph)-6 b(ysical)455 b(mapping)g(table.)832
b(It)455 b(supports)f(submitting)g(a)i(queue)f(of)g(updates,)2435
10618 y(allo)-30 b(wing)281 b(batching)g(for)f(maximal)h(performance.)
368 b(Explicitly)280 b(queuing)h(updates)f(using)g(this)2435
12274 y(interf)-12 b(ace)283 b(will)f(cause)h(an)-18
b(y)282 b(outstanding)h(writable)g(pagetable)g(state)f(to)h(be)f
(\003ushed)h(from)f(the)2435 13930 y(system.)2435 18584
y Fi(3.4)1594 b(Writable)398 b(P)-16 b(age)398 b(T)-147
b(ables)2435 22048 y Fl(Xen)423 b(also)f(pro)-18 b(vides)421
b(an)i(alternati)-30 b(v)-18 b(e)422 b(mode)g(of)g(operation)g(in)h
(which)f(guests)g(ha)-24 b(v)-18 b(e)422 b(the)g(il-)2435
23704 y(lusion)376 b(that)g(their)f(page)i(tables)e(are)h(directly)g
(writable.)594 b(Of)376 b(course)f(this)h(is)f(not)h(really)g(the)2435
25360 y(case,)355 b(since)345 b(Xen)f(must)g(still)g(v)-30
b(alidate)345 b(modi\002cations)f(to)h(ensure)f(secure)g(partitioning.)
500 b(T)-97 b(o)2435 27016 y(this)270 b(end,)278 b(Xen)271
b(traps)f(an)-18 b(y)271 b(write)f(attempt)h(to)g(a)f(memory)h(page)g
(of)f(type)h Fh(PT)g Fl(\(i.e.,)277 b(that)271 b(is)f(cur)-24
b(-)2435 28673 y(rently)295 b(part)f(of)g(a)h(page)g(table\).)372
b(If)294 b(such)g(an)h(access)f(occurs,)i(Xen)f(temporarily)f(allo)-30
b(ws)294 b(write)2435 30329 y(access)287 b(to)g(that)g(page)g(while)g
(at)g(the)g(same)g(time)f Fj(disconnecting)h Fl(it)g(from)f(the)h(page)
h(table)f(that)2435 31985 y(is)388 b(currently)f(in)h(use.)630
b(This)387 b(allo)-30 b(ws)388 b(the)g(guest)f(to)h(safely)g(mak)-12
b(e)388 b(updates)g(to)g(the)g(page)g(be-)2435 33641
y(cause)294 b(the)f(ne)-30 b(wly-updated)294 b(entries)e(cannot)i(be)f
(used)h(by)f(the)g(MMU)g(until)g(Xen)h(re)-30 b(v)g(alidates)2435
35297 y(and)313 b(reconnects)g(the)f(page.)405 b(Reconnection)314
b(occurs)e(automatically)i(in)e(a)h(number)f(of)h(situa-)2435
36953 y(tions:)431 b(for)330 b(e)-18 b(xample,)338 b(when)331
b(the)g(guest)f(modi\002es)h(a)g(dif)-30 b(ferent)329
b(page-table)i(page,)339 b(when)331 b(the)2435 38609
y(domain)315 b(is)f(preempted,)j(or)d(whene)-30 b(v)-18
b(er)315 b(the)f(guest)g(uses)g(Xen')-67 b(s)314 b(e)-18
b(xplicit)315 b(page-table)f(update)2435 40265 y(interf)-12
b(aces.)2435 42474 y(Writable)488 b(pagetable)h(functionality)f(is)f
(enabled)i(when)f(the)g(guest)f(requests)g(it,)534 b(using)488
b(a)2435 44130 y Fm(vm)p 4124 44130 364 45 v 436 w(assist)364
b Fl(h)-6 b(ypercall.)564 b(Writable)366 b(pagetables)g(do)g
Fj(not)f Fl(pro)-18 b(vide)366 b(full)f(virtualisation)g(of)h(the)2435
45786 y(MMU,)360 b(so)f(the)h(memory)g(management)h(code)f(of)g(the)g
(guest)g(still)f(needs)h(to)g(be)g(a)-18 b(w)-12 b(are)360
b(that)2435 47442 y(it)324 b(is)g(running)g(on)h(Xen.)440
b(Since)324 b(the)h(guest')-67 b(s)323 b(page)i(tables)f(are)g(used)g
(directly)-79 b(,)330 b(it)324 b(must)g(trans-)2435 49098
y(late)279 b(pseudo-ph)-6 b(ysical)278 b(addresses)f(to)i(real)g
(machine)g(addresses)e(when)i(b)-24 b(uilding)279 b(page)g(table)2435
50754 y(entries.)520 b(The)350 b(guest)h(may)h(not)f(attempt)g(to)g
(map)g(its)g(o)-30 b(wn)351 b(pagetables)g(writably)-79
b(,)363 b(since)351 b(this)2435 52410 y(w)-12 b(ould)319
b(violate)h(the)f(memory)f(type)h(in)-48 b(v)-30 b(ariants;)326
b(page)319 b(tables)g(will)g(automatically)g(be)g(made)2435
54066 y(writable)303 b(by)h(the)f(h)-6 b(ypervisor)-48
b(,)301 b(as)i(necessary)-79 b(.)2435 58721 y Fi(3.5)1594
b(Shado)-16 b(w)399 b(P)-16 b(age)398 b(T)-147 b(ables)2435
62185 y Fl(Finally)-79 b(,)439 b(Xen)411 b(also)g(supports)e(a)j(form)e
(of)h Fj(shadow)g(pa)-12 b(g)g(e)411 b(tables)g Fl(in)g(which)g(the)g
(guest)g(OS)2435 63841 y(uses)392 b(a)g(independent)i(cop)-12
b(y)392 b(of)g(page)h(tables)f(which)h(are)f(unkno)-30
b(wn)393 b(to)f(the)h(hardw)-12 b(are)392 b(\(i.e.)2435
65497 y(which)327 b(are)g(ne)-30 b(v)-18 b(er)326 b(pointed)h(to)g(by)g
Fg(cr3)p Fl(\).)447 b(Instead)326 b(Xen)h(propag)-6 b(ates)326
b(changes)h(made)g(to)g(the)2435 67153 y(guest')-67 b(s)258
b(tables)g(to)g(the)g(real)g(ones,)267 b(and)258 b(vice)h(v)-18
b(ersa.)360 b(This)257 b(is)h(useful)f(for)h(logging)g(page)h(writes)
2435 68809 y(\(e.g.)394 b(for)f(li)-30 b(v)-18 b(e)394
b(migration)g(or)g(checkpoint\).)648 b(A)394 b(full)g(v)-18
b(ersion)393 b(of)h(the)g(shado)-30 b(w)394 b(page)g(tables)2435
70465 y(also)303 b(allo)-30 b(ws)303 b(guest)f(OS)h(porting)g(with)g
(less)g(ef)-30 b(fort.)22058 75362 y(9)p eop end
%%Page: 10 14
TeXDict begin 10 13 bop 7749 7306 a Fi(3.6)1593 b(Segment)398
b(Descriptor)g(T)-147 b(ables)7749 10770 y Fl(At)269
b(start)f(of)g(day)h(a)g(guest)g(is)f(supplied)h(with)g(a)f(def)-12
b(ault)269 b(GDT)-90 b(,)269 b(which)g(does)g(not)g(reside)f(within)
7749 12426 y(its)348 b(o)-30 b(wn)349 b(memory)g(allocation.)514
b(If)348 b(the)h(guest)g(wishes)f(to)h(use)g(other)g(than)g(the)g(def)
-12 b(ault)349 b(`\003at')7749 14082 y(ring-1)305 b(and)i(ring-3)f(se)
-18 b(gments)305 b(that)i(this)f(GDT)g(pro)-18 b(vides,)306
b(it)h(must)f(re)-18 b(gister)305 b(a)h(custom)g(GDT)7749
15738 y(and/or)d(LDT)f(with)h(Xen,)h(allocated)f(from)g(its)f(o)-30
b(wn)303 b(memory)-79 b(.)7749 17948 y(The)303 b(follo)-30
b(wing)302 b(h)-6 b(ypercall)303 b(is)g(used)g(to)g(specify)f(a)i(ne)
-30 b(w)303 b(GDT)-61 b(:)10779 20157 y(int)303 b Fm(set)p
13849 20157 364 45 v 436 w(gdt)p Fl(\(unsigned)f(long)h(*)p
Fj(fr)-18 b(ame)p 26926 20157 V 436 w(list)p Fl(,)303
b(int)g Fj(entries)p Fl(\))10779 22367 y Fj(fr)-18 b(ame)p
13662 22367 V 436 w(list)22 b Fl(:)574 b(An)403 b(array)f(of)h(up)f(to)
h(14)g(machine)g(page)g(frames)f(within)h(which)10779
24023 y(the)341 b(GDT)g(resides.)489 b(An)-18 b(y)341
b(frame)f(re)-18 b(gistered)340 b(as)h(a)g(GDT)g(frame)f(may)i(only)f
(be)10779 25679 y(mapped)376 b(read-only)e(within)h(the)h(guest')-67
b(s)374 b(address)g(space)h(\(e.g.,)393 b(no)375 b(writable)10779
27335 y(mappings,)270 b(no)263 b(use)f(as)g(a)h(page-table)g(page,)271
b(and)262 b(so)g(on\).)362 b(Only)263 b(14)f(pages)h(may)10779
28991 y(be)284 b(speci\002ed)f(because)h(pages)f(15)h(and)f(16)h(are)f
(reserv)-18 b(ed)283 b(for)g(the)g(h)-6 b(ypervisor')-67
b(s)10779 30647 y(GDT)303 b(entries.)10779 32856 y Fj(entries)p
Fl(:)375 b(The)303 b(number)g(of)g(descriptor)-24 b(-entry)301
b(slots)h(in)h(the)g(GDT)-90 b(.)7749 35066 y(The)230
b(LDT)f(is)h(updated)h(via)g(the)f(generic)h(MMU)e(update)i(mechanism)f
(\(i.e.,)245 b(via)230 b(the)h Fm(mmu)p 45874 35066 V
436 w(update)7749 36722 y Fl(h)-6 b(ypercall.)7749 41376
y Fi(3.7)1593 b(Start)398 b(of)h(Day)7749 44840 y Fl(The)300
b(start-of-day)f(en)-48 b(vironment)300 b(for)g(guest)g(operating)g
(systems)f(is)h(rather)g(dif)-30 b(ferent)300 b(to)g(that)7749
46496 y(pro)-18 b(vided)374 b(by)h(the)g(underlying)f(hardw)-12
b(are.)591 b(In)374 b(particular)-48 b(,)392 b(the)374
b(processor)g(is)g(already)h(e)-18 b(x)g(e-)7749 48152
y(cuting)303 b(in)g(protected)g(mode)h(with)f(paging)g(enabled.)7749
50362 y Fj(Domain)425 b(0)f Fl(is)h(created)g(and)g(booted)g(by)f(Xen)h
(itself.)740 b(F)-18 b(or)424 b(all)h(subsequent)f(domains,)455
b(the)7749 52018 y(analogue)338 b(of)g(the)g(boot-loader)f(is)g(the)h
Fj(domain)g(b)-24 b(uilder)p Fl(,)346 b(user)-24 b(-space)337
b(softw)-12 b(are)337 b(running)g(in)7749 53674 y Fj(domain)284
b(0)p Fl(.)369 b(The)284 b(domain)g(b)-24 b(uilder)283
b(is)h(responsible)f(for)g(b)-24 b(uilding)283 b(the)h(initial)g(page)g
(tables)g(for)7749 55330 y(a)303 b(domain)g(and)h(loading)f(its)f(k)-12
b(ernel)303 b(image)h(at)f(the)g(appropriate)g(virtual)g(address.)7749
59984 y Fi(3.8)1593 b(VM)398 b(assists)7749 63448 y Fl(Xen)454
b(pro)-18 b(vides)453 b(a)h(number)g(of)f(\223assists\224)g(for)g
(guest)g(memory)h(management.)829 b(These)453 b(are)7749
65104 y(a)-24 b(v)-30 b(ailable)387 b(on)g(an)g(\223opt-in\224)g(basis)
g(to)g(pro)-18 b(vide)386 b(commonly-used)h(e)-18 b(xtra)387
b(functionality)g(to)g(a)7749 66760 y(guest.)7749 69600
y Fh(vm)p 9438 69600 V 436 w(assist\(unsigned)336 b(int)h(cmd,)g
(unsigned)g(int)f(type\))7749 71809 y Fl(The)449 b Fm(cmd)g
Fl(parameter)g(describes)g(the)g(action)h(to)f(be)h(tak)-12
b(en,)486 b(whilst)449 b(the)g Fm(type)g Fl(parameter)27068
75362 y(10)p eop end
%%Page: 11 15
TeXDict begin 11 14 bop 2435 7306 a Fl(describes)391
b(the)g(kind)g(of)g(assist)e(that)j(is)e(being)h(referred)g(to.)639
b(A)-90 b(v)-30 b(ailable)392 b(commands)f(are)g(as)2435
8962 y(follo)-30 b(ws:)2435 11171 y Fm(VMASST)p 7558
11171 364 45 v 438 w(CMD)p 10890 11171 V 436 w(enable)607
b Fl(Enable)303 b(a)g(particular)g(assist)e(type)2435
13381 y Fm(VMASST)p 7558 13381 V 438 w(CMD)p 10890 13381
V 436 w(disable)606 b Fl(Disable)303 b(a)g(particular)g(assist)f(type)
2435 15590 y(And)i(the)f(a)-24 b(v)-30 b(ailable)303
b(types)g(are:)2435 17800 y Fm(VMASST)p 7558 17800 V
438 w(TYPE)p 11228 17800 V 437 w(4gb)p 13551 17800 V
436 w(segments)605 b Fl(Pro)-18 b(vide)466 b(emulated)h(support)f(for)f
(instructions)h(that)5466 19456 y(rely)283 b(on)h(4GB)h(se)-18
b(gments)283 b(\(such)h(as)f(the)h(techniques)h(used)e(by)h(some)g(TLS)
f(solutions\).)2435 21665 y Fm(VMASST)p 7558 21665 V
438 w(TYPE)p 11228 21665 V 437 w(4gb)p 13551 21665 V
436 w(segments)p 18701 21665 V 435 w(notify)605 b Fl(Pro)-18
b(vide)230 b(a)h(callback)g(to)f(the)h(guest)f(if)g(the)g(abo)-18
b(v)g(e)5466 23322 y(se)g(gment)291 b(\002xups)g(are)h(used:)369
b(allo)-30 b(ws)291 b(the)h(guest)f(to)h(display)f(a)h(w)-12
b(arning)292 b(message)f(dur)-24 b(-)5466 24978 y(ing)303
b(boot.)2435 27187 y Fm(VMASST)p 7558 27187 V 438 w(TYPE)p
11228 27187 V 437 w(writable)p 15974 27187 V 436 w(pagetables)606
b Fl(Enable)230 b(writable)g(pagetable)h(mode)g(-)f(described)5466
28843 y(abo)-18 b(v)g(e.)21755 75362 y(11)p eop end
%%Page: 12 16
TeXDict begin 12 15 bop 27068 75362 a Fl(12)p eop end
%%Page: 13 17
TeXDict begin 13 16 bop 2435 16438 a Fk(Chapter)575 b(4)2435
22859 y Fp(Xen)689 b(Inf)-69 b(o)690 b(P)-28 b(ages)2435
29496 y Fl(The)265 b Fm(Shar)-22 b(ed)265 b(inf)-30 b(o)264
b(page)h Fl(is)f(used)g(to)h(share)f(v)-30 b(arious)264
b(CPU-related)h(state)f(between)h(the)g(guest)2435 31152
y(OS)341 b(and)g(the)f(h)-6 b(ypervisor)-67 b(.)488 b(This)339
b(information)h(includes)h(VCPU)g(status,)349 b(time)340
b(information)2435 32808 y(and)443 b(e)-30 b(v)-18 b(ent)442
b(channel)g(\(virtual)g(interrupt\))f(state.)792 b(The)442
b Fm(Start)g(inf)-30 b(o)441 b(page)h Fl(is)g(used)g(to)g(pass)2435
34464 y(b)-24 b(uild-time)381 b(information)f(to)h(the)g(guest)g(when)g
(it)g(boots)f(and)i(when)f(it)g(is)f(resumed)g(from)h(a)2435
36120 y(suspended)365 b(state.)562 b(This)364 b(chapter)i(documents)f
(the)g(\002elds)g(included)h(in)f(the)g Fm(shar)-22 b(ed)p
39092 36120 364 45 v 437 w(inf)-30 b(o)p 41520 36120
V 435 w(t)2435 37776 y Fl(and)304 b Fm(start)p 6986 37776
V 435 w(inf)-30 b(o)p 9412 37776 V 436 w(t)302 b Fl(structures)g(for)g
(use)h(by)g(the)g(guest)g(OS.)2435 42431 y Fi(4.1)1594
b(Shar)-29 b(ed)399 b(inf)-40 b(o)399 b(page)2435 45895
y Fl(The)295 b Fm(shar)-22 b(ed)p 8168 45895 V 437 w(inf)-30
b(o)p 10596 45895 V 435 w(t)295 b Fl(is)g(accessed)g(at)h(run)f(time)g
(by)h(both)f(Xen)h(and)f(the)h(guest)f(OS.)g(It)g(is)g(used)2435
47551 y(to)347 b(pass)g(information)f(relating)h(to)h(the)f(virtual)g
(CPU)g(and)h(virtual)f(machine)g(state)g(between)2435
49207 y(the)304 b(OS)f(and)g(the)g(h)-6 b(ypervisor)-67
b(.)2435 51416 y(The)303 b(structure)f(is)h(declared)g(in)g
Fm(xen/include/public/xen.h)p Fl(:)2435 53126 y Ff(typedef)534
b(struct)f(shared_info)j({)4561 54283 y(vcpu_info_t)f
(vcpu_info[XEN_LEGACY_MAX_VCPUS];)4561 56597 y(/)5092
56752 y(*)5092 57909 y(*)6155 57754 y(A)c(domain)j(can)e(create)i
("event)f(channels")h(on)e(which)h(it)f(can)h(send)f(and)h(receive)5092
59065 y(*)6155 58910 y(asynchronous)i(event)e(notifications.)j(There)d
(are)g(three)g(classes)g(of)g(event)g(that)5092 60222
y(*)6155 60067 y(are)f(delivered)i(by)e(this)h(mechanism:)5092
61379 y(*)6686 61224 y(1.)f(Bi-directional)k(inter-)e(and)e
(intra-domain)j(connections.)h(Domains)e(must)5092 62536
y(*)8280 62381 y(arrange)g(out-of-band)h(to)d(set)g(up)g(a)g
(connection)j(\(usually)f(by)e(allocating)5092 63692
y(*)8280 63537 y(an)g(unbound)i('listener')h(port)d(and)h(advertising)i
(that)d(via)h(a)e(storage)j(service)5092 64849 y(*)8280
64694 y(such)f(as)f(xenstore\).)5092 66006 y(*)6686 65851
y(2.)g(Physical)i(interrupts.)h(A)d(domain)h(with)g(suitable)h
(hardware-access)5092 67163 y(*)8280 67008 y(privileges)h(can)d(bind)h
(an)f(event-channel)k(port)c(to)g(a)g(physical)i(interrupt)5092
68320 y(*)8280 68165 y(source.)5092 69476 y(*)6686 69321
y(3.)e(Virtual)i(interrupts)h(\('events'\).)g(A)c(domain)j(can)e(bind)h
(an)f(event-channel)5092 70633 y(*)8280 70478 y(port)h(to)f(a)f
(virtual)j(interrupt)h(source,)e(such)g(as)f(the)g(virtual-timer)5092
71790 y(*)8280 71635 y(device)h(or)f(the)h(emergency)h(console.)21755
75362 y Fl(13)p eop end
%%Page: 14 18
TeXDict begin 14 17 bop 10405 7461 a Ff(*)10405 8618
y(*)11468 8463 y(Event)533 b(channels)h(are)f(addressed)h(by)e(a)g
("port)h(index".)g(Each)g(channel)h(is)10405 9774 y(*)11468
9619 y(associated)h(with)e(two)f(bits)h(of)f(information:)10405
10931 y(*)11999 10776 y(1.)g(PENDING)i(--)e(notifies)i(the)f(domain)g
(that)g(there)g(is)f(a)g(pending)h(notification)10405
12088 y(*)13593 11933 y(to)f(be)h(processed.)h(This)f(bit)f(is)g
(cleared)i(by)e(the)g(guest.)10405 13245 y(*)11999 13090
y(2.)g(MASK)h(--)f(if)g(this)h(bit)f(is)g(clear)h(then)g(a)f(0->1)g
(transition)j(of)d(PENDING)10405 14402 y(*)13593 14247
y(will)h(cause)g(an)f(asynchronous)k(upcall)d(to)f(be)g(scheduled.)j
(This)e(bit)f(is)g(only)10405 15558 y(*)13593 15403 y(updated)i(by)e
(the)h(guest.)g(It)f(is)g(read-only)i(within)g(Xen.)f(If)f(a)f(channel)
10405 16715 y(*)13593 16560 y(becomes)j(pending)g(while)f(the)f
(channel)i(is)e(masked)h(then)g(the)g('edge')g(is)f(lost)10405
17872 y(*)13593 17717 y(\(i.e.,)i(when)f(the)f(channel)i(is)e
(unmasked,)i(the)e(guest)i(must)e(manually)i(handle)10405
19029 y(*)13593 18874 y(pending)g(notifications)i(as)c(no)g(upcall)h
(will)g(be)f(scheduled)j(by)d(Xen\).)10405 20186 y(*)10405
21342 y(*)11468 21187 y(To)g(expedite)i(scanning)g(of)e(pending)i
(notifications,)i(any)d(0->1)f(pending)10405 22499 y(*)11468
22344 y(transition)j(on)d(an)g(unmasked)i(channel)g(causes)f(a)f
(corresponding)k(bit)c(in)g(a)10405 23656 y(*)11468 23501
y(per-vcpu)i(selector)g(word)f(to)f(be)g(set.)h(Each)f(bit)h(in)f(the)g
(selector)i(covers)g(a)10405 24813 y(*)11468 24658 y('C)e(long')h(in)f
(the)h(PENDING)g(bitfield)h(array.)10405 25969 y(*)10936
25814 y(/)9874 26971 y(unsigned)g(long)f
(evtchn_pending[sizeof\(unsigned)541 b(long\))36972 27126
y(*)38035 26971 y(8];)9874 28128 y(unsigned)534 b(long)f
(evtchn_mask[sizeof\(unsigned)540 b(long\))35378 28283
y(*)36441 28128 y(8];)9874 30442 y(/)10405 30597 y(*)10405
31753 y(*)11468 31598 y(Wallclock)535 b(time:)e(updated)g(only)g(by)f
(control)i(software.)g(Guests)g(should)f(base)10405 32910
y(*)11468 32755 y(their)g(gettimeofday\(\))j(syscall)e(on)e(this)h
(wallclock-base)j(value.)10405 34067 y(*)10936 33912
y(/)9874 35069 y(uint32_t)e(wc_version;)3192 b(/)24220
35224 y(*)25283 35069 y(Version)534 b(counter:)g(see)e
(vcpu_time_info_t.)46005 35224 y(*)46536 35069 y(/)9874
36225 y(uint32_t)i(wc_sec;)5316 b(/)24220 36380 y(*)25283
36225 y(Secs)1064 b(00:00:00)534 b(UTC,)f(Jan)f(1,)g(1970.)43349
36380 y(*)43880 36225 y(/)9874 37382 y(uint32_t)i(wc_nsec;)4785
b(/)24220 37537 y(*)25283 37382 y(Nsecs)533 b(00:00:00)h(UTC,)f(Jan)f
(1,)g(1970.)43349 37537 y(*)43880 37382 y(/)9874 39696
y(arch_shared_info_t)538 b(arch;)7749 42009 y(})531 b(shared_info_t;)
7749 44219 y Fm(vcpu)p 10314 44219 364 45 v 436 w(inf)-30
b(o)606 b Fl(An)321 b(array)h(of)f Fm(vcpu)p 21784 44219
V 436 w(inf)-30 b(o)p 24211 44219 V 436 w(t)321 b Fl(structures,)k
(each)d(of)g(which)g(holds)f(either)g(runtime)10779 45875
y(information)338 b(about)h(a)g(virtual)g(CPU,)g(or)g(is)f
(\223empty\224)h(if)f(the)h(corresponding)g(VCPU)10779
47531 y(does)303 b(not)g(e)-18 b(xist.)7749 49740 y Fm(e)g(vtchn)p
11238 49740 V 436 w(pending)606 b Fl(Guest-global)296
b(array)-79 b(,)297 b(with)f(one)h(bit)f(per)g(e)-30
b(v)-18 b(ent)296 b(channel.)374 b(Bits)296 b(are)g(set)g(if)10779
51396 y(an)303 b(e)-30 b(v)-18 b(ent)303 b(is)g(currently)f(pending)i
(on)f(that)g(channel.)7749 53606 y Fm(e)-18 b(vtchn)p
11238 53606 V 436 w(mask)605 b Fl(Guest-global)303 b(array)g(for)f
(masking)h(noti\002cations)g(on)g(e)-30 b(v)-18 b(ent)303
b(channels.)7749 55815 y Fm(wc)p 9235 55815 V 436 w(v)-12
b(ersion)606 b Fl(V)-135 b(ersion)303 b(counter)g(for)g(current)f(w)-12
b(allclock)304 b(time.)7749 58025 y Fm(wc)p 9235 58025
V 436 w(sec)606 b Fl(Whole)304 b(seconds)e(component)i(of)f(current)f
(w)-12 b(allclock)304 b(time.)7749 60234 y Fm(wc)p 9235
60234 V 436 w(nsec)606 b Fl(Nanoseconds)303 b(component)h(of)f(current)
f(w)-12 b(allclock)304 b(time.)7749 62444 y Fm(ar)-22
b(ch)606 b Fl(Host)303 b(architecture-dependent)h(portion)e(of)h(the)g
(shared)g(info)g(structure.)7749 66475 y Fe(4.1.1)1329
b(vcpu)p 14546 66475 399 45 v 477 w(inf)-33 b(o)p 17204
66475 V 478 w(t)7749 69003 y Ff(typedef)533 b(struct)h(vcpu_info)g({)
9874 70160 y(/)10405 70315 y(*)10405 71472 y(*)11468
71317 y('evtchn_upcall_pending')539 b(is)532 b(written)i(non-zero)g(by)
e(Xen)h(to)f(indicate)27068 75362 y Fl(14)p eop end
%%Page: 15 19
TeXDict begin 15 18 bop 5092 7461 a Ff(*)6155 7306 y(a)531
b(pending)j(notification)i(for)c(a)g(particular)i(VCPU.)f(It)f(is)g
(then)h(cleared)5092 8618 y(*)6155 8463 y(by)f(the)g(guest)h(OS)f
(/before/)i(checking)g(for)f(pending)g(work,)g(thus)g(avoiding)5092
9774 y(*)6155 9619 y(a)e(set-and-check)536 b(race.)d(Note)g(that)g(the)
f(mask)h(is)f(only)g(accessed)i(by)f(Xen)5092 10931 y(*)6155
10776 y(on)f(the)g(CPU)g(that)h(is)f(currently)j(hosting)e(the)g(VCPU.)
g(This)f(means)h(that)g(the)5092 12088 y(*)6155 11933
y(pending)g(and)g(mask)f(flags)i(can)e(be)g(updated)i(by)e(the)g(guest)
h(without)h(special)5092 13245 y(*)6155 13090 y(synchronisation)i
(\(i.e.,)e(no)e(need)g(for)h(the)f(x86)g(LOCK)h(prefix\).)5092
14402 y(*)6155 14247 y(This)f(may)h(seem)f(suboptimal)j(because)f(if)e
(the)g(pending)i(flag)f(is)f(set)g(by)5092 15558 y(*)6155
15403 y(a)f(different)k(CPU)d(then)h(an)f(IPI)g(may)h(be)f(scheduled)i
(even)f(when)f(the)h(mask)5092 16715 y(*)6155 16560 y(is)f(set.)g
(However,)i(note:)5092 17872 y(*)6686 17717 y(1.)e(The)g(task)h(of)f
('interrupt)j(holdoff')f(is)e(covered)i(by)e(the)g(per-event-)5092
19029 y(*)8280 18874 y(channel)i(mask)e(bits.)i(A)d('noisy')j(event)f
(that)g(is)f(continually)j(being)5092 20186 y(*)8280
20031 y(triggered)f(can)f(be)f(masked)h(at)f(source)i(at)e(this)g(very)
h(precise)5092 21342 y(*)8280 21187 y(granularity.)5092
22499 y(*)6686 22344 y(2.)f(The)g(main)h(purpose)h(of)e(the)g(per-VCPU)
i(mask)f(is)f(therefore)i(to)e(restrict)5092 23656 y(*)8280
23501 y(reentrant)i(execution:)h(whether)f(for)e(concurrency)j
(control,)f(or)f(to)5092 24813 y(*)8280 24658 y(prevent)h(unbounded)g
(stack)f(usage.)h(Whatever)g(the)e(purpose,)i(we)e(expect)5092
25969 y(*)8280 25814 y(that)h(the)f(mask)h(will)g(be)f(asserted)i(only)
e(for)h(short)g(periods)g(at)g(a)e(time,)5092 27126 y(*)8280
26971 y(and)h(so)g(the)h(likelihood)i(of)d(a)f('spurious')k(IPI)d(is)g
(suitably)i(small.)5092 28283 y(*)6155 28128 y(The)e(mask)h(is)f(read)g
(before)i(making)f(an)f(event)h(upcall)h(to)e(the)g(guest:)i(a)5092
29440 y(*)6155 29285 y(non-zero)g(mask)e(therefore)j(guarantees)g(that)
d(the)h(VCPU)f(will)h(not)f(receive)5092 30597 y(*)6155
30442 y(an)g(upcall)h(activation.)i(The)e(mask)f(is)g(cleared)i(when)f
(the)f(VCPU)h(requests)5092 31753 y(*)6155 31598 y(to)f(block:)h(this)g
(avoids)g(wakeup-waiting)j(races.)5092 32910 y(*)5623
32755 y(/)4561 33912 y(uint8_t)d(evtchn_upcall_pending;)4561
35069 y(uint8_t)g(evtchn_upcall_mask;)4561 36225 y(unsigned)h(long)e
(evtchn_pending_sel;)4561 37382 y(arch_vcpu_info_t)k(arch;)4561
38539 y(vcpu_time_info_t)g(time;)2435 39696 y(})c(vcpu_info_t;)j(/)
10936 39851 y(*)11999 39696 y(64)d(bytes)i(\(x86\))19970
39851 y(*)20501 39696 y(/)2435 41905 y Fm(e)-18 b(vtchn)p
5924 41905 364 45 v 436 w(upcall)p 9526 41905 V 437 w(pending)606
b Fl(This)525 b(is)h(set)g(non-zero)g(by)g(Xen)g(to)h(indicate)f(that)h
(there)f(are)5466 43561 y(pending)303 b(e)-30 b(v)-18
b(ents)303 b(to)g(be)g(recei)-30 b(v)-18 b(ed.)2435 45771
y Fm(e)g(vtchn)p 5924 45771 V 436 w(upcall)p 9526 45771
V 437 w(mask)605 b Fl(This)294 b(is)g(set)g(non-zero)g(to)h(disable)f
(all)h(interrupts)f(for)f(this)h(CPU)i(for)5466 47427
y(short)392 b(periods)h(of)g(time.)647 b(If)393 b(indi)-30
b(vidual)394 b(e)-30 b(v)-18 b(ent)393 b(channels)h(need)g(to)f(be)h
(mask)-12 b(ed,)416 b(the)5466 49083 y Fm(e)-18 b(vtchn)p
8955 49083 V 436 w(mask)302 b Fl(in)h(the)g Fm(shar)-22
b(ed)p 18965 49083 V 437 w(inf)-30 b(o)p 21393 49083
V 435 w(t)303 b Fl(is)f(used)h(instead.)2435 51292 y
Fm(e)-18 b(vtchn)p 5924 51292 V 436 w(pending)p 10537
51292 V 437 w(sel)605 b Fl(When)232 b(an)f(e)-30 b(v)-18
b(ent)231 b(is)g(deli)-30 b(v)-18 b(ered)231 b(to)g(this)f(VCPU,)i(a)g
(bit)f(is)f(set)h(in)g(this)g(se-)5466 52948 y(lector)f(to)g(indicate)h
(which)g(w)-12 b(ord)230 b(of)g(the)g Fm(e)-18 b(vtchn)p
26039 52948 V 436 w(pending)231 b Fl(array)f(in)g(the)g
Fm(shar)-22 b(ed)p 39967 52948 V 437 w(inf)-30 b(o)p
42395 52948 V 435 w(t)5466 54604 y Fl(contains)303 b(the)g(e)-30
b(v)-18 b(ent)303 b(in)g(question.)2435 56814 y Fm(ar)-22
b(ch)607 b Fl(Architecture-speci\002c)346 b(VCPU)h(info.)506
b(On)347 b(x86)f(this)g(contains)h(the)f(virtualized)h(CR2)5466
58470 y(re)-18 b(gister)302 b(\(page)h(f)-12 b(ault)302
b(linear)h(address\))f(for)g(this)h(VCPU.)2435 60679
y Fm(time)606 b Fl(T)-42 b(ime)302 b(v)-30 b(alues)303
b(for)f(this)h(VCPU.)2435 64710 y Fe(4.1.2)1329 b(vcpu)p
9232 64710 399 45 v 478 w(time)p 12218 64710 V 478 w(inf)-33
b(o)2435 67239 y Ff(typedef)534 b(struct)f(vcpu_time_info)k({)4561
68396 y(/)5092 68551 y(*)5092 69707 y(*)6155 69552 y(Updates)c(to)f
(the)h(following)h(values)g(are)e(preceded)i(and)e(followed)i(by)f(an)
5092 70864 y(*)6155 70709 y(increment)h(of)e('version'.)j(The)d(guest)h
(can)g(therefore)h(detect)f(updates)h(by)5092 72021 y(*)6155
71866 y(looking)f(for)g(changes)h(to)e('version'.)i(If)e(the)h
(least-significant)k(bit)532 b(of)21755 75362 y Fl(15)p
eop end
%%Page: 16 20
TeXDict begin 16 19 bop 10405 7461 a Ff(*)11468 7306
y(the)532 b(version)i(number)g(is)e(set)g(then)h(an)f(update)h(is)f(in)
g(progress)i(and)f(the)f(guest)10405 8618 y(*)11468 8463
y(must)h(wait)g(to)f(read)g(a)g(consistent)j(set)d(of)g(values.)10405
9774 y(*)11468 9619 y(The)g(correct)i(way)f(to)f(interact)i(with)e(the)
h(version)g(number)h(is)e(similar)i(to)10405 10931 y(*)11468
10776 y(Linux's)g(seqlock:)g(see)e(the)h(implementations)j(of)c
(read_seqbegin/read_seqretry.)10405 12088 y(*)10936 11933
y(/)9874 13090 y(uint32_t)i(version;)9874 14247 y(uint32_t)g(pad0;)9874
15403 y(uint64_t)g(tsc_timestamp;)1599 b(/)24220 15558
y(*)25283 15403 y(TSC)532 b(at)g(last)h(update)g(of)f(time)h(vals.)
43349 15558 y(*)43880 15403 y(/)9874 16560 y(uint64_t)h(system_time;)
2661 b(/)24220 16715 y(*)25283 16560 y(Time,)533 b(in)f(nanosecs,)i
(since)g(boot.)43349 16715 y(*)43880 16560 y(/)9874 17717
y(/)10405 17872 y(*)10405 19029 y(*)11468 18874 y(Current)g(system)f
(time:)10405 20186 y(*)12531 20031 y(system_time)i(+)d(\(\(tsc)h(-)e
(tsc_timestamp\))536 b(<<)c(tsc_shift\))39629 20186 y(*)40692
20031 y(tsc_to_system_mul)10405 21342 y(*)11468 21187
y(CPU)g(frequency)j(\(Hz\):)10405 22499 y(*)12531 22344
y(\(\(10\2109)e(<<)f(32\))h(/)e(tsc_to_system_mul\))538
b(>>)532 b(tsc_shift)10405 23656 y(*)10936 23501 y(/)9874
24658 y(uint32_t)i(tsc_to_system_mul;)9874 25814 y(int8_t)1596
b(tsc_shift;)9874 26971 y(int8_t)g(pad1[3];)7749 28128
y(})531 b(vcpu_time_info_t;)538 b(/)18907 28283 y(*)19970
28128 y(32)532 b(bytes)24752 28283 y(*)25283 28128 y(/)7749
30337 y Fm(v)-12 b(ersion)606 b Fl(Used)302 b(to)h(ensure)g(the)g
(guest)g(gets)g(consistent)f(time)h(updates.)7749 32547
y Fm(tsc)p 9236 32547 364 45 v 435 w(timestamp)605 b
Fl(Cycle)372 b(counter)f(timestamp)g(of)f(last)h(time)g(v)-30
b(alue;)405 b(could)371 b(be)h(used)f(to)g(e)-18 b(x-)10779
34203 y(polate)303 b(in)g(between)h(updates,)f(for)g(instance.)7749
36412 y Fm(system)p 11324 36412 V 435 w(time)605 b Fl(T)-42
b(ime)303 b(since)f(boot)i(\(nanoseconds\).)7749 38622
y Fm(tsc)p 9236 38622 V 435 w(to)p 10681 38622 V 436
w(system)p 14619 38622 V 435 w(mul)606 b Fl(Cycle)238
b(counter)g(to)g(nanoseconds)f(multiplier)h(\(used)f(in)g(e)-18
b(xtrapolating)10779 40278 y(current)303 b(time\).)7749
42488 y Fm(tsc)p 9236 42488 V 435 w(shift)605 b Fl(Cycle)304
b(counter)f(to)g(nanoseconds)g(shift)f(\(used)h(in)g(e)-18
b(xtrapolating)303 b(current)g(time\).)7749 46518 y Fe(4.1.3)1329
b(ar)-24 b(ch)p 14373 46518 399 45 v 477 w(shar)g(ed)p
18665 46518 V 477 w(inf)-33 b(o)p 21323 46518 V 479 w(t)7749
49546 y Fl(On)230 b(x86,)245 b(the)231 b Fm(ar)-22 b(ch)p
15945 49546 364 45 v 437 w(shar)g(ed)p 19862 49546 V
436 w(inf)-30 b(o)p 22289 49546 V 436 w(t)230 b Fl(is)f(de\002ned)i(as)
f(follo)-30 b(ws)229 b(\(from)h(x)-18 b(en/public/arch-x86)p
46007 49546 V 436 w(32.h\):)7749 51256 y Ff(typedef)533
b(struct)h(arch_shared_info)j({)9874 52413 y(unsigned)d(long)f
(max_pfn;)9567 b(/)31659 52568 y(*)32722 52413 y(max)532
b(pfn)g(that)h(appears)h(in)e(table)48662 52568 y(*)49193
52413 y(/)9874 53570 y(/)10405 53725 y(*)11468 53570
y(Frame)h(containing)i(list)e(of)f(mfns)g(containing)j(list)e(of)f
(mfns)h(containing)h(p2m.)48662 53725 y(*)49193 53570
y(/)9874 54727 y(unsigned)g(long)f(pfn_to_mfn_frame_list_list;)7749
55884 y(})e(arch_shared_info_t;)7749 58093 y Fm(max)p
10044 58093 V 436 w(pfn)605 b Fl(The)231 b(maximum)f(PFN)g(listed)g(in)
h(the)f(ph)-6 b(ysical-to-machine)230 b(mapping)h(table)g(\(P2M)10779
59749 y(table\).)7749 61959 y Fm(pfn)p 9574 61959 V 436
w(to)p 11020 61959 V 436 w(mfn)p 13544 61959 V 435 w(frame)p
17075 61959 V 436 w(list)p 19061 61959 V 436 w(list)605
b Fl(Machine)450 b(address)g(of)g(the)g(frame)g(that)h(contains)f(the)g
(ma-)10779 63615 y(chine)303 b(addresses)f(of)h(the)g(P2M)g(table)g
(frames.)7749 68269 y Fi(4.2)1593 b(Start)398 b(inf)-40
b(o)399 b(page)7749 71733 y Fl(The)287 b(start)h(info)f(structure)g(is)
h(declared)g(as)f(the)i(follo)-30 b(wing)287 b(\(in)h
Fm(xen/include/public/xen.h)p Fl(\):)27068 75362 y(16)p
eop end
%%Page: 17 21
TeXDict begin 17 20 bop 2435 7306 a Ff(#define)534 b(MAX_GUEST_CMDLINE)
j(1024)2435 8463 y(typedef)d(struct)f(start_info)i({)4561
9619 y(/)5092 9774 y(*)6155 9619 y(THE)d(FOLLOWING)i(ARE)f(FILLED)g(IN)
f(BOTH)h(ON)f(INITIAL)i(BOOT)e(AND)h(ON)f(RESUME.)41755
9774 y(*)42286 9619 y(/)4561 10776 y(char)g(magic[32];)6911
b(/)19969 10931 y(*)21032 10776 y("Xen-<version>.<subversion>".)36972
10931 y(*)37503 10776 y(/)4561 11933 y(unsigned)534 b(long)e(nr_pages;)
2660 b(/)19969 12088 y(*)21032 11933 y(Total)533 b(pages)g(allocated)i
(to)d(this)g(domain.)41755 12088 y(*)42286 11933 y(/)4561
13090 y(unsigned)i(long)e(shared_info;)1067 b(/)19969
13245 y(*)21032 13090 y(MACHINE)534 b(address)g(of)e(shared)h(info)g
(struct.)41755 13245 y(*)42286 13090 y(/)4561 14247 y(uint32_t)h
(flags;)6909 b(/)19969 14402 y(*)21032 14247 y(SIF_xxx)534
b(flags.)41755 14402 y(*)42286 14247 y(/)4561 15403 y(unsigned)g(long)e
(store_mfn;)2129 b(/)19969 15558 y(*)21032 15403 y(MACHINE)534
b(page)f(number)g(of)f(shared)h(page.)41755 15558 y(*)42286
15403 y(/)4561 16560 y(uint32_t)h(store_evtchn;)3192
b(/)19969 16715 y(*)21032 16560 y(Event)533 b(channel)h(for)e(store)h
(communication.)41755 16715 y(*)42286 16560 y(/)4561
17717 y(unsigned)h(long)e(console_mfn;)1067 b(/)19969
17872 y(*)21032 17717 y(MACHINE)534 b(address)g(of)e(console)h(page.)
41755 17872 y(*)42286 17717 y(/)4561 18874 y(uint32_t)h
(console_evtchn;)2130 b(/)19969 19029 y(*)21032 18874
y(Event)533 b(channel)h(for)e(console)i(messages.)41755
19029 y(*)42286 18874 y(/)4561 20031 y(/)5092 20186 y(*)6155
20031 y(THE)e(FOLLOWING)i(ARE)f(ONLY)g(FILLED)g(IN)f(ON)g(INITIAL)i
(BOOT)e(\(NOT)h(RESUME\).)41755 20186 y(*)42286 20031
y(/)4561 21187 y(unsigned)h(long)e(pt_base;)3191 b(/)19969
21342 y(*)21032 21187 y(VIRTUAL)534 b(address)g(of)e(page)g(directory.)
41755 21342 y(*)42286 21187 y(/)4561 22344 y(unsigned)i(long)e
(nr_pt_frames;)k(/)19969 22499 y(*)21032 22344 y(Number)e(of)e
(bootstrap)i(p.t.)f(frames.)41755 22499 y(*)42286 22344
y(/)4561 23501 y(unsigned)h(long)e(mfn_list;)2660 b(/)19969
23656 y(*)21032 23501 y(VIRTUAL)534 b(address)g(of)e(page-frame)i
(list.)41755 23656 y(*)42286 23501 y(/)4561 24658 y(unsigned)g(long)e
(mod_start;)2129 b(/)19969 24813 y(*)21032 24658 y(VIRTUAL)534
b(address)g(of)e(pre-loaded)i(module.)41755 24813 y(*)42286
24658 y(/)4561 25814 y(unsigned)g(long)e(mod_len;)3191
b(/)19969 25969 y(*)21032 25814 y(Size)533 b(\(bytes\))h(of)e
(pre-loaded)i(module.)41755 25969 y(*)42286 25814 y(/)4561
26971 y(int8_t)f(cmd_line[MAX_GUEST_CMDLINE];)2435 28128
y(})f(start_info_t;)2435 30337 y Fl(The)332 b(\002elds)g(are)g(in)g(tw)
-12 b(o)332 b(groups:)433 b(the)332 b(\002rst)f(group)h(are)g(al)-12
b(w)g(ays)331 b(\002lled)i(in)f(when)g(a)g(domain)g(is)2435
31993 y(booted)304 b(or)e(resumed,)h(the)g(second)g(set)g(are)g(only)g
(used)g(at)g(boot)g(time.)2435 34203 y(The)g(al)-12 b(w)g(ays-a)-24
b(v)-30 b(ailable)303 b(group)g(is)f(as)h(follo)-30 b(ws:)2435
36412 y Fm(magic)606 b Fl(A)303 b(te)-18 b(xt)303 b(string)g
(identifying)g(the)g(Xen)g(v)-18 b(ersion)303 b(to)g(the)g(guest.)2435
38622 y Fm(nr)p 3720 38622 364 45 v 437 w(pages)606 b
Fl(The)302 b(number)h(of)g(real)g(machine)h(pages)f(a)-24
b(v)-30 b(ailable)303 b(to)g(the)g(guest.)2435 40831
y Fm(shar)-22 b(ed)p 5988 40831 V 437 w(inf)-30 b(o)605
b Fl(Machine)409 b(address)f(of)h(the)g(shared)f(info)h(structure,)434
b(allo)-30 b(wing)409 b(the)g(guest)g(to)5466 42488 y(map)303
b(it)g(during)g(initialisation.)2435 44697 y Fm(\003ags)606
b Fl(Flags)303 b(for)f(describing)h(optional)g(e)-18
b(xtra)303 b(settings)f(to)h(the)g(guest.)2435 46907
y Fm(stor)-22 b(e)p 5044 46907 V 436 w(mfn)606 b Fl(Machine)303
b(address)f(of)h(the)g(Xenstore)g(communications)g(page.)2435
49116 y Fm(stor)-22 b(e)p 5044 49116 V 436 w(e)k(vtchn)606
b Fl(Ev)-18 b(ent)303 b(channel)h(to)f(communicate)g(with)h(the)f
(store.)2435 51326 y Fm(console)p 6279 51326 V 437 w(mfn)605
b Fl(Machine)303 b(address)f(of)h(the)g(console)g(data)h(page.)2435
53535 y Fm(console)p 6279 53535 V 437 w(e)-18 b(vtchn)605
b Fl(Ev)-18 b(ent)303 b(channel)h(to)f(notify)g(the)g(console)g(back)
-12 b(end.)2435 55745 y(The)303 b(boot-only)g(group)g(may)g(only)g(be)h
(safely)e(referred)g(to)h(during)g(system)g(boot:)2435
57954 y Fm(pt)p 3586 57954 V 436 w(base)606 b Fl(V)-73
b(irtual)277 b(address)f(of)h(the)g(page)g(directory)g(created)g(for)g
(us)f(by)h(the)h(domain)f(b)-24 b(uilder)-67 b(.)2435
60164 y Fm(nr)p 3720 60164 V 437 w(pt)p 5235 60164 V
436 w(frames)605 b Fl(Number)303 b(of)g(frames)f(used)h(by)g(the)g(b)
-24 b(uilders')302 b(bootstrap)g(pagetables.)2435 62373
y Fm(mfn)p 4596 62373 V 436 w(list)605 b Fl(V)-73 b(irtual)303
b(address)f(of)h(the)g(list)g(of)f(machine)i(frames)e(this)h(domain)g
(o)-30 b(wns.)2435 64583 y Fm(mod)p 4798 64583 V 436
w(start)605 b Fl(V)-73 b(irtual)304 b(address)e(of)g(an)-18
b(y)304 b(pre-loaded)f(modules)f(\(e.g.)376 b(ramdisk\))2435
66792 y Fm(mod)p 4798 66792 V 436 w(len)606 b Fl(Size)304
b(of)e(pre-loaded)h(module)h(\(if)e(an)-18 b(y\).)2435
69002 y Fm(cmd)p 4730 69002 V 436 w(line)607 b Fl(K)-30
b(ernel)302 b(command)i(line)f(passed)g(by)g(the)g(domain)g(b)-24
b(uilder)-67 b(.)21755 75362 y(17)p eop end
%%Page: 18 22
TeXDict begin 18 21 bop 27068 75362 a Fl(18)p eop end
%%Page: 19 23
TeXDict begin 19 22 bop 2435 16438 a Fk(Chapter)575 b(5)2435
22859 y Fp(Ev)-28 b(ent)690 b(Channels)2435 29496 y Fl(Ev)-18
b(ent)299 b(channels)g(are)f(the)h(basic)g(primiti)-30
b(v)-18 b(e)298 b(pro)-18 b(vided)299 b(by)g(Xen)g(for)f(e)-30
b(v)-18 b(ent)298 b(noti\002cations.)375 b(An)2435 31152
y(e)-30 b(v)-18 b(ent)334 b(is)g(the)g(Xen)g(equi)-30
b(v)g(alent)334 b(of)g(a)g(hardw)-12 b(are)334 b(interrupt.)468
b(The)-18 b(y)334 b(essentially)f(store)h(one)g(bit)2435
32808 y(of)i(information,)344 b(the)337 b(e)-30 b(v)-18
b(ent)336 b(of)g(interest)f(is)h(signalled)g(by)h(transitioning)e(this)
h(bit)g(from)g(0)g(to)2435 34464 y(1.)2435 36674 y(Noti\002cations)373
b(are)f(recei)-30 b(v)-18 b(ed)372 b(by)g(a)h(guest)f(via)g(an)h
(upcall)g(from)e(Xen,)390 b(indicating)373 b(when)g(an)2435
38330 y(e)-30 b(v)-18 b(ent)495 b(arri)-30 b(v)-18 b(es)494
b(\(setting)g(the)h(bit\).)950 b(Further)495 b(noti\002cations)f(are)h
(mask)-12 b(ed)495 b(until)g(the)g(bit)f(is)2435 39986
y(cleared)403 b(ag)-6 b(ain)402 b(\(therefore,)426 b(guests)401
b(must)h(check)g(the)g(v)-30 b(alue)403 b(of)e(the)h(bit)g(after)g
(re-enabling)2435 41642 y(e)-30 b(v)-18 b(ent)303 b(deli)-30
b(v)-18 b(ery)303 b(to)g(ensure)g(no)g(missed)f(noti\002cations\).)2435
43851 y(Ev)-18 b(ent)341 b(noti\002cations)g(can)h(be)f(mask)-12
b(ed)341 b(by)h(setting)f(a)g(\003ag;)360 b(this)341
b(is)g(equi)-30 b(v)g(alent)341 b(to)g(disabling)2435
45507 y(interrupts)413 b(and)h(can)g(be)g(used)g(to)g(ensure)f
(atomicity)h(of)g(certain)g(operations)f(in)h(the)g(guest)2435
47163 y(k)-12 b(ernel.)2435 51818 y Fi(5.1)1594 b(Hyper)-29
b(call)399 b(interface)2435 55912 y Fh(e)-36 b(v)-30
b(ent)p 5407 55912 364 45 v 436 w(channel)p 10088 55912
V 436 w(op\(e)-36 b(vtchn)p 15811 55912 V 435 w(op)p
17594 55912 V 437 w(t)336 b(*op\))2435 58121 y Fl(The)267
b(e)-30 b(v)-18 b(ent)266 b(channel)h(operation)g(h)-6
b(ypercall)267 b(is)e(used)i(for)f(all)g(operations)g(on)h(e)-30
b(v)-18 b(ent)266 b(channels)h(/)2435 59777 y(ports.)352
b(Operations)233 b(are)h(distinguished)f(by)g(the)h(v)-30
b(alue)234 b(of)f(the)g Fm(cmd)h Fl(\002eld)f(of)h(the)f
Fm(op)h Fl(structure.)2435 61433 y(The)303 b(possible)f(commands)i(are)
f(described)f(belo)-30 b(w:)2435 63643 y Fm(EVTCHNOP)p
9376 63643 V 438 w(alloc)p 12238 63643 V 436 w(unbound)606
b Fl(Allocate)250 b(a)g(ne)-30 b(w)250 b(e)-30 b(v)-18
b(ent)250 b(channel)h(port,)260 b(ready)250 b(to)g(be)g(con-)5466
65299 y(nected)303 b(to)g(by)g(a)h(remote)f(domain.)6920
67508 y Fd(\017)606 b Fl(Speci\002ed)304 b(domain)f(must)g(e)-18
b(xist.)6920 69718 y Fd(\017)606 b Fl(A)303 b(free)g(port)g(must)f(e)
-18 b(xist)303 b(in)g(that)g(domain.)21755 75362 y(19)p
eop end
%%Page: 20 24
TeXDict begin 20 23 bop 10779 7306 a Fl(Unpri)-30 b(vile)-18
b(ged)263 b(domains)f(may)h(only)g(allocate)g(their)g(o)-30
b(wn)262 b(ports,)270 b(pri)-30 b(vile)-18 b(ged)262
b(domains)10779 8962 y(may)303 b(also)g(allocate)h(ports)e(in)h(other)g
(domains.)7749 11171 y Fm(EVTCHNOP)p 14690 11171 364
45 v 437 w(bind)p 17486 11171 V 436 w(interdomain)606
b Fl(Bind)265 b(an)f(e)-30 b(v)-18 b(ent)265 b(channel)g(for)f
(interdomain)g(commu-)10779 12827 y(nications.)12234
15037 y Fd(\017)606 b Fl(Caller)303 b(domain)g(must)g(ha)-24
b(v)-18 b(e)303 b(a)g(free)g(port)g(to)g(bind.)12234
17246 y Fd(\017)606 b Fl(Remote)304 b(domain)f(must)g(e)-18
b(xist.)12234 19456 y Fd(\017)606 b Fl(Remote)304 b(port)e(must)h(be)g
(allocated)h(and)f(currently)g(unbound.)12234 21665 y
Fd(\017)606 b Fl(Remote)304 b(port)e(must)h(be)g(e)-18
b(xpecting)304 b(the)f(caller)g(domain)g(as)g(the)g(\223remote\224.)
7749 23875 y Fm(EVTCHNOP)p 14690 23875 V 437 w(bind)p
17486 23875 V 436 w(vir)-22 b(q)607 b Fl(Allocate)303
b(a)g(port)g(and)g(bind)h(a)f(VIRQ)g(to)g(it.)12234 26084
y Fd(\017)606 b Fl(Caller)303 b(domain)g(must)g(ha)-24
b(v)-18 b(e)303 b(a)g(free)g(port)g(to)g(bind.)12234
28294 y Fd(\017)606 b Fl(VIRQ)303 b(must)g(be)g(v)-30
b(alid.)12234 30503 y Fd(\017)606 b Fl(VCPU)303 b(must)g(e)-18
b(xist.)12234 32713 y Fd(\017)606 b Fl(VIRQ)303 b(must)g(not)g
(currently)g(be)g(bound)g(to)g(an)g(e)-30 b(v)-18 b(ent)303
b(channel.)7749 34922 y Fm(EVTCHNOP)p 14690 34922 V 437
w(bind)p 17486 34922 V 436 w(ipi)606 b Fl(Allocate)295
b(and)f(bind)h(a)f(port)g(for)f(notifying)h(other)g(virtual)g(CPUs.)
12234 37132 y Fd(\017)606 b Fl(Caller)303 b(domain)g(must)g(ha)-24
b(v)-18 b(e)303 b(a)g(free)g(port)g(to)g(bind.)12234
39341 y Fd(\017)606 b Fl(VCPU)303 b(must)g(e)-18 b(xist.)7749
41551 y Fm(EVTCHNOP)p 14690 41551 V 437 w(bind)p 17486
41551 V 436 w(pir)c(q)606 b Fl(Allocate)304 b(and)f(bind)h(a)f(port)g
(to)g(a)g(real)g(IRQ.)12234 43760 y Fd(\017)606 b Fl(Caller)303
b(domain)g(must)g(ha)-24 b(v)-18 b(e)303 b(a)g(free)g(port)g(to)g
(bind.)12234 45970 y Fd(\017)606 b Fl(PIRQ)303 b(must)f(be)i(within)f
(the)g(v)-30 b(alid)303 b(range.)12234 48180 y Fd(\017)606
b Fl(Another)303 b(binding)g(for)f(this)h(PIRQ)g(must)g(not)g(e)-18
b(xist)302 b(for)h(this)f(domain.)12234 50389 y Fd(\017)606
b Fl(Caller)303 b(must)g(ha)-24 b(v)-18 b(e)303 b(an)g(a)-24
b(v)-30 b(ailable)303 b(port.)7749 52599 y Fm(EVTCHNOP)p
14690 52599 V 437 w(close)606 b Fl(Close)303 b(an)g(e)-30
b(v)-18 b(ent)303 b(channel)h(\(no)f(more)g(e)-30 b(v)-18
b(ents)302 b(will)h(be)h(recei)-30 b(v)-18 b(ed\).)12234
54808 y Fd(\017)606 b Fl(Port)302 b(must)h(be)g(v)-30
b(alid)303 b(\(currently)f(allocated\).)7749 57018 y
Fm(EVTCHNOP)p 14690 57018 V 437 w(send)606 b Fl(Send)303
b(a)g(noti\002cation)h(on)f(an)g(e)-30 b(v)-18 b(ent)303
b(channel)h(attached)f(to)g(a)h(port.)12234 59227 y Fd(\017)606
b Fl(Port)302 b(must)h(be)g(v)-30 b(alid.)12234 61437
y Fd(\017)606 b Fl(Only)303 b(v)-30 b(alid)303 b(for)f(Interdomain,)h
(IPI)f(or)h(Allocated)h(Unbound)f(ports.)7749 63646 y
Fm(EVTCHNOP)p 14690 63646 V 437 w(status)604 b Fl(Query)382
b(the)g(status)e(of)h(a)h(port;)420 b(what)382 b(kind)g(of)f(port,)401
b(whether)381 b(it)h(is)10779 65302 y(bound,)300 b(what)e(remote)g
(domain)h(is)f(e)-18 b(xpected,)299 b(what)g(PIRQ)f(or)g(VIRQ)h(it)f
(is)g(bound)g(to,)10779 66958 y(what)313 b(VCPU)h(will)f(be)g
(noti\002ed,)j(etc.)406 b(Unpri)-30 b(vile)-18 b(ged)313
b(domains)g(may)g(only)g(query)g(the)10779 68614 y(state)303
b(of)g(their)f(o)-30 b(wn)303 b(ports.)375 b(Pri)-30
b(vile)-18 b(ged)303 b(domains)g(may)g(query)g(an)-18
b(y)303 b(port.)27068 75362 y(20)p eop end
%%Page: 21 25
TeXDict begin 21 24 bop 2435 7306 a Fm(EVTCHNOP)p 9376
7306 364 45 v 438 w(bind)p 12173 7306 V 436 w(vcpu)606
b Fl(Bind)347 b(e)-30 b(v)-18 b(ent)347 b(channel)g(to)f(a)h
(particular)f(VCPU)i(-)e(recei)-30 b(v)-18 b(e)346 b(no-)5466
8962 y(ti\002cation)303 b(upcalls)g(only)g(on)g(that)g(VCPU.)6920
11171 y Fd(\017)606 b Fl(VCPU)304 b(must)f(e)-18 b(xist.)6920
13381 y Fd(\017)606 b Fl(Port)303 b(must)f(be)i(v)-30
b(alid.)6920 15590 y Fd(\017)606 b Fl(Ev)-18 b(ent)357
b(channel)g(must)g(be)g(either:)483 b(allocated)358 b(b)-24
b(ut)356 b(unbound,)371 b(bound)357 b(to)g(an)g(in-)8132
17246 y(terdomain)303 b(e)-30 b(v)-18 b(ent)303 b(channel,)h(bound)f
(to)g(a)h(PIRQ.)21755 75362 y(21)p eop end
%%Page: 22 26
TeXDict begin 22 25 bop 27068 75362 a Fl(22)p eop end
%%Page: 23 27
TeXDict begin 23 26 bop 2435 16438 a Fk(Chapter)575 b(6)2435
22859 y Fp(Grant)689 b(tables)2435 29496 y Fl(Xen')-67
b(s)381 b(grant)f(tables)h(pro)-18 b(vide)380 b(a)h(generic)g
(mechanism)g(to)f(memory)h(sharing)f(between)h(do-)2435
31152 y(mains.)549 b(This)360 b(shared)h(memory)f(interf)-12
b(ace)361 b(underpins)g(the)g(split)f(de)-30 b(vice)361
b(dri)-30 b(v)-18 b(ers)359 b(for)i(block)2435 32808
y(and)304 b(netw)-12 b(ork)303 b(IO.)2435 35018 y(Each)360
b(domain)f(has)g(its)g(o)-30 b(wn)360 b Fm(grant)f(table)p
Fl(.)544 b(This)359 b(is)g(a)g(data)h(structure)e(that)i(is)f(shared)g
(with)2435 36674 y(Xen;)287 b(it)278 b(allo)-30 b(ws)277
b(the)h(domain)h(to)f(tell)g(Xen)g(what)g(kind)g(of)g(permissions)e
(other)i(domains)g(ha)-24 b(v)-18 b(e)2435 38330 y(on)320
b(its)f(pages.)425 b(Entries)318 b(in)i(the)f(grant)h(table)f(are)h
(identi\002ed)g(by)f Fm(grant)h(r)-22 b(efer)g(ences)p
Fl(.)425 b(A)320 b(grant)2435 39986 y(reference)388 b(is)f(an)g(inte)
-18 b(ger)-48 b(,)408 b(which)388 b(inde)-18 b(x)g(es)387
b(into)h(the)f(grant)h(table.)629 b(It)387 b(acts)h(as)f(a)g
(capability)2435 41642 y(which)304 b(the)f(grantee)g(can)h(use)e(to)h
(perform)g(operations)f(on)i(the)f(granter')-67 b(s)302
b(memory)-79 b(.)2435 43851 y(This)282 b(capability-based)g(system)f
(allo)-30 b(ws)282 b(shared-memory)f(communications)h(between)h(un-)
2435 45507 y(pri)-30 b(vile)-18 b(ged)446 b(domains.)804
b(A)446 b(grant)g(reference)f(also)h(encapsulates)g(the)g(details)g(of)
f(a)h(shared)2435 47163 y(page,)324 b(remo)-18 b(ving)319
b(the)g(need)h(for)e(a)i(domain)f(to)h(kno)-30 b(w)319
b(the)g(real)g(machine)h(address)e(of)h(a)g(page)2435
48819 y(it)334 b(is)g(sharing.)469 b(This)333 b(mak)-12
b(es)334 b(it)g(possible)f(to)h(share)g(memory)g(correctly)g(with)h
(domains)e(run-)2435 50475 y(ning)303 b(in)h(fully)e(virtualised)h
(memory)-79 b(.)2435 55130 y Fi(6.1)1594 b(Interface)2435
58642 y Fe(6.1.1)1329 b(Grant)333 b(table)f(manipulation)2435
61670 y Fl(Creating)273 b(and)g(destro)-12 b(ying)272
b(grant)h(references)e(is)h(done)h(by)g(direct)g(access)f(to)g(the)h
(grant)g(table.)2435 63326 y(This)361 b(remo)-18 b(v)g(es)361
b(the)h(need)g(to)g(in)-48 b(v)-24 b(olv)-18 b(e)361
b(Xen)h(when)h(creating)f(grant)f(references,)376 b(modifying)2435
64982 y(access)262 b(permissions,)268 b(etc.)362 b(The)262
b(grantee)g(domain)g(will)f(in)-48 b(v)-24 b(ok)-12 b(e)262
b(h)-6 b(ypercalls)261 b(to)h(use)f(the)h(grant)2435
66638 y(references.)355 b(F)-18 b(our)242 b(main)h(operations)f(can)h
(be)f(accomplished)h(by)f(directly)h(manipulating)g(the)2435
68294 y(table:)2435 70504 y Fm(Grant)303 b(f)-30 b(or)-22
b(eign)303 b(access)606 b Fl(allocate)282 b(a)f(ne)-30
b(w)282 b(entry)f(in)g(the)h(grant)f(table)g(and)h(\002ll)f(out)h(the)f
(access)21755 75362 y(23)p eop end
%%Page: 24 28
TeXDict begin 24 27 bop 10779 7306 a Fl(permissions)339
b(accordingly)-79 b(.)488 b(The)340 b(access)g(permissions)e(will)i(be)
h(look)-12 b(ed)340 b(up)h(by)f(Xen)10779 8962 y(when)303
b(the)h(grantee)f(attempts)g(to)g(use)g(the)g(reference)g(to)g(map)g
(the)g(granted)g(frame.)7749 11171 y Fm(End)g(f)-30 b(or)-22
b(eign)303 b(access)606 b Fl(check)482 b(that)g(the)f(grant)h
(reference)f(is)g(not)h(currently)f(in)h(use,)526 b(then)10779
12827 y(remo)-18 b(v)g(e)351 b(the)g(mapping)h(permissions)d(for)i(the)
g(frame.)520 b(This)350 b(pre)-30 b(v)-18 b(ents)350
b(further)g(map-)10779 14484 y(pings)439 b(from)f(taking)i(place)g(b)
-24 b(ut)439 b(does)g(not)g(allo)-30 b(w)439 b(forced)g(re)-30
b(v)-24 b(ocations)439 b(of)g(e)-18 b(xisting)10779 16140
y(mappings.)7749 18349 y Fm(Grant)303 b(f)-30 b(or)-22
b(eign)302 b(transfer)606 b Fl(allocate)378 b(a)h(ne)-30
b(w)378 b(entry)g(in)g(the)g(table)h(specifying)e(transfer)g(per)-24
b(-)10779 20005 y(missions)390 b(for)i(the)g(grantee.)642
b(Xen)392 b(will)g(look)g(up)g(this)f(entry)h(when)g(the)g(grantee)h
(at-)10779 21661 y(tempts)303 b(to)g(transfer)f(a)h(frame)f(to)h(the)h
(granter)-67 b(.)7749 23871 y Fm(End)303 b(f)-30 b(or)-22
b(eign)303 b(transfer)605 b Fl(remo)-18 b(v)g(e)437 b(permissions)f(to)
h(pre)-30 b(v)-18 b(ent)437 b(a)g(transfer)f(occurring)h(in)g(fu-)10779
25527 y(ture.)548 b(If)360 b(the)g(transfer)g(is)g(already)g
(committed,)376 b(modifying)360 b(the)h(grant)f(table)h(cannot)10779
27183 y(pre)-30 b(v)-18 b(ent)303 b(it)g(from)f(completing.)7749
31214 y Fe(6.1.2)1329 b(Hyper)-24 b(calls)7749 34241
y Fl(Use)309 b(of)g(grant)g(references)g(is)g(accomplished)h(via)f(a)h
(h)-6 b(ypercall.)395 b(The)309 b(grant)h(table)f(op)h(h)-6
b(yper)-24 b(-)7749 35897 y(call)303 b(tak)-12 b(es)303
b(three)g(ar)-22 b(guments:)7749 38737 y Fh(g)-12 b(r)g(ant)p
10561 38737 364 45 v 435 w(tab)-24 b(le)p 13600 38737
V 436 w(op\(unsigned)336 b(int)h(cmd,)g(v)-30 b(oid)337
b(*uop)-42 b(,)335 b(unsigned)i(int)g(count\))7749 40946
y Fm(cmd)350 b Fl(indicates)h(the)f(grant)h(table)g(operation)f(of)h
(interest.)517 b Fm(uop)351 b Fl(is)f(a)g(pointer)h(to)f(a)h(structure)
7749 42602 y(\(or)419 b(an)i(array)e(of)h(structures\))f(describing)h
(the)g(operation)g(to)g(be)h(performed.)727 b(The)420
b Fm(count)7749 44258 y Fl(\002eld)303 b(describes)f(ho)-30
b(w)303 b(man)-18 b(y)303 b(grant)g(table)h(operations)e(are)h(being)h
(batched)f(together)-67 b(.)7749 46468 y(The)262 b(core)g(logic)g(is)f
(situated)h(in)g Fm(xen/common/grant)p 31075 46468 V
436 w(table.c)p Fl(.)362 b(The)262 b(grant)g(table)g(operation)7749
48124 y(h)-6 b(ypercall)303 b(can)g(be)h(used)e(to)i(perform)e(the)h
(follo)-30 b(wing)303 b(actions:)7749 50333 y Fm(GNTT)-109
b(ABOP)p 14514 50333 V 437 w(map)p 17241 50333 V 436
w(grant)p 20505 50333 V 437 w(r)-22 b(ef)606 b Fl(Gi)-30
b(v)-18 b(en)313 b(a)h(grant)g(reference)f(from)g(another)g(domain,)k
(map)10779 51989 y(the)303 b(referred)f(page)i(into)f(the)g(caller')-67
b(s)303 b(address)f(space.)7749 54199 y Fm(GNTT)-109
b(ABOP)p 14514 54199 V 437 w(unmap)p 18589 54199 V 436
w(grant)p 21853 54199 V 436 w(r)-22 b(ef)607 b Fl(Remo)-18
b(v)g(e)345 b(a)f(mapping)h(to)f(a)g(granted)h(frame)f(from)f(the)10779
55855 y(caller')-67 b(s)334 b(address)g(space.)472 b(This)334
b(is)g(used)h(to)g(v)-24 b(oluntarily)335 b(relinquish)f(a)h(mapping)g
(to)g(a)10779 57511 y(granted)303 b(page.)7749 59720
y Fm(GNTT)-109 b(ABOP)p 14514 59720 V 437 w(setup)p 17713
59720 V 436 w(table)606 b Fl(Setup)303 b(grant)g(table)g(for)g(caller)g
(domain.)7749 61930 y Fm(GNTT)-109 b(ABOP)p 14514 61930
V 437 w(dump)p 17983 61930 V 436 w(table)606 b Fl(Deb)-24
b(ugging)303 b(operation.)7749 64139 y Fm(GNTT)-109 b(ABOP)p
14514 64139 V 437 w(transfer)606 b Fl(Gi)-30 b(v)-18
b(en)375 b(a)h(transfer)e(reference)i(from)f(another)g(domain,)395
b(transfer)10779 65795 y(o)-30 b(wnership)302 b(of)h(a)g(page)h(frame)e
(to)i(that)f(domain.)27068 75362 y(24)p eop end
%%Page: 25 29
TeXDict begin 25 28 bop 2435 16438 a Fk(Chapter)575 b(7)2435
22859 y Fp(Xenstor)-50 b(e)2435 29496 y Fl(Xenstore)240
b(is)f(the)g(mechanism)h(by)g(which)g(control-plane)f(acti)-30
b(vities)239 b(occur)-67 b(.)355 b(These)239 b(acti)-30
b(vities)2435 31152 y(include:)4253 33362 y Fd(\017)607
b Fl(Setting)341 b(up)h(shared)f(memory)g(re)-18 b(gions)341
b(and)g(e)-30 b(v)-18 b(ent)342 b(channels)f(for)g(use)g(with)h(the)f
(split)5466 35018 y(de)-30 b(vice)303 b(dri)-30 b(v)-18
b(ers.)4253 37227 y Fd(\017)607 b Fl(Notifying)303 b(the)g(guest)g(of)f
(control)h(e)-30 b(v)-18 b(ents)303 b(\(e.g.)375 b(balloon)304
b(dri)-30 b(v)-18 b(er)302 b(requests\))4253 39437 y
Fd(\017)607 b Fl(Reporting)336 b(back)g(status)e(information)h(from)g
(the)h(guest)f(\(e.g.)473 b(performance-related)5466
41093 y(statistics,)301 b(etc\).)2435 43302 y(The)329
b(store)e(is)h(arranged)h(as)f(a)g(hierarchical)h(collection)g(of)f(k)
-12 b(e)-18 b(y-v)-30 b(alue)328 b(pairs.)451 b(Each)329
b(domain)2435 44958 y(has)318 b(a)h(directory)e(hierarch)-6
b(y)318 b(containing)h(data)g(related)f(to)g(its)g(con\002guration.)421
b(Domains)318 b(are)2435 46614 y(permitted)299 b(to)f(re)-18
b(gister)298 b(for)g(noti\002cations)g(about)h(changes)f(in)h(subtrees)
e(of)i(the)f(store,)h(and)g(to)2435 48270 y(apply)304
b(changes)f(to)g(the)g(store)f(transactionally)-79 b(.)2435
52925 y Fi(7.1)1594 b(Guidelines)2435 56389 y Fl(A)303
b(fe)-30 b(w)303 b(principles)g(go)-18 b(v)g(ern)302
b(the)i(operation)f(of)g(the)g(store:)4253 58598 y Fd(\017)607
b Fl(Domains)303 b(should)f(only)h(modify)g(the)g(contents)g(of)g
(their)g(o)-30 b(wn)303 b(directories.)4253 60808 y Fd(\017)607
b Fl(The)259 b(setup)h(protocol)g(for)f(a)h(de)-30 b(vice)260
b(channel)h(should)f(simply)f(consist)g(of)h(entering)g(the)5466
62464 y(con\002guration)303 b(data)g(into)g(the)h(store.)4253
64673 y Fd(\017)607 b Fl(The)385 b(store)f(should)h(allo)-30
b(w)386 b(de)-30 b(vice)385 b(disco)-18 b(v)g(ery)385
b(without)h(requiring)f(the)g(rele)-30 b(v)g(ant)385
b(de-)5466 66329 y(vice)347 b(dri)-30 b(v)-18 b(ers)346
b(to)h(be)h(loaded:)465 b(a)347 b(Xen)h(\223b)-24 b(us\224)347
b(should)g(be)h(visible)f(to)g(probing)g(code)h(in)5466
67985 y(the)303 b(guest.)4253 70195 y Fd(\017)607 b Fl(The)283
b(store)g(should)g(be)g(usable)g(for)g(inter)-24 b(-tool)283
b(communications,)k(allo)-30 b(wing)284 b(the)f(tools)5466
71851 y(themselv)-18 b(es)339 b(to)g(be)h(decomposed)g(into)g(a)g
(number)g(of)f(smaller)g(utilities,)348 b(rather)340
b(than)21755 75362 y(25)p eop end
%%Page: 26 30
TeXDict begin 26 29 bop 10779 7306 a Fl(a)333 b(single)g(monolithic)g
(entity)-79 b(.)466 b(This)332 b(also)h(f)-12 b(acilitates)332
b(the)h(de)-30 b(v)-18 b(elopment)333 b(of)g(alternate)10779
8962 y(user)302 b(interf)-12 b(aces)303 b(to)g(the)g(same)g
(functionality)-79 b(.)7749 13616 y Fi(7.2)1593 b(Stor)-29
b(e)399 b(lay)-40 b(out)7749 17080 y Fl(There)302 b(are)h(three)g(main)
h(paths)e(in)h(XenStore:)7749 19290 y Fm(/vm)605 b Fl(stores)302
b(con\002guration)i(information)e(about)h(domain)7749
21499 y Fm(/local/domain)606 b Fl(stores)252 b(information)h(about)h
(the)g(domain)g(on)g(the)g(local)g(node)g(\(domid,)263
b(etc.\))7749 23709 y Fm(/tool)605 b Fl(stores)302 b(information)h(for)
f(the)h(v)-30 b(arious)303 b(tools)7749 25918 y(The)472
b Fm(/vm)h Fl(path)g(stores)f(con\002guration)h(information)f(for)g(a)h
(domain.)886 b(This)472 b(information)7749 27574 y(doesn')-22
b(t)399 b(change)i(and)g(is)e(inde)-18 b(x)g(ed)401 b(by)f(the)g
(domain')-67 b(s)400 b(UUID.)g(A)g Fm(/vm)g Fl(entry)g(contains)g(the)
7749 29230 y(follo)-30 b(wing)302 b(information:)7749
31440 y Fm(uuid)606 b Fl(uuid)303 b(of)f(the)i(domain)f(\(some)-30
b(what)302 b(redundant\))7749 33649 y Fm(on)p 9102 33649
364 45 v 436 w(r)-22 b(eboot)606 b Fl(the)304 b(action)f(to)g(tak)-12
b(e)303 b(on)g(a)h(domain)f(reboot)g(request)g(\(destro)-12
b(y)302 b(or)g(restart\))7749 35859 y Fm(on)p 9102 35859
V 436 w(po)-12 b(wer)-22 b(off)606 b Fl(the)303 b(action)h(to)f(tak)-12
b(e)303 b(on)g(a)g(domain)h(halt)f(request)f(\(destro)-12
b(y)302 b(or)h(restart\))7749 38068 y Fm(on)p 9102 38068
V 436 w(crash)606 b Fl(the)303 b(action)h(to)f(tak)-12
b(e)303 b(on)g(a)g(domain)h(crash)e(\(destro)-12 b(y)302
b(or)h(restart\))7749 40278 y Fm(vcpus)605 b Fl(the)304
b(number)f(of)f(allocated)i(vcpus)f(for)f(the)i(domain)7749
42487 y Fm(memory)606 b Fl(the)352 b(amount)g(of)f(memory)h(\(in)f(me)
-18 b(g)-6 b(abytes\))351 b(for)g(the)h(domain)g(Note:)474
b(appears)351 b(to)10779 44143 y(sometimes)302 b(be)i(empty)f(for)f
(domain-0)7749 46353 y Fm(vcpu)p 10314 46353 V 436 w(a)-30
b(v)-12 b(ail)606 b Fl(the)257 b(number)f(of)h(acti)-30
b(v)-18 b(e)256 b(vcpus)h(for)f(the)h(domain)g(\(vcpus)f(-)g(number)h
(of)f(disabled)10779 48009 y(vcpus\))7749 50218 y Fm(name)606
b Fl(the)303 b(name)g(of)g(the)g(domain)7749 52428 y
Fm(/vm/)p Fc(<)p Fm(uuid)p Fc(>)p Fm(/image/)7749 54637
y Fl(The)g(image)g(path)g(is)g(only)g(a)-24 b(v)-30 b(ailable)303
b(for)f(Domain-Us)h(and)g(contains:)7749 56847 y Fm(ostype)605
b Fl(identi\002es)303 b(the)g(b)-24 b(uilder)303 b(type)g(\(linux)g(or)
g(vmx\))7749 59056 y Fm(k)-12 b(er)-18 b(nel)606 b Fl(path)303
b(to)g(k)-12 b(ernel)303 b(on)g(domain-0)7749 61266 y
Fm(cmdline)606 b Fl(command)303 b(line)g(to)g(pass)g(to)g(domain-U)g(k)
-12 b(ernel)7749 63475 y Fm(ramdisk)605 b Fl(path)303
b(to)g(ramdisk)g(on)g(domain-0)7749 65685 y Fm(/local)7749
67894 y Fl(The)367 b Fg(/local)i Fl(path)e(currently)g(only)g(contains)
h(one)f(directory)-79 b(,)383 b Fg(/local/domain)371
b Fl(that)7749 69550 y(is)341 b(inde)-18 b(x)g(ed)342
b(by)g(domain)g(id.)492 b(It)342 b(contains)f(the)h(running)g(domain)g
(information.)492 b(The)342 b(reason)7749 71207 y(to)316
b(ha)-24 b(v)-18 b(e)317 b(tw)-12 b(o)317 b(storage)f(areas)g(is)g
(that)h(during)f(migration,)k(the)d(uuid)f(doesn')-22
b(t)316 b(change)i(b)-24 b(ut)316 b(the)27068 75362 y(26)p
eop end
%%Page: 27 31
TeXDict begin 27 30 bop 2435 7306 a Fl(domain)393 b(id)f(does.)644
b(The)392 b Fg(/local/domain)k Fl(directory)c(can)g(be)h(created)g(and)
f(populated)2435 8962 y(before)303 b(\002nalizing)g(the)h(migration)f
(enabling)g(localhost)g(to)g(localhost)g(migration.)2435
11171 y Fm(/local/domain/)p Fc(<)p Fm(domid)p Fc(>)2435
13381 y Fl(This)f(path)i(contains:)2435 15590 y Fm(cpu)p
4394 15590 364 45 v 437 w(time)605 b Fl(x)-18 b(end)303
b(start)g(time)g(\(this)f(is)g(only)i(around)f(for)f(domain-0\))2435
17800 y Fm(handle)606 b Fl(pri)-30 b(v)g(ate)303 b(handle)g(for)g(x)-18
b(end)2435 20009 y Fm(name)606 b Fl(see)303 b(/vm)2435
22219 y Fm(on)p 3788 22219 V 437 w(r)-22 b(eboot)606
b Fl(see)303 b(/vm)2435 24428 y Fm(on)p 3788 24428 V
437 w(po)-12 b(wer)-22 b(off)606 b Fl(see)302 b(/vm)2435
26638 y Fm(on)p 3788 26638 V 437 w(crash)606 b Fl(see)302
b(/vm)2435 28847 y Fm(vm)606 b Fl(the)303 b(path)h(to)f(the)g(VM)g
(directory)f(for)h(the)g(domain)2435 31057 y Fm(domid)606
b Fl(the)303 b(domain)h(id)f(\(some)-30 b(what)302 b(redundant\))2435
33266 y Fm(running)606 b Fl(indicates)303 b(that)h(the)f(domain)g(is)g
(currently)f(running)2435 35476 y Fm(memory)606 b Fl(the)292
b(current)f(memory)g(in)h(me)-18 b(g)-6 b(abytes)291
b(for)g(the)g(domain)h(\(empty)f(for)g(domain-0?\))2435
37685 y Fm(maxmem)p 7288 37685 V 436 w(KiB)607 b Fl(the)303
b(maximum)g(memory)g(for)f(the)i(domain)f(\(in)g(kilobytes\))2435
39895 y Fm(memory)p 6816 39895 V 437 w(KiB)606 b Fl(the)303
b(memory)g(allocated)h(to)f(the)g(domain)h(\(in)e(kilobytes\))2435
42104 y Fm(cpu)606 b Fl(the)304 b(current)e(CPU)i(the)f(domain)g(is)g
(pinned)g(to)g(\(empty)g(for)g(domain-0?\))2435 44314
y Fm(cpu)p 4394 44314 V 437 w(weight)606 b Fl(the)303
b(weight)g(assigned)g(to)g(the)g(domain)2435 46523 y
Fm(vcpu)p 5000 46523 V 437 w(a)-30 b(v)-12 b(ail)606
b Fl(a)303 b(bitmap)g(telling)g(the)g(domain)h(whether)f(it)g(may)g
(use)g(a)g(gi)-30 b(v)-18 b(en)303 b(VCPU)2435 48733
y Fm(online)p 5674 48733 V 437 w(vcpus)605 b Fl(ho)-30
b(w)303 b(man)-18 b(y)303 b(vcpus)g(are)g(currently)g(online)2435
50942 y Fm(vcpus)606 b Fl(the)303 b(total)g(number)g(of)g(vcpus)g
(allocated)h(to)f(the)g(domain)2435 53152 y Fm(console/)606
b Fl(a)303 b(directory)g(for)f(console)h(information)5466
55361 y Fm(ring-r)-22 b(ef)606 b Fl(the)303 b(grant)g(table)g
(reference)g(of)g(the)g(console)g(ring)g(queue)5466 57571
y Fm(port)605 b Fl(the)304 b(e)-30 b(v)-18 b(ent)303
b(channel)g(being)h(used)f(for)f(the)h(console)g(ring)g(queue)g
(\(local)g(port\))5466 59780 y Fm(tty)605 b Fl(the)303
b(current)g(tty)g(the)g(console)g(data)h(is)e(being)h(e)-18
b(xposed)303 b(of)5466 61990 y Fm(limit)605 b Fl(the)303
b(limit)g(\(in)g(bytes\))f(of)h(console)g(data)g(to)g(b)-24
b(uf)-30 b(fer)2435 64199 y Fm(back)-12 b(end/)606 b
Fl(a)304 b(directory)e(containing)i(all)f(back)-12 b(ends)303
b(the)g(domain)h(hosts)5466 66409 y Fm(vbd/)606 b Fl(a)303
b(directory)f(containing)i(vbd)f(back)-12 b(ends)8132
68618 y Fc(<)p Fm(domid)p Fc(>)p Fm(/)605 b Fl(a)304
b(directory)e(containing)i(vbd')-67 b(s)303 b(for)f(domid)21755
75362 y(27)p eop end
%%Page: 28 32
TeXDict begin 28 31 bop 15712 7306 a Fc(<)p Fm(virtual-de)-18
b(vice)p Fc(>)p Fm(/)606 b Fl(a)419 b(directory)g(for)g(a)g(particular)
g(virtual-de)-30 b(vice)419 b(on)17773 8962 y(domid)17773
11171 y Fm(fr)-22 b(ontend-id)605 b Fl(domain)304 b(id)f(of)f(frontend)
17773 13381 y Fm(fr)-22 b(ontend)606 b Fl(the)303 b(path)g(to)g(the)g
(frontend)g(domain)17773 15590 y Fm(ph)-18 b(ysical-de)g(vice)605
b Fl(back)-12 b(end)304 b(de)-30 b(vice)303 b(number)17773
17800 y Fm(sector)-45 b(-size)605 b Fl(back)-12 b(end)304
b(sector)f(size)17773 20009 y Fm(inf)-30 b(o)605 b Fl(0)303
b(read/write,)g(1)g(read-only)g(\(is)f(this)h(right?\))17773
22219 y Fm(domain)606 b Fl(name)303 b(of)g(frontend)f(domain)17773
24428 y Fm(params)605 b Fl(parameters)303 b(for)f(de)-30
b(vice)17773 26638 y Fm(type)606 b Fl(the)303 b(type)g(of)g(the)g(de)
-30 b(vice)17773 28847 y Fm(de)-18 b(v)606 b Fl(the)303
b(virtual)g(de)-30 b(vice)303 b(\(as)g(gi)-30 b(v)-18
b(en)303 b(by)g(the)g(user\))17773 31057 y Fm(node)606
b Fl(output)303 b(from)g(block)g(creation)g(script)10779
33266 y Fm(vif/)606 b Fl(a)303 b(directory)g(containing)g(vif)g(back)
-12 b(ends)13446 35476 y Fc(<)p Fm(domid)p Fc(>)p Fm(/)605
b Fl(a)303 b(directory)g(containing)g(vif)67 b(')-67
b(s)302 b(for)g(domid)15712 37685 y Fc(<)p Fm(vif)h(number)p
Fc(>)p Fm(/)605 b Fl(a)304 b(directory)e(for)h(each)g(vif)15712
39895 y Fm(fr)-22 b(ontend-id)606 b Fl(the)303 b(domain)g(id)g(of)g
(the)g(frontend)15712 42104 y Fm(fr)-22 b(ontend)606
b Fl(the)303 b(path)h(to)f(the)g(frontend)15712 44314
y Fm(mac)606 b Fl(the)304 b(mac)f(address)f(of)h(the)g(vif)15712
46523 y Fm(bridge)607 b Fl(the)303 b(bridge)g(the)g(vif)g(is)f
(connected)i(to)15712 48733 y Fm(handle)606 b Fl(the)304
b(handle)f(of)g(the)g(vif)15712 50942 y Fm(script)606
b Fl(the)303 b(script)f(used)h(to)g(create/stop)g(the)g(vif)15712
53152 y Fm(domain)606 b Fl(the)303 b(name)h(of)e(the)i(frontend)10779
55361 y Fm(vtpm/)605 b Fl(a)304 b(directory)e(containing)i(vtpm)f(back)
-12 b(ends)13446 57571 y Fc(<)p Fm(domid)p Fc(>)p Fm(/)605
b Fl(a)303 b(directory)g(containing)g(vtpm')-67 b(s)303
b(for)f(domid)15712 59780 y Fc(<)p Fm(vtpm)g(number)p
Fc(>)p Fm(/)606 b Fl(a)303 b(directory)g(for)f(each)i(vtpm)15712
61990 y Fm(fr)-22 b(ontend-id)606 b Fl(the)303 b(domain)g(id)g(of)g
(the)g(frontend)15712 64199 y Fm(fr)-22 b(ontend)606
b Fl(the)303 b(path)h(to)f(the)g(frontend)15712 66409
y Fm(instance)606 b Fl(the)303 b(instance)g(of)g(the)g(virtual)g(TPM)f
(that)h(is)g(used)15712 68618 y Fm(pr)-22 b(ef)p 17917
68618 364 45 v 437 w(instance)605 b Fl(the)288 b(instance)g(number)f
(as)g(gi)-30 b(v)-18 b(en)288 b(in)f(the)h(VM)g(con\002gura-)17773
70275 y(tion)303 b(\002le;)g(may)g(be)h(dif)-30 b(ferent)302
b(from)g Fm(instance)27068 75362 y Fl(28)p eop end
%%Page: 29 33
TeXDict begin 29 32 bop 10399 7306 a Fm(domain)606 b
Fl(the)303 b(name)g(of)g(the)g(domain)h(of)e(the)i(frontend)2435
9515 y Fm(de)-18 b(vice/)607 b Fl(a)303 b(directory)g(containing)g(the)
g(frontend)g(de)-30 b(vices)303 b(for)f(the)h(domain)5466
11725 y Fm(vbd/)606 b Fl(a)303 b(directory)f(containing)i(vbd)f
(frontend)g(de)-30 b(vices)303 b(for)f(the)h(domain)8132
13934 y Fc(<)p Fm(virtual-de)-18 b(vice)p Fc(>)p Fm(/)606
b Fl(a)255 b(directory)g(containing)h(the)f(vbd)h(frontend)f(for)f
(virtual-)10399 15590 y(de)-30 b(vice)10399 17800 y Fm(virtual-de)-18
b(vice)606 b Fl(the)303 b(de)-30 b(vice)303 b(number)g(of)g(the)g
(frontend)g(de)-30 b(vice)10399 20009 y Fm(back)-12 b(end-id)606
b Fl(the)303 b(domain)g(id)g(of)g(the)g(back)-12 b(end)10399
22219 y Fm(back)g(end)606 b Fl(the)277 b(path)f(of)g(the)h(back)-12
b(end)277 b(in)f(the)h(store)e(\(/local/domain)i(path\))10399
24428 y Fm(ring-r)-22 b(ef)606 b Fl(the)277 b(grant)g(table)g
(reference)g(for)f(the)h(block)g(request)g(ring)f(queue)10399
26638 y Fm(e)-18 b(v)-12 b(ent-channel)605 b Fl(the)378
b(e)-30 b(v)-18 b(ent)377 b(channel)g(used)g(for)f(the)h(block)h
(request)e(ring)12460 28294 y(queue)8132 30503 y Fm(vif/)606
b Fl(a)303 b(directory)g(containing)g(vif)g(frontend)g(de)-30
b(vices)303 b(for)f(the)h(domain)10399 32713 y Fc(<)p
Fm(id)p Fc(>)p Fm(/)605 b Fl(a)304 b(directory)e(for)h(vif)f(id)h
(frontend)g(de)-30 b(vice)303 b(for)g(the)g(domain)12460
34922 y Fm(back)-12 b(end-id)605 b Fl(the)303 b(back)-12
b(end)304 b(domain)f(id)12460 37132 y Fm(mac)606 b Fl(the)303
b(mac)g(address)f(of)h(the)g(vif)12460 39341 y Fm(handle)606
b Fl(the)303 b(internal)g(vif)g(handle)12460 41551 y
Fm(back)-12 b(end)606 b Fl(a)303 b(path)g(to)g(the)g(back)-12
b(end')-67 b(s)304 b(store)e(entry)12460 43760 y Fm(tx-ring-r)-22
b(ef)605 b Fl(the)283 b(grant)f(table)h(reference)f(for)g(the)h
(transmission)e(ring)13672 45417 y(queue)12460 47626
y Fm(rx-ring-r)-22 b(ef)605 b Fl(the)499 b(grant)g(table)g(reference)g
(for)f(the)h(recei)-30 b(ving)499 b(ring)13672 49282
y(queue)12460 51492 y Fm(e)-18 b(v)-12 b(ent-channel)605
b Fl(the)247 b(e)-30 b(v)-18 b(ent)247 b(channel)h(used)f(for)g(the)g
(tw)-12 b(o)247 b(ring)g(queues)8132 53701 y Fm(vtpm/)606
b Fl(a)303 b(directory)g(containing)g(the)g(vtpm)g(frontend)g(de)-30
b(vice)303 b(for)g(the)g(domain)10399 55911 y Fc(<)p
Fm(id)p Fc(>)605 b Fl(a)304 b(directory)e(for)h(vtpm)g(id)g(frontend)g
(de)-30 b(vice)303 b(for)f(the)h(domain)12460 58120 y
Fm(back)-12 b(end-id)605 b Fl(the)303 b(back)-12 b(end)304
b(domain)f(id)12460 60330 y Fm(back)-12 b(end)606 b Fl(a)303
b(path)g(to)g(the)g(back)-12 b(end')-67 b(s)304 b(store)e(entry)12460
62539 y Fm(ring-r)-22 b(ef)606 b Fl(the)303 b(grant)g(table)g
(reference)g(for)f(the)h(tx/rx)g(ring)12460 64749 y Fm(e)-18
b(v)-12 b(ent-channel)605 b Fl(the)303 b(e)-30 b(v)-18
b(ent)303 b(channel)h(used)f(for)f(the)h(ring)8132 66958
y Fm(de)-18 b(vice-misc/)606 b Fl(miscellaneous)302 b(information)h
(for)f(de)-30 b(vices)10399 69168 y Fm(vif/)606 b Fl(miscellaneous)302
b(information)h(for)f(vif)h(de)-30 b(vices)12460 71377
y Fm(nextDe)-18 b(viceID)606 b Fl(the)303 b(ne)-18 b(xt)303
b(de)-30 b(vice)303 b(id)g(to)g(use)21755 75362 y(29)p
eop end
%%Page: 30 34
TeXDict begin 30 33 bop 7749 7306 a Fm(security/)605
b Fl(access)303 b(control)g(information)g(for)f(the)h(domain)10779
9515 y Fm(ssidr)-22 b(ef)605 b Fl(security)303 b(reference)g
(identi\002er)f(used)h(inside)g(the)g(h)-6 b(ypervisor)10779
11725 y Fm(access)p 14016 11725 364 45 v 436 w(contr)-22
b(ol/)606 b Fl(security)303 b(label)g(used)g(by)g(management)h(tools)
13446 13934 y Fm(label)606 b Fl(security)302 b(label)i(name)13446
16144 y Fm(policy)606 b Fl(security)302 b(polic)-18 b(y)304
b(name)7749 18353 y Fm(stor)-22 b(e/)605 b Fl(per)-24
b(-domain)303 b(information)g(for)f(the)h(store)10779
20563 y Fm(port)606 b Fl(the)303 b(e)-30 b(v)-18 b(ent)303
b(channel)h(used)f(for)f(the)h(store)g(ring)f(queue)10779
22772 y Fm(ring-r)-22 b(ef)606 b Fl(-)244 b(the)g(grant)g(table)h
(reference)f(used)g(for)g(the)g(store')-67 b(s)243 b(communication)i
(chan-)13446 24428 y(nel)7749 26638 y Fm(image)606 b
Fl(-)302 b(pri)-30 b(v)g(ate)303 b(x)-18 b(end)303 b(information)27068
75362 y(30)p eop end
%%Page: 31 35
TeXDict begin 31 34 bop 2435 16438 a Fk(Chapter)575 b(8)2435
22859 y Fp(De)-41 b(vices)2435 29496 y Fl(V)-73 b(irtual)327
b(de)-30 b(vices)325 b(under)h(Xen)h(are)f(pro)-18 b(vided)326
b(by)g(a)g Fm(split)f(de)-18 b(vice)327 b(dri)-12 b(v)g(er)326
b Fl(architecture.)445 b(The)2435 31152 y(illusion)263
b(of)g(the)h(virtual)f(de)-30 b(vice)263 b(is)g(pro)-18
b(vided)263 b(by)h(tw)-12 b(o)263 b(co-operating)g(dri)-30
b(v)-18 b(ers:)355 b(the)263 b Fm(fr)-22 b(ontend)p Fl(,)2435
32808 y(which)338 b(runs)e(an)i(the)f(unpri)-30 b(vile)-18
b(ged)337 b(domain)h(and)f(the)h Fm(back)-12 b(end)p
Fl(,)346 b(which)337 b(runs)g(in)g(a)h(domain)2435 34464
y(with)321 b(access)f(to)g(the)g(real)g(de)-30 b(vice)321
b(hardw)-12 b(are)320 b(\(often)g(called)g(a)h Fm(dri)-12
b(v)g(er)320 b(domain)p Fl(;)328 b(in)321 b(practice)2435
36120 y(domain)304 b(0)f(usually)g(ful\002lls)f(this)g(function\).)2435
38330 y(The)406 b(frontend)f(dri)-30 b(v)-18 b(er)405
b(appears)g(to)h(the)g(unpri)-30 b(vile)-18 b(ged)405
b(guest)g(as)h(if)f(it)g(were)h(a)g(real)g(de)-30 b(vice,)2435
39986 y(for)370 b(instance)g(a)g(block)g(or)g(netw)-12
b(ork)369 b(de)-30 b(vice.)577 b(It)370 b(recei)-30 b(v)-18
b(es)369 b(IO)h(requests)f(from)g(its)g(k)-12 b(ernel)370
b(as)2435 41642 y(usual,)278 b(ho)-30 b(we)g(v)-18 b(er)270
b(since)i(it)f(does)g(not)g(ha)-24 b(v)-18 b(e)271 b(access)g(to)h(the)
f(ph)-6 b(ysical)271 b(hardw)-12 b(are)271 b(of)g(the)h(system)2435
43298 y(it)375 b(must)e(then)i(issue)e(requests)h(to)g(the)h(back)-12
b(end.)590 b(The)374 b(back)-12 b(end)375 b(dri)-30 b(v)-18
b(er)373 b(is)h(responsible)g(for)2435 44954 y(recei)-30
b(ving)379 b(these)g(IO)f(requests,)397 b(v)-18 b(erifying)378
b(that)h(the)-18 b(y)378 b(are)h(safe)f(and)h(then)g(issuing)f(them)h
(to)2435 46610 y(the)441 b(real)f(de)-30 b(vice)441 b(hardw)-12
b(are.)788 b(The)440 b(back)-12 b(end)441 b(dri)-30 b(v)-18
b(er)440 b(appears)g(to)g(its)g(k)-12 b(ernel)440 b(as)g(a)h(normal)
2435 48266 y(user)434 b(of)g(in-k)-12 b(ernel)434 b(IO)g(functionality)
-79 b(.)770 b(When)435 b(the)f(IO)g(completes)h(the)f(back)-12
b(end)435 b(noti\002es)2435 49922 y(the)401 b(frontend)f(that)h(the)g
(data)g(is)f(ready)h(for)e(use;)450 b(the)400 b(frontend)h(is)f(then)g
(able)h(to)g(report)f(IO)2435 51578 y(completion)304
b(to)f(its)f(o)-30 b(wn)303 b(k)-12 b(ernel.)2435 53787
y(Frontend)321 b(dri)-30 b(v)-18 b(ers)319 b(are)i(designed)g(to)g(be)g
(simple;)329 b(most)321 b(of)f(the)h(comple)-18 b(xity)322
b(is)e(in)h(the)g(back-)2435 55443 y(end,)469 b(which)436
b(has)e(responsibility)h(for)f(translating)h(de)-30 b(vice)435
b(addresses,)467 b(v)-18 b(erifying)435 b(that)g(re-)2435
57099 y(quests)303 b(are)g(well-formed)f(and)h(do)h(not)f(violate)g
(isolation)g(guarantees,)g(etc.)2435 59309 y(Split)451
b(dri)-30 b(v)-18 b(ers)450 b(e)-18 b(xchange)452 b(requests)f(and)g
(responses)f(in)i(shared)e(memory)-79 b(,)489 b(with)451
b(an)h(e)-30 b(v)-18 b(ent)2435 60965 y(channel)265 b(for)f
(asynchronous)g(noti\002cations)g(of)h(acti)-30 b(vity)-79
b(.)363 b(When)265 b(the)f(frontend)g(dri)-30 b(v)-18
b(er)264 b(comes)2435 62621 y(up,)440 b(it)412 b(uses)g(Xenstore)g(to)g
(set)g(up)g(a)h(shared)e(memory)i(frame)f(and)g(an)h(interdomain)f(e)
-30 b(v)-18 b(ent)2435 64277 y(channel)246 b(for)f(communications)g
(with)g(the)g(back)-12 b(end.)358 b(Once)245 b(this)g(connection)h(is)e
(established,)2435 65933 y(the)k(tw)-12 b(o)247 b(can)h(communicate)g
(directly)f(by)h(placing)f(requests)g(/)g(responses)f(into)h(shared)g
(mem-)2435 67589 y(ory)385 b(and)g(then)g(sending)g(noti\002cations)f
(on)h(the)g(e)-30 b(v)-18 b(ent)385 b(channel.)621 b(This)384
b(separation)h(of)f(noti-)2435 69245 y(\002cation)406
b(from)e(data)i(transfer)e(allo)-30 b(ws)404 b(message)h(batching,)432
b(and)405 b(results)f(in)h(v)-18 b(ery)405 b(ef)-30 b(\002cient)2435
70901 y(de)g(vice)304 b(access.)21755 75362 y(31)p eop
end
%%Page: 32 36
TeXDict begin 32 35 bop 7749 7306 a Fl(This)420 b(chapter)h(focuses)f
(on)i(some)e(indi)-30 b(vidual)421 b(split)g(de)-30 b(vice)421
b(interf)-12 b(aces)421 b(a)-24 b(v)-30 b(ailable)421
b(to)g(Xen)7749 8962 y(guests.)7749 13616 y Fi(8.1)1593
b(Netw)-16 b(ork)398 b(I/O)7749 17080 y Fl(V)-73 b(irtual)418
b(netw)-12 b(ork)418 b(de)-30 b(vice)419 b(services)e(are)h(pro)-18
b(vided)418 b(by)h(shared)e(memory)i(communication)7749
18736 y(with)j(a)h(back)-12 b(end)424 b(domain.)735 b(From)422
b(the)h(point)f(of)h(vie)-30 b(w)423 b(of)f(other)g(domains,)453
b(the)423 b(back)-12 b(end)7749 20392 y(may)346 b(be)f(vie)-30
b(wed)346 b(as)f(a)h(virtual)f(ethernet)h(switch)g(element)g(with)f
(each)h(domain)g(ha)-24 b(ving)346 b(one)7749 22048 y(or)302
b(more)h(virtual)g(netw)-12 b(ork)303 b(interf)-12 b(aces)303
b(connected)g(to)g(it.)7749 24258 y(From)361 b(the)h(point)g(of)g(vie)
-30 b(w)362 b(of)g(the)g(back)-12 b(end)362 b(domain)h(itself,)376
b(the)362 b(netw)-12 b(ork)362 b(back)-12 b(end)362 b(dri)-30
b(v)-18 b(er)7749 25914 y(consists)385 b(of)h(a)g(number)h(of)f
(ethernet)g(de)-30 b(vices.)626 b(Each)386 b(of)g(these)h(has)f(a)g
(logical)h(direct)f(con-)7749 27570 y(nection)412 b(to)f(a)h(virtual)f
(netw)-12 b(ork)412 b(de)-30 b(vice)412 b(in)f(another)h(domain.)701
b(This)411 b(allo)-30 b(ws)411 b(the)h(back)-12 b(end)7749
29226 y(domain)355 b(to)h(route,)368 b(bridge,)g(\002re)-30
b(w)-12 b(all,)368 b(etc)355 b(the)h(traf)-30 b(\002c)354
b(to)h(/)h(from)e(the)h(other)h(domains)f(using)7749
30882 y(normal)303 b(operating)g(system)f(mechanisms.)7749
34913 y Fe(8.1.1)1329 b(Back)-13 b(end)330 b(P)-13 b(ack)g(et)331
b(Handling)7749 37941 y Fl(The)338 b(back)-12 b(end)338
b(dri)-30 b(v)-18 b(er)337 b(is)h(responsible)f(for)g(a)h(v)-30
b(ariety)338 b(of)g(actions)g(relating)g(to)g(the)g(transmis-)7749
39597 y(sion)375 b(and)h(reception)g(of)g(pack)-12 b(ets)375
b(from)g(the)h(ph)-6 b(ysical)376 b(de)-30 b(vice.)594
b(W)-48 b(ith)376 b(re)-18 b(g)-6 b(ard)375 b(to)h(transmis-)7749
41253 y(sion,)302 b(the)i(back)-12 b(end)303 b(performs)f(these)h(k)-12
b(e)-18 b(y)303 b(actions:)9567 43462 y Fd(\017)606 b
Fm(V)-112 b(alidation:)449 b Fl(T)-97 b(o)339 b(ensure)g(that)h
(domains)f(do)h(not)g(attempt)g(to)f(generate)h(in)-48
b(v)-30 b(alid)339 b(\(e.g.)10779 45118 y(spoofed\))230
b(traf)-30 b(\002c,)244 b(the)230 b(back)-12 b(end)231
b(dri)-30 b(v)-18 b(er)229 b(may)i(v)-30 b(alidate)230
b(headers)h(ensuring)e(that)i(source)10779 46774 y(MA)-48
b(C)303 b(and)g(IP)g(addresses)e(match)j(the)f(interf)-12
b(ace)303 b(that)g(the)-18 b(y)303 b(ha)-24 b(v)-18 b(e)303
b(been)h(sent)f(from.)10779 48984 y(V)-135 b(alidation)231
b(functions)f(can)h(be)f(con\002gured)h(using)f(standard)g(\002re)-30
b(w)-12 b(all)230 b(rules)f(\()p Fb(iptables)10779 50640
y Fl(in)303 b(the)g(case)g(of)g(Linux\).)9567 52849 y
Fd(\017)606 b Fm(Scheduling:)355 b Fl(Since)262 b(a)f(number)h(of)f
(domains)h(can)g(share)f(a)h(single)f(ph)-6 b(ysical)261
b(netw)-12 b(ork)10779 54505 y(interf)g(ace,)293 b(the)d(back)-12
b(end)291 b(must)f(mediate)h(access)f(when)h(se)-30 b(v)-18
b(eral)290 b(domains)g(each)h(ha)-24 b(v)-18 b(e)10779
56161 y(pack)-12 b(ets)252 b(queued)h(for)e(transmission.)358
b(This)251 b(general)h(scheduling)g(function)g(subsumes)10779
57817 y(basic)303 b(shaping)g(or)g(rate-limiting)f(schemes.)9567
60027 y Fd(\017)606 b Fm(Logging)482 b(and)e(Accounting:)732
b Fl(The)481 b(back)-12 b(end)481 b(domain)g(can)h(be)f(con\002gured)g
(with)10779 61683 y(classi\002er)312 b(rules)h(that)h(control)f(ho)-30
b(w)313 b(pack)-12 b(ets)314 b(are)f(accounted)h(or)f(logged.)408
b(F)-18 b(or)312 b(e)-18 b(xam-)10779 63339 y(ple,)299
b(log)f(messages)f(might)h(be)g(generated)h(whene)-30
b(v)-18 b(er)297 b(a)i(domain)f(attempts)f(to)h(send)g(a)10779
64995 y(TCP)303 b(pack)-12 b(et)304 b(containing)f(a)g(SYN.)7749
67204 y(On)294 b(receipt)g(of)g(incoming)g(pack)-12 b(ets,)296
b(the)e(back)-12 b(end)295 b(acts)f(as)f(a)i(simple)e(demultiple)-18
b(x)g(er:)371 b(P)-18 b(ack-)7749 68860 y(ets)361 b(are)g(passed)g(to)h
(the)f(appropriate)g(virtual)h(interf)-12 b(ace)361 b(after)g(an)-18
b(y)361 b(necessary)g(logging)h(and)7749 70516 y(accounting)303
b(ha)-24 b(v)-18 b(e)304 b(been)f(carried)g(out.)27068
75362 y(32)p eop end
%%Page: 33 37
TeXDict begin 33 36 bop 2435 7306 a Fe(8.1.2)1329 b(Data)333
b(T)-98 b(ransfer)2435 10334 y Fl(Each)254 b(virtual)g(interf)-12
b(ace)254 b(uses)f(tw)-12 b(o)254 b(\223descriptor)f(rings\224,)263
b(one)254 b(for)f(transmit,)263 b(the)254 b(other)g(for)f(re-)2435
11990 y(cei)-30 b(v)-18 b(e.)410 b(Each)315 b(descriptor)f
(identi\002es)g(a)g(block)h(of)f(contiguous)h(machine)g(memory)f
(allocated)2435 13646 y(to)303 b(the)h(domain.)2435 15855
y(The)268 b(transmit)f(ring)h(carries)f(pack)-12 b(ets)268
b(to)g(transmit)f(from)h(the)g(guest)g(to)g(the)g(back)-12
b(end)269 b(domain.)2435 17511 y(The)381 b(return)g(path)g(of)f(the)h
(transmit)g(ring)f(carries)g(messages)g(indicating)i(that)f(the)g
(contents)2435 19167 y(ha)-24 b(v)-18 b(e)269 b(been)f(ph)-6
b(ysically)268 b(transmitted)g(and)h(the)f(back)-12 b(end)269
b(no)f(longer)g(requires)g(the)g(associated)2435 20823
y(pages)303 b(of)g(memory)-79 b(.)2435 23033 y(T)-97
b(o)454 b(recei)-30 b(v)-18 b(e)454 b(pack)-12 b(ets,)492
b(the)455 b(guest)f(places)g(descriptors)f(of)h(unused)g(pages)g(on)h
(the)f(recei)-30 b(v)-18 b(e)2435 24689 y(ring.)602 b(The)379
b(back)-12 b(end)379 b(will)f(return)g(recei)-30 b(v)-18
b(ed)379 b(pack)-12 b(ets)378 b(by)h(e)-18 b(xchanging)379
b(these)g(pages)f(in)h(the)2435 26345 y(domain')-67 b(s)345
b(memory)h(with)f(ne)-30 b(w)345 b(pages)h(containing)f(the)h(recei)-30
b(v)-18 b(ed)345 b(data,)356 b(and)346 b(passing)e(back)2435
28001 y(descriptors)292 b(re)-18 b(g)-6 b(arding)293
b(the)g(ne)-30 b(w)293 b(pack)-12 b(ets)293 b(on)g(the)h(ring.)372
b(This)292 b(zero-cop)-12 b(y)293 b(approach)g(allo)-30
b(ws)2435 29657 y(the)481 b(back)-12 b(end)481 b(to)f(maintain)g(a)h
(pool)f(of)g(free)g(pages)g(to)g(recei)-30 b(v)-18 b(e)480
b(pack)-12 b(ets)481 b(into,)524 b(and)481 b(then)2435
31313 y(deli)-30 b(v)-18 b(er)303 b(them)g(to)g(appropriate)g(domains)g
(after)g(e)-18 b(xamining)303 b(their)g(headers.)2435
33522 y(If)k(a)h(domain)g(does)g(not)g(k)-12 b(eep)308
b(its)f(recei)-30 b(v)-18 b(e)307 b(ring)h(stock)-12
b(ed)307 b(with)h(empty)g(b)-24 b(uf)-30 b(fers)306 b(then)i(pack)-12
b(ets)2435 35178 y(destined)268 b(to)g(it)g(may)h(be)f(dropped.)364
b(This)267 b(pro)-18 b(vides)268 b(some)g(defence)g(ag)-6
b(ainst)268 b(recei)-30 b(v)-18 b(e)268 b(li)-30 b(v)-18
b(elock)2435 36834 y(problems)360 b(because)h(an)g(o)-18
b(v)g(erloaded)361 b(domain)g(will)f(cease)h(to)f(recei)-30
b(v)-18 b(e)361 b(further)f(data.)548 b(Simi-)2435 38490
y(larly)-79 b(,)346 b(on)337 b(the)g(transmit)f(path,)346
b(it)337 b(pro)-18 b(vides)336 b(the)h(application)h(with)f(feedback)h
(on)f(the)g(rate)g(at)2435 40146 y(which)304 b(pack)-12
b(ets)303 b(are)g(able)g(to)g(lea)-24 b(v)-18 b(e)303
b(the)h(system.)2435 42356 y(Flo)-30 b(w)383 b(control)g(on)f(rings)g
(is)h(achie)-30 b(v)-18 b(ed)383 b(by)g(including)g(a)g(pair)f(of)h
(producer)f(inde)-18 b(x)g(es)383 b(on)g(the)2435 44012
y(shared)329 b(ring)g(page.)456 b(Each)329 b(side)g(will)g(maintain)h
(a)g(pri)-30 b(v)g(ate)328 b(consumer)h(inde)-18 b(x)330
b(indicating)g(the)2435 45668 y(ne)-18 b(xt)449 b(outstanding)g
(message.)813 b(In)449 b(this)f(manner)-48 b(,)485 b(the)450
b(domains)e(cooperate)i(to)f(di)-30 b(vide)449 b(the)2435
47324 y(ring)350 b(into)g(tw)-12 b(o)350 b(message)g(lists,)360
b(one)351 b(in)f(each)g(direction.)517 b(Noti\002cation)350
b(is)g(decoupled)h(from)2435 48980 y(the)371 b(immediate)g(placement)h
(of)e(ne)-30 b(w)371 b(messages)e(on)i(the)g(ring;)404
b(the)371 b(e)-30 b(v)-18 b(ent)371 b(channel)g(will)g(be)2435
50636 y(used)257 b(to)f(generate)h(noti\002cation)g(when)f
Fj(either)h Fl(a)f(certain)h(number)f(of)g(outstanding)h(messages)2435
52292 y(are)414 b(queued,)441 b Fj(or)413 b Fl(a)g(speci\002ed)h
(number)f(of)g(nanoseconds)g(ha)-24 b(v)-18 b(e)413 b(elapsed)h(since)f
(the)g(oldest)2435 53948 y(message)303 b(w)-12 b(as)303
b(placed)g(on)g(the)h(ring.)2435 57979 y Fe(8.1.3)1329
b(Netw)-13 b(ork)332 b(ring)g(interface)2435 61007 y
Fl(The)427 b(netw)-12 b(ork)427 b(de)-30 b(vice)428 b(uses)e(tw)-12
b(o)428 b(shared)e(memory)h(rings)g(for)f(communication:)625
b(one)428 b(for)2435 62663 y(transmit,)303 b(one)g(for)f(recei)-30
b(v)-18 b(e.)2435 64872 y(T)-42 b(ransmit)302 b(requests)g(are)h
(described)g(by)g(the)g(follo)-30 b(wing)303 b(structure:)2435
66582 y Ff(typedef)534 b(struct)f(netif_tx_request)k({)4561
67739 y(grant_ref_t)e(gref;)3190 b(/)17313 67894 y(*)18376
67739 y(Reference)534 b(to)e(buffer)h(page)31659 67894
y(*)32190 67739 y(/)4561 68896 y(uint16_t)h(offset;)3722
b(/)17313 69051 y(*)18376 68896 y(Offset)533 b(within)g(buffer)h(page)
32190 69051 y(*)32721 68896 y(/)4561 70053 y(uint16_t)g(flags;)4253
b(/)17313 70208 y(*)18376 70053 y(NETTXF_)22093 70208
y(*)534 b(*)23689 70053 y(/)4561 71210 y(uint16_t)g(id;)5846
b(/)17313 71365 y(*)18376 71210 y(Echoed)533 b(in)f(response)i
(message.)33253 71365 y(*)33784 71210 y(/)21755 75362
y Fl(33)p eop end
%%Page: 34 38
TeXDict begin 34 37 bop 9874 7306 a Ff(uint16_t)534 b(size;)4784
b(/)22626 7461 y(*)23689 7306 y(Packet)533 b(size)g(in)f(bytes.)38567
7461 y(*)39098 7306 y(/)7749 8463 y(})f(netif_tx_request_t;)7749
10672 y Fm(gr)-22 b(ef)606 b Fl(Grant)303 b(reference)g(for)f(the)h
(netw)-12 b(ork)303 b(b)-24 b(uf)-30 b(fer)7749 12882
y Fm(offset)604 b Fl(Of)-30 b(fset)302 b(to)h(data)7749
15091 y Fm(\003ags)605 b Fl(T)-42 b(ransmit)233 b(\003ags)g
(\(currently)g(only)h(NETTXF)p 29926 15091 364 45 v 436
w(csum)p 32921 15091 V 436 w(blank)g(is)g(supported,)247
b(to)234 b(indicate)10779 16747 y(that)303 b(the)g(protocol)g(checksum)
h(\002eld)f(is)f(incomplete\).)7749 18957 y Fm(id)606
b Fl(Echoed)316 b(to)h(guest)f(by)g(the)h(back)-12 b(end)317
b(in)f(the)h(ring-le)-30 b(v)-18 b(el)315 b(response)h(so)g(that)g(the)
h(guest)f(can)10779 20613 y(match)303 b(it)g(to)g(this)g(request)7749
22822 y Fm(size)606 b Fl(Buf)-30 b(fer)302 b(size)7749
25032 y(Each)281 b(transmit)g(request)g(is)g(follo)-30
b(wed)281 b(by)h(a)g(transmit)e(response)h(at)h(some)f(later)g(date.)
369 b(This)281 b(is)7749 26688 y(part)265 b(of)g(the)g(shared-memory)g
(communication)h(protocol)f(and)g(allo)-30 b(ws)265 b(the)g(guest)g(to)
h(\(poten-)7749 28344 y(tially\))316 b(retire)g(internal)g(structures)f
(related)i(to)f(the)h(request.)416 b(It)316 b(does)g(not)h(imply)f(a)h
(netw)-12 b(ork-)7749 30000 y(le)-30 b(v)-18 b(el)303
b(response.)375 b(This)302 b(structure)g(is)g(as)h(follo)-30
b(ws:)7749 31710 y Ff(typedef)533 b(struct)h(netif_tx_response)j({)9874
32867 y(uint16_t)d(id;)9874 34024 y(int16_t)1065 b(status;)7749
35180 y(})531 b(netif_tx_response_t;)7749 37390 y Fm(id)606
b Fl(Echo)303 b(of)f(the)i(ID)e(\002eld)h(in)h(the)f(corresponding)f
(transmit)h(request.)7749 39599 y Fm(status)604 b Fl(Success)303
b(/)g(f)-12 b(ailure)302 b(status)g(of)h(the)g(transmit)f(request.)7749
41809 y(Recei)-30 b(v)-18 b(e)376 b(requests)e(must)h(be)g(queued)h(by)
f(the)g(frontend,)393 b(accompanied)376 b(by)g(a)f(donation)h(of)7749
43465 y(page-frames)354 b(to)h(the)g(back)-12 b(end.)531
b(The)355 b(back)-12 b(end)355 b(transfers)f(page)h(frames)f(full)g(of)
h(data)g(back)7749 45121 y(to)303 b(the)g(guest)7749
46831 y Ff(typedef)533 b(struct)h({)9874 47988 y(uint16_t)2128
b(id;)4252 b(/)22626 48143 y(*)23689 47988 y(Echoed)533
b(in)f(response)i(message.)42286 48143 y(*)42817 47988
y(/)9874 49145 y(grant_ref_t)h(gref;)3190 b(/)22626 49300
y(*)23689 49145 y(Reference)534 b(to)e(incoming)i(granted)g(frame)42817
49300 y(*)43348 49145 y(/)7749 50302 y(})d(netif_rx_request_t;)7749
52511 y Fm(id)606 b Fl(Echoed)303 b(by)g(the)g(frontend)g(to)g
(identify)g(this)f(request)h(when)g(responding.)7749
54721 y Fm(gr)-22 b(ef)606 b Fl(T)-42 b(ransfer)299 b(reference)j(-)f
(the)g(back)-12 b(end)302 b(will)f(use)h(this)e(reference)i(to)f
(transfer)f(a)i(frame)f(of)10779 56377 y(netw)-12 b(ork)303
b(data)g(to)g(us.)7749 58586 y(Recei)-30 b(v)-18 b(e)347
b(response)e(descriptors)g(are)h(queued)h(for)f(each)h(recei)-30
b(v)-18 b(ed)346 b(frame.)505 b(Note)347 b(that)f(these)7749
60242 y(may)382 b(only)g(be)f(queued)i(in)e(reply)h(to)g(an)g(e)-18
b(xisting)381 b(recei)-30 b(v)-18 b(e)382 b(request,)401
b(pro)-18 b(viding)381 b(an)h(in-b)-24 b(uilt)7749 61898
y(form)302 b(of)h(traf)-30 b(\002c)302 b(throttling.)7749
63608 y Ff(typedef)533 b(struct)h({)9874 64765 y(uint16_t)g(id;)9874
65922 y(uint16_t)g(offset;)3722 b(/)22626 66077 y(*)23689
65922 y(Offset)533 b(in)f(page)h(of)f(start)h(of)f(received)i(packet)
47068 66077 y(*)47599 65922 y(/)9874 67079 y(uint16_t)g(flags;)4253
b(/)22626 67234 y(*)23689 67079 y(NETRXF_)27406 67234
y(*)534 b(*)29002 67079 y(/)9874 68236 y(int16_t)1065
b(status;)3722 b(/)22626 68391 y(*)23689 68236 y(-ve:)533
b(BLKIF_RSP_)31656 68391 y(*)32722 68236 y(;)e(+ve:)i(Rx'ed)g(pkt)g
(size.)44943 68391 y(*)45474 68236 y(/)7749 69392 y(})e
(netif_rx_response_t;)27068 75362 y Fl(34)p eop end
%%Page: 35 39
TeXDict begin 35 38 bop 2435 7306 a Fm(id)606 b Fl(ID)363
b(echoed)h(from)f(the)h(original)f(request,)378 b(used)363
b(by)g(the)h(guest)f(to)g(match)h(this)f(response)5466
8962 y(to)303 b(the)g(original)g(request.)2435 11171
y Fm(offset)605 b Fl(Of)-30 b(fset)302 b(to)h(data)g(within)g(the)h
(transferred)d(frame.)2435 13381 y Fm(\003ags)606 b Fl(T)-42
b(ransmit)262 b(\003ags)h(\(currently)g(only)h(NETRXF)p
24799 13381 364 45 v 436 w(csum)p 27794 13381 V 436 w(v)-30
b(alid)264 b(is)f(supported,)271 b(to)263 b(indicate)5466
15037 y(that)303 b(the)g(protocol)g(checksum)g(\002eld)g(has)g(already)
g(been)h(v)-30 b(alidated\).)2435 17246 y Fm(status)605
b Fl(Success)302 b(/)h(error)f(status)g(for)h(this)f(operation.)2435
19456 y(Note)362 b(that)f(the)g(recei)-30 b(v)-18 b(e)361
b(protocol)g(includes)g(a)h(mechanism)f(for)f(guests)h(to)g(recei)-30
b(v)-18 b(e)361 b(incom-)2435 21112 y(ing)275 b(memory)f(frames)f(b)-24
b(ut)274 b(there)h(is)f(no)g(e)-18 b(xplicit)274 b(transfer)f(of)h
(frames)g(in)g(the)h(other)f(direction.)2435 22768 y(Guests)d(are)h(e)
-18 b(xpected)272 b(to)f(return)g(memory)h(to)f(the)h(h)-6
b(ypervisor)271 b(in)g(order)g(to)h(use)f(the)h(netw)-12
b(ork)2435 24424 y(interf)g(ace.)488 b(The)-18 b(y)340
b Fj(must)g Fl(do)g(this)g(or)g(the)-18 b(y)341 b(will)f(e)-18
b(xceed)341 b(their)f(maximum)h(memory)f(reserv)-30 b(a-)2435
26080 y(tion)304 b(and)h(will)f(not)g(be)g(able)h(to)f(recei)-30
b(v)-18 b(e)304 b(incoming)g(frame)g(transfers.)377 b(When)305
b(necessary)-79 b(,)304 b(the)2435 27736 y(back)-12 b(end)362
b(is)e(able)i(to)f(replenish)g(its)f(pool)h(of)g(free)g(netw)-12
b(ork)361 b(b)-24 b(uf)-30 b(fers)359 b(by)i(claiming)g(some)g(of)2435
29392 y(this)303 b(free)f(memory)h(from)g(the)g(h)-6
b(ypervisor)-67 b(.)2435 34046 y Fi(8.2)1594 b(Block)399
b(I/O)2435 37511 y Fl(All)461 b(guest)f(OS)g(disk)g(access)g(goes)g
(through)g(the)g(virtual)g(block)h(de)-30 b(vice)460
b(VBD)h(interf)-12 b(ace.)2435 39167 y(This)379 b(interf)-12
b(ace)379 b(allo)-30 b(ws)379 b(domains)g(access)g(to)g(portions)g(of)g
(block)g(storage)g(de)-30 b(vices)379 b(visible)2435
40823 y(to)313 b(the)h(the)f(block)g(back)-12 b(end)314
b(de)-30 b(vice.)406 b(The)313 b(VBD)g(interf)-12 b(ace)313
b(is)g(a)g(split)f(dri)-30 b(v)-18 b(er)-48 b(,)314 b(similar)f(to)g
(the)2435 42479 y(netw)-12 b(ork)338 b(interf)-12 b(ace)338
b(described)g(abo)-18 b(v)g(e.)481 b(A)338 b(single)g(shared)f(memory)h
(ring)g(is)f(used)h(between)2435 44135 y(the)308 b(frontend)f(and)h
(back)-12 b(end)308 b(dri)-30 b(v)-18 b(ers)306 b(for)h(each)h(virtual)
f(de)-30 b(vice,)309 b(across)e(which)h(IO)f(requests)2435
45791 y(and)d(responses)d(are)i(sent.)2435 48000 y(An)-18
b(y)231 b(block)f(de)-30 b(vice)231 b(accessible)f(to)g(the)h(back)-12
b(end)231 b(domain,)245 b(including)231 b(netw)-12 b(ork-based)230
b(block)2435 49656 y(\(iSCSI,)351 b(*NBD,)h(etc\),)363
b(loopback)351 b(and)h(L)-121 b(VM/MD)350 b(de)-30 b(vices,)362
b(can)352 b(be)f(e)-18 b(xported)351 b(as)g(a)g(VBD.)2435
51312 y(Each)305 b(VBD)g(is)f(mapped)h(to)f(a)h(de)-30
b(vice)304 b(node)h(in)f(the)h(guest,)g(speci\002ed)f(in)g(the)h
(guest')-67 b(s)304 b(startup)2435 52968 y(con\002guration.)2435
56999 y Fe(8.2.1)1329 b(Data)333 b(T)-98 b(ransfer)2435
60027 y Fl(The)444 b(per)-24 b(-\(virtual\)-de)-30 b(vice)442
b(ring)i(between)g(the)g(guest)g(and)g(the)g(block)h(back)-12
b(end)444 b(supports)2435 61683 y(tw)-12 b(o)303 b(messages:)2435
63892 y Fb(READ)p Fm(:)607 b Fl(Read)320 b(data)f(from)f(the)h
(speci\002ed)g(block)h(de)-30 b(vice.)424 b(The)318 b(front)h(end)g
(identi\002es)g(the)g(de-)5466 65548 y(vice)278 b(and)g(location)h(to)f
(read)g(from)f(and)h(attaches)g(pages)g(for)g(the)g(data)g(to)g(be)g
(copied)h(to)5466 67204 y(\(typically)253 b(via)i(DMA)e(from)g(the)i
(de)-30 b(vice\).)359 b(The)254 b(back)-12 b(end)254
b(ackno)-30 b(wledges)254 b(completed)5466 68860 y(read)303
b(requests)f(as)g(the)-18 b(y)304 b(\002nish.)21755 75362
y(35)p eop end
%%Page: 36 40
TeXDict begin 36 39 bop 7749 7306 a Fb(WRITE)p Fm(:)606
b Fl(Write)468 b(data)h(to)f(the)g(speci\002ed)g(block)h(de)-30
b(vice.)871 b(This)467 b(functions)h(essentially)g(as)10779
8962 y Fb(READ)p Fl(,)304 b(e)-18 b(xcept)303 b(that)g(the)h(data)f(mo)
-18 b(v)g(es)303 b(to)g(the)g(de)-30 b(vice)303 b(instead)g(of)g(from)f
(it.)7749 12993 y Fe(8.2.2)1329 b(Block)332 b(ring)g(interface)7749
16021 y Fl(The)435 b(block)h(interf)-12 b(ace)436 b(is)f(de\002ned)h
(by)g(the)g(structures)e(passed)h(o)-18 b(v)g(er)435
b(the)h(shared)f(memory)7749 17677 y(interf)-12 b(ace.)581
b(These)371 b(structures)g(are)g(either)h(requests)f(\(from)f(the)i
(frontend)f(to)h(the)g(back)-12 b(end\))7749 19333 y(or)302
b(responses)g(\(from)g(the)h(back)-12 b(end)304 b(to)f(the)g
(frontend\).)7749 21542 y(The)g(request)f(structure)g(is)h(de\002ned)g
(as)g(follo)-30 b(ws:)7749 23252 y Ff(typedef)533 b(struct)h
(blkif_request)i({)9874 24409 y(uint8_t)4253 b(operation;)2129
b(/)25814 24564 y(*)26877 24409 y(BLKIF_OP_???)46537
24564 y(*)47068 24409 y(/)9874 25566 y(uint8_t)4253 b(nr_segments;)1067
b(/)25814 25721 y(*)26877 25566 y(number)533 b(of)f(segments)46537
25721 y(*)47068 25566 y(/)9874 26723 y(blkif_vdev_t)1598
b(handle;)3722 b(/)25814 26878 y(*)26877 26723 y(only)533
b(for)f(read/write)j(requests)46537 26878 y(*)47068 26723
y(/)9874 27879 y(uint64_t)3722 b(id;)5846 b(/)25814 28034
y(*)26877 27879 y(private)534 b(guest)f(value,)g(echoed)h(in)e(resp)
46537 28034 y(*)47068 27879 y(/)9874 29036 y(blkif_sector_t)k
(sector_number;/)25809 29191 y(*)26877 29036 y(start)d(sector)g(idx)g
(on)f(disk)h(\(r/w)f(only\))46537 29191 y(*)47068 29036
y(/)9874 30193 y(struct)h(blkif_request_segment)539 b({)11999
31350 y(grant_ref_t)d(gref;)4252 b(/)25814 31505 y(*)26877
31350 y(reference)534 b(to)e(I/O)h(buffer)g(frame)46537
31505 y(*)47068 31350 y(/)11999 32507 y(/)12530 32662
y(*)13593 32507 y(@first_sect:)j(first)d(sector)g(in)f(frame)h(to)f
(transfer)j(\(inclusive\).)46537 32662 y(*)47068 32507
y(/)11999 33663 y(/)12530 33818 y(*)13593 33663 y(@last_sect:)h(last)c
(sector)i(in)e(frame)h(to)f(transfer)i(\(inclusive\).)46537
33818 y(*)47068 33663 y(/)11999 34820 y(uint8_t)2660
b(first_sect,)535 b(last_sect;)9874 35977 y(})d
(seg[BLKIF_MAX_SEGMENTS_PER_REQUEST];)7749 37134 y(})f
(blkif_request_t;)7749 39343 y Fl(The)303 b(\002elds)f(are)h(as)g
(follo)-30 b(ws:)7749 41553 y Fm(operation)606 b Fl(operation)303
b(ID:)g(one)g(of)g(the)g(operations)g(described)f(abo)-18
b(v)g(e)7749 43762 y Fm(nr)p 9034 43762 364 45 v 436
w(segments)605 b Fl(number)303 b(of)g(se)-18 b(gments)302
b(for)g(scatter)h(/)g(g)-6 b(ather)303 b(IO)g(described)g(by)g(this)f
(request)7749 45972 y Fm(handle)606 b Fl(identi\002er)303
b(for)f(a)h(particular)g(virtual)g(de)-30 b(vice)303
b(on)g(this)g(interf)-12 b(ace)7749 48181 y Fm(id)606
b Fl(this)295 b(v)-30 b(alue)296 b(is)f(echoed)i(in)f(the)g(response)f
(message)g(for)g(this)h(IO;)f(the)h(guest)g(may)g(use)g(it)f(to)10779
49837 y(identify)303 b(the)g(original)g(request)7749
52047 y Fm(sector)p 10918 52047 V 436 w(number)606 b
Fl(start)302 b(sector)g(on)i(the)f(virtual)g(de)-30 b(vice)303
b(for)f(this)h(request)7749 54256 y Fm(frame)p 10918
54256 V 436 w(and)p 13308 54256 V 436 w(sects)605 b Fl(This)390
b(array)g(contains)h(structures)f(encoding)h(scatter)-24
b(-g)-6 b(ather)390 b(IO)g(to)h(be)10779 55912 y(performed:)10779
58122 y Fm(gr)-22 b(ef)606 b Fl(The)303 b(grant)g(reference)g(for)f
(the)i(foreign)e(I/O)h(b)-24 b(uf)-30 b(fer)302 b(page.)10779
60331 y Fm(\002rst)p 12940 60331 V 436 w(sect)605 b Fl(First)302
b(sector)h(to)g(access)f(within)i(the)f(b)-24 b(uf)-30
b(fer)302 b(page)h(\(0)g(to)g(7\).)10779 62541 y Fm(last)p
12671 62541 V 436 w(sect)605 b Fl(Last)302 b(sector)h(to)g(access)g
(within)g(the)g(b)-24 b(uf)-30 b(fer)302 b(page)h(\(0)g(to)g(7\).)10779
64750 y(Data)352 b(will)f(be)h(transferred)e(into)h(frames)g(at)g(an)h
(of)-30 b(fset)350 b(determined)h(by)h(the)f(v)-30 b(alue)352
b(of)10779 66406 y Fg(first)p 14487 66406 V 438 w(sect)p
Fl(.)27068 75362 y(36)p eop end
%%Page: 37 41
TeXDict begin 37 40 bop 2435 7306 a Fi(8.3)1594 b(V)-59
b(irtual)398 b(TPM)2435 10770 y Fl(V)-73 b(irtual)291
b(TPM)f(\(VTPM\))f(support)i(pro)-18 b(vides)290 b(TPM)g(functionality)
g(to)h(each)h(virtual)e(machine)2435 12426 y(that)376
b(requests)e(this)h(functionality)g(in)h(its)e(con\002guration)i
(\002le.)592 b(The)376 b(interf)-12 b(ace)375 b(enables)g(do-)2435
14082 y(mains)360 b(to)f(access)h(their)f(o)-30 b(wn)360
b(pri)-30 b(v)g(ate)359 b(TPM)f(lik)-12 b(e)360 b(it)f(w)-12
b(as)360 b(a)f(hardw)-12 b(are)360 b(TPM)f(b)-24 b(uilt)359
b(into)h(the)2435 15738 y(machine.)2435 17948 y(The)342
b(virtual)g(TPM)f(interf)-12 b(ace)342 b(is)f(implemented)h(as)g(a)g
(split)f(dri)-30 b(v)-18 b(er)-48 b(,)351 b(similar)341
b(to)h(the)g(netw)-12 b(ork)2435 19604 y(and)401 b(block)g(interf)-12
b(aces)400 b(described)g(abo)-18 b(v)g(e.)669 b(The)400
b(user)g(domain)h(hosting)f(the)h(frontend)f(e)-18 b(x-)2435
21260 y(ports)440 b(a)h(character)g(de)-30 b(vice)440
b(/de)-30 b(v/tpm0)441 b(to)f(user)-24 b(-le)-30 b(v)-18
b(el)440 b(applications)g(for)g(communicating)2435 22916
y(with)i(the)h(virtual)f(TPM.)f(This)g(is)g(the)i(same)e(de)-30
b(vice)443 b(interf)-12 b(ace)442 b(that)g(is)f(also)h(of)-30
b(fered)441 b(if)h(a)2435 24572 y(hardw)-12 b(are)317
b(TPM)g(is)f(a)-24 b(v)-30 b(ailable)318 b(in)f(the)h(system.)417
b(The)317 b(back)-12 b(end)318 b(pro)-18 b(vides)317
b(a)g(single)g(interf)-12 b(ace)2435 26228 y(/de)-30
b(v/vtpm)356 b(where)h(the)f(virtual)g(TPM)f(is)g(w)-12
b(aiting)357 b(for)e(commands)h(from)g(all)g(domains)g(that)2435
27884 y(ha)-24 b(v)-18 b(e)303 b(located)h(their)f(back)-12
b(end)303 b(in)h(a)f(gi)-30 b(v)-18 b(en)303 b(domain.)2435
31915 y Fe(8.3.1)1329 b(Data)333 b(T)-98 b(ransfer)2435
34942 y Fl(A)406 b(single)g(shared)f(memory)h(ring)f(is)g(used)h
(between)g(the)g(frontend)g(and)g(back)-12 b(end)406
b(dri)-30 b(v)-18 b(ers.)2435 36598 y(TPM)345 b(requests)g(and)h
(responses)f(are)h(sent)f(in)h(pages)g(where)g(a)g(pointer)g(to)g
(those)g(pages)g(and)2435 38254 y(other)c(information)f(is)h(placed)g
(into)g(the)g(ring)g(such)f(that)h(the)g(back)-12 b(end)343
b(can)f(map)g(the)g(pages)2435 39910 y(into)303 b(its)g(memory)g(space)
g(using)g(the)g(grant)g(table)g(mechanism.)2435 42120
y(The)440 b(back)-12 b(end)440 b(dri)-30 b(v)-18 b(er)439
b(has)g(been)h(implemented)h(to)e(only)h(accept)h(well-formed)e(TPM)f
(re-)2435 43776 y(quests.)732 b(T)-97 b(o)422 b(meet)h(this)e
(requirement,)452 b(the)422 b(length)g(indicator)g(in)g(the)h(TPM)e
(request)g(must)2435 45432 y(correctly)396 b(indicate)h(the)f(length)h
(of)e(the)i(request.)654 b(Otherwise)396 b(an)g(error)g(message)f(is)h
(auto-)2435 47088 y(matically)304 b(sent)e(back)i(by)f(the)g(de)-30
b(vice)304 b(dri)-30 b(v)-18 b(er)-67 b(.)2435 49297
y(The)382 b(virtual)f(TPM)g(implementation)h(listens)e(for)h(TPM)g
(request)g(on)h(/de)-30 b(v/vtpm.)611 b(Since)382 b(it)2435
50953 y(must)332 b(be)g(able)h(to)f(apply)g(the)g(TPM)f(request)h(pack)
-12 b(et)333 b(to)f(the)g(virtual)g(TPM)f(instance)h(associ-)2435
52609 y(ated)283 b(with)f(the)h(virtual)f(machine,)287
b(a)c(4-byte)f(virtual)g(TPM)f(instance)i(identi\002er)f(is)g
(pretended)2435 54265 y(to)j(each)g(pack)-12 b(et)286
b(by)f(the)g(back)-12 b(end)285 b(dri)-30 b(v)-18 b(er)284
b(\(in)g(netw)-12 b(ork)285 b(byte)g(order\))f(for)g(internal)h
(routing)f(of)2435 55922 y(the)304 b(request.)2435 59952
y Fe(8.3.2)1329 b(V)-49 b(irtual)333 b(TPM)e(ring)h(interface)2435
62980 y Fl(The)297 b(TPM)f(protocol)h(is)f(a)h(strict)f
(request/response)f(protocol)i(and)g(therefore)f(only)h(one)g(ring)2435
64636 y(is)438 b(used)g(to)g(send)f(requests)g(from)h(the)g(frontend)g
(to)g(the)g(back)-12 b(end)439 b(and)f(responses)f(on)h(the)2435
66292 y(re)-30 b(v)-18 b(erse)302 b(path.)2435 68502
y(The)h(request/response)f(structure)g(is)h(de\002ned)g(as)g(follo)-30
b(ws:)2435 70212 y Ff(typedef)534 b(struct)f({)4561 71369
y(unsigned)h(long)e(addr;)2659 b(/)17844 71524 y(*)18907
71369 y(Machine)534 b(address)f(of)f(packet.)35378 71524
y(*)35909 71369 y(/)21755 75362 y Fl(37)p eop end
%%Page: 38 42
TeXDict begin 38 41 bop 9874 7306 a Ff(grant_ref_t)535
b(ref;)4252 b(/)23157 7461 y(*)24220 7306 y(grant)533
b(table)g(access)h(reference.)40692 7461 y(*)41223 7306
y(/)9874 8463 y(uint16_t)g(unused;)4253 b(/)23157 8618
y(*)24220 8463 y(unused)40692 8618 y(*)41223 8463 y(/)9874
9619 y(uint16_t)534 b(size;)5315 b(/)23157 9774 y(*)24220
9619 y(Packet)534 b(size)e(in)g(bytes.)40692 9774 y(*)41223
9619 y(/)7749 10776 y(})f(tpmif_tx_request_t;)7749 12986
y Fl(The)303 b(\002elds)f(are)h(as)g(follo)-30 b(ws:)7749
15195 y Fm(addr)606 b Fl(The)282 b(machine)g(address)g(of)f(the)i(page)
f(associated)g(with)g(the)g(TPM)g(request/response;)10779
16851 y(a)303 b(request/response)f(may)h(span)g(multiple)g(pages)7749
19061 y Fm(r)-22 b(ef)606 b Fl(The)303 b(grant)g(table)g(reference)g
(associated)g(with)g(the)g(address.)7749 21270 y Fm(size)606
b Fl(The)278 b(size)g(of)g(the)g(remaining)g(pack)-12
b(et;)287 b(up)278 b(to)h(P)-112 b(A)-48 b(GE)p 32371
21270 364 45 v 436 w(SIZE)277 b(bytes)h(can)g(be)h(found)f(in)g(the)
10779 22926 y(page)304 b(referenced)e(by)i('addr')7749
25136 y(The)463 b(frontend)f(initially)h(allocates)h(se)-30
b(v)-18 b(eral)462 b(pages)h(whose)g(addresses)f(are)h(stored)f(in)h
(the)7749 26792 y(ring.)375 b(Only)303 b(these)g(pages)g(are)g(used)g
(for)g(e)-18 b(xchange)303 b(of)g(requests)f(and)h(responses.)27068
75362 y(38)p eop end
%%Page: 39 43
TeXDict begin 39 42 bop 2435 16438 a Fk(Chapter)575 b(9)2435
22859 y Fp(Further)689 b(Inf)-69 b(ormation)2435 29496
y Fl(If)375 b(you)h(ha)-24 b(v)-18 b(e)376 b(questions)f(that)h(are)g
(not)g(answered)f(by)h(this)f(manual,)395 b(the)376 b(sources)f(of)g
(infor)-24 b(-)2435 31152 y(mation)352 b(listed)g(belo)-30
b(w)352 b(may)g(be)g(of)f(interest)h(to)g(you.)522 b(Note)352
b(that)g(b)-24 b(ug)352 b(reports,)363 b(suggestions)2435
32808 y(and)340 b(contrib)-24 b(utions)338 b(related)h(to)g(the)g
(softw)-12 b(are)338 b(\(or)h(the)g(documentation\))g(should)g(be)g
(sent)g(to)2435 34464 y(the)304 b(Xen)f(de)-30 b(v)-18
b(elopers')302 b(mailing)h(list)g(\(address)e(belo)-30
b(w\).)2435 39119 y Fi(9.1)1594 b(Other)398 b(documentation)2435
42583 y Fl(If)453 b(you)h(are)g(mainly)f(interested)h(in)f(using)h
(\(rather)e(than)i(de)-30 b(v)-18 b(eloping)454 b(for\))f(Xen,)491
b(the)454 b Fj(Xen)2435 44239 y(User)-12 b(s')241 b(Manual)j
Fl(is)e(distrib)-24 b(uted)241 b(in)i(the)g Fg(docs/)h
Fl(directory)e(of)g(the)h(Xen)g(source)f(distrib)-24
b(ution.)2435 48893 y Fi(9.2)1594 b(Online)399 b(r)-29
b(efer)g(ences)2435 52357 y Fl(The)303 b(of)-30 b(\002cial)303
b(Xen)g(web)h(site)e(can)i(be)f(found)g(at:)5466 54567
y Fg(http://www.xensource.com)2435 56776 y Fl(This)289
b(contains)g(links)f(to)i(the)f(latest)g(v)-18 b(ersions)288
b(of)h(all)g(online)g(documentation,)k(including)d(the)2435
58432 y(latest)303 b(v)-18 b(ersion)302 b(of)h(the)g(F)-90
b(A)-67 b(Q.)2435 60642 y(Information)303 b(re)-18 b(g)-6
b(arding)302 b(Xen)i(is)e(also)h(a)-24 b(v)-30 b(ailable)303
b(at)g(the)g(Xen)h(W)-48 b(iki)303 b(at)5466 62851 y
Fg(http://wiki.xensource.com/xenwiki/)2435 65061 y Fl(The)462
b(Xen)f(project)h(uses)e(Bugzilla)j(as)e(its)g(b)-24
b(ug)461 b(tracking)g(system.)851 b(Y)-133 b(ou')-12
b(ll)460 b(\002nd)i(the)f(Xen)2435 66717 y(Bugzilla)304
b(at)f(http://b)-24 b(ugzilla.x)-18 b(ensource.com/b)-24
b(ugzilla/.)21755 75362 y(39)p eop end
%%Page: 40 44
TeXDict begin 40 43 bop 7749 7306 a Fi(9.3)1593 b(Mailing)399
b(lists)7749 10770 y Fl(There)262 b(are)h(se)-30 b(v)-18
b(eral)262 b(mailing)h(lists)e(that)i(are)g(used)g(to)f(discuss)g(Xen)h
(related)g(topics.)362 b(The)263 b(most)7749 12426 y(widely)319
b(rele)-30 b(v)g(ant)318 b(are)h(listed)f(belo)-30 b(w)-79
b(.)423 b(An)318 b(of)-30 b(\002cial)319 b(page)g(of)f(mailing)h(lists)
e(and)i(subscription)7749 14082 y(information)302 b(can)i(be)f(found)g
(at)10779 16292 y Fg(http://lists.xensource.com/)7749
18501 y Fm(xen-de)-18 b(v)-12 b(el@lists.xensour)-22
b(ce.com)605 b Fl(Used)460 b(for)f(de)-30 b(v)-18 b(elopment)460
b(discussions)f(and)h(b)-24 b(ug)460 b(re-)10779 20157
y(ports.)375 b(Subscribe)303 b(at:)10779 21813 y Fb
(http://lists.xensource.com/xen-devel)7749 24023 y Fm
(xen-users@lists.xensour)-22 b(ce.com)604 b Fl(Used)364
b(for)f(installation)h(and)h(usage)f(discussions)e(and)10779
25679 y(requests)302 b(for)g(help.)377 b(Subscribe)302
b(at:)10779 27335 y Fb(http://lists.xensource.com/xen-users)7749
29544 y Fm(xen-announce@lists.xensour)-22 b(ce.com)605
b Fl(Used)483 b(for)f(announcements)h(only)-79 b(.)916
b(Subscribe)10779 31200 y(at:)10779 32856 y Fb
(http://lists.xensource.com/xen-announce)7749 35066 y
Fm(xen-changelog@lists.xensour)-22 b(ce.com)605 b Fl(Changelog)382
b(feed)f(from)g(the)g(unstable)g(and)g(2.0)10779 36722
y(trees)302 b(-)h(de)-30 b(v)-18 b(eloper)303 b(oriented.)376
b(Subscribe)302 b(at:)10779 38378 y Fb
(http://lists.xensource.com/xen-changelog)27068 75362
y Fl(40)p eop end
%%Page: 41 45
TeXDict begin 41 44 bop 2435 16438 a Fk(A)-57 b(ppendix)576
b(A)2435 22859 y Fp(Xen)689 b(Hyper)-50 b(calls)2435
29496 y Fl(Hypercalls)257 b(represent)g(the)g(procedural)g(interf)-12
b(ace)257 b(to)g(Xen;)273 b(this)257 b(appendix)h(cate)-18
b(gorizes)257 b(and)2435 31152 y(describes)303 b(the)g(current)g(set)f
(of)h(h)-6 b(ypercalls.)2435 35806 y Fi(A.1)1594 b(In)-64
b(v)-16 b(oking)400 b(Hyper)-29 b(calls)2435 39271 y
Fl(Hypercalls)265 b(are)g(in)-48 b(v)-24 b(ok)-12 b(ed)264
b(in)h(a)g(manner)g(analogous)g(to)g(system)f(calls)h(in)g(a)g(con)-48
b(v)-18 b(entional)265 b(op-)2435 40927 y(erating)g(system;)277
b(a)265 b(softw)-12 b(are)264 b(interrupt)g(is)g(issued)g(which)h(v)-18
b(ectors)264 b(to)h(an)g(entry)g(point)g(within)2435
42583 y(Xen.)484 b(On)339 b(x86/32)g(machines)f(the)h(instruction)f
(required)h(is)f Fg(int)728 b($82)p Fl(;)357 b(the)339
b(\(real\))f(IDT)g(is)2435 44239 y(setup)424 b(so)f(that)h(this)g(may)g
(only)g(be)g(issued)f(from)g(within)h(ring)g(1.)738 b(The)424
b(particular)g(h)-6 b(yper)-24 b(-)2435 45895 y(call)342
b(to)g(be)g(in)-48 b(v)-24 b(ok)-12 b(ed)341 b(is)h(contained)g(in)g
Fg(EAX)g Fl(\227)g(a)g(list)f(mapping)h(these)g(v)-30
b(alues)341 b(to)h(symbolic)2435 47551 y(h)-6 b(ypercall)304
b(names)e(can)i(be)f(found)g(in)g Fg(xen/include/public/xen.h)p
Fl(.)2435 49760 y(On)347 b(some)g(occasions)f(a)h(set)g(of)f(h)-6
b(ypercalls)346 b(will)h(be)g(required)g(to)f(carry)h(out)g(a)g(higher)
-24 b(-le)-30 b(v)-18 b(el)2435 51416 y(function;)467
b(a)412 b(good)h(e)-18 b(xample)413 b(is)e(when)i(a)f(guest)g
(operating)h(wishes)e(to)h(conte)-18 b(xt)413 b(switch)f(to)2435
53072 y(a)361 b(ne)-30 b(w)360 b(process)g(which)g(requires)g(updating)
h(v)-30 b(arious)359 b(pri)-30 b(vile)-18 b(ged)360 b(CPU)h(state.)548
b(As)360 b(an)g(opti-)2435 54728 y(mization)339 b(for)f(these)g(cases,)
347 b(there)339 b(is)f(a)h(generic)f(mechanism)h(to)f(issue)g(a)h(set)f
(of)g(h)-6 b(ypercalls)2435 56384 y(as)303 b(a)g(batch:)5466
59224 y Fh(m)-12 b(ulticall\(v)-30 b(oid)336 b(*call)p
15127 59224 364 45 v 436 w(list,)h(int)g(nr)p 20413 59224
V 436 w(calls\))5466 61433 y Fl(Ex)-18 b(ecute)265 b(a)h(series)f(of)g
(h)-6 b(ypervisor)265 b(calls;)278 b Fg(nr)p 24530 61433
V 436 w(calls)267 b Fl(is)f(the)f(length)h(of)g(the)f(ar)-24
b(-)5466 63089 y(ray)350 b(of)h Fg(multicall)p 15341
63089 V 439 w(entry)p 19415 63089 V 438 w(t)g Fl(structures)f(pointed)h
(to)g(be)g Fg(call)p 35679 63089 V 437 w(list)p Fl(.)5466
64745 y(Each)339 b(entry)g(contains)g(the)h(h)-6 b(ypercall)339
b(operation)h(code)f(follo)-30 b(wed)339 b(by)h(up)f(to)h(7)5466
66401 y(w)-12 b(ord-sized)302 b(ar)-22 b(guments.)2435
68611 y(Note)258 b(that)g(multicalls)f(are)h(pro)-18
b(vided)258 b(purely)f(as)g(an)h(optimization;)273 b(there)258
b(is)f(no)h(requirement)2435 70267 y(to)303 b(use)g(them)g(when)h
(\002rst)e(porting)h(a)g(guest)g(operating)g(system.)21755
75362 y(41)p eop end
%%Page: 42 46
TeXDict begin 42 45 bop 7749 7306 a Fi(A.2)1593 b(V)-59
b(irtual)399 b(CPU)f(Setup)7749 10770 y Fl(At)265 b(start)f(of)g(day)
-79 b(,)274 b(a)265 b(guest)f(operating)h(system)f(needs)h(to)g(setup)g
(the)g(virtual)g(CPU)g(it)g(is)f(e)-18 b(x)g(ecut-)7749
12426 y(ing)284 b(on.)370 b(This)283 b(includes)i(installing)f(v)-18
b(ectors)283 b(for)h(the)h(virtual)f(IDT)f(so)h(that)h(the)f(guest)g
(OS)h(can)7749 14082 y(handle)388 b(interrupts,)407 b(page)388
b(f)-12 b(aults,)407 b(etc.)629 b(Ho)-30 b(we)g(v)-18
b(er)387 b(the)h(v)-18 b(ery)387 b(\002rst)f(thing)i(a)f(guest)g(OS)h
(must)7749 15738 y(setup)365 b(is)g(a)g(pair)h(of)f(h)-6
b(ypervisor)364 b(callbacks:)501 b(these)365 b(are)h(the)f(entry)h
(points)f(which)g(Xen)h(will)7749 17394 y(use)302 b(when)i(it)f(wishes)
f(to)h(notify)g(the)g(guest)g(OS)g(of)g(an)g(occurrence.)10779
20233 y Fh(set)p 12469 20233 364 45 v 436 w(callbac)-24
b(ks\(unsigned)257 b(long)f(e)-36 b(v)-30 b(ent)p 28891
20233 V 436 w(selector)-61 b(,)273 b(unsigned)257 b(long)f(e)-36
b(v)-30 b(ent)p 44742 20233 V 436 w(address)-18 b(,)10779
21890 y(unsigned)286 b(long)g(f)-36 b(ailsaf)g(e)p 22402
21890 V 436 w(selector)-61 b(,)296 b(unsigned)287 b(long)f(f)-36
b(ailsaf)g(e)p 39205 21890 V 435 w(address\))10779 24099
y Fl(Re)-18 b(gister)507 b(the)h(normal)f(\(\223e)-30
b(v)-18 b(ent\224\))507 b(and)h(f)-12 b(ailsafe)507 b(callbacks)g(for)g
(e)-30 b(v)-18 b(ent)508 b(pro-)10779 25755 y(cessing.)739
b(In)424 b(each)h(case)f(the)g(code)h(se)-18 b(gment)424
b(selector)g(and)g(address)g(within)10779 27411 y(that)393
b(se)-18 b(gment)392 b(are)h(pro)-18 b(vided.)644 b(The)392
b(selectors)g(must)g(ha)-24 b(v)-18 b(e)393 b(RPL)f(1;)437
b(in)393 b(Xen-)10779 29067 y(Linux)294 b(we)g(simply)f(use)h(the)g(k)
-12 b(ernel')-67 b(s)293 b(CS)i(for)e(both)h Fm(e)-18
b(v)-12 b(ent)p 35810 29067 V 436 w(selector)294 b Fl(and)g
Fm(fail-)10779 30723 y(safe)p 12872 30723 V 436 w(selector)p
Fl(.)10779 32933 y(The)272 b(v)-30 b(alue)271 b Fm(e)-18
b(v)-12 b(ent)p 18605 32933 V 436 w(addr)-22 b(ess)271
b Fl(speci\002es)h(the)f(address)g(of)g(the)h(guest)g(OSes)f(e)-30
b(v)-18 b(ent)10779 34589 y(handling)388 b(and)g(dispatch)g(routine;)
430 b(the)388 b Fm(failsafe)p 31822 34589 V 435 w(addr)-22
b(ess)387 b Fl(speci\002es)h(a)f(sepa-)10779 36245 y(rate)264
b(entry)h(point)f(which)h(is)f(used)g(only)h(if)f(a)g(f)-12
b(ault)264 b(occurs)g(when)h(Xen)g(attempts)10779 37901
y(to)303 b(use)g(the)g(normal)g(callback.)7749 40110
y(On)431 b(x86/64)h(systems)e(the)i(h)-6 b(ypercall)432
b(tak)-12 b(es)431 b(slightly)g(dif)-30 b(ferent)431
b(ar)-22 b(guments.)761 b(This)430 b(is)h(be-)7749 41766
y(cause)269 b(callback)h(CS)f(does)g(not)g(need)h(to)f(be)g
(speci\002ed)g(\(since)g(teh)g(callbacks)h(are)f(entered)g(via)7749
43422 y(SYSRET\),)282 b(and)h(also)f(because)h(an)g(entry)g(address)f
(needs)g(to)h(be)g(speci\002ed)g(for)f(SYSCALLs)7749
45078 y(from)302 b(guest)h(user)f(space:)10779 47918
y Fh(set)p 12469 47918 V 436 w(callbac)-24 b(ks\(unsigned)411
b(long)f(e)-36 b(v)-30 b(ent)p 29199 47918 V 436 w(address)-18
b(,)428 b(unsigned)411 b(long)g(f)-36 b(ail-)10779 49574
y(saf)g(e)p 13107 49574 V 436 w(address)-18 b(,)336 b(unsigned)h(long)g
(syscall)p 30030 49574 V 436 w(address\))7749 51783 y
Fl(After)376 b(installing)h(the)g(h)-6 b(ypervisor)376
b(callbacks,)396 b(the)378 b(guest)e(OS)h(can)h(install)f(a)g(`virtual)
f(IDT')7749 53439 y(by)303 b(using)g(the)g(follo)-30
b(wing)302 b(h)-6 b(ypercall:)10779 56279 y Fh(set)p
12469 56279 V 436 w(tr)-12 b(ap)p 14982 56279 V 436 w(tab)-24
b(le\(tr)-12 b(ap)p 20503 56279 V 435 w(inf)-36 b(o)p
22856 56279 V 436 w(t)337 b(*tab)-24 b(le\))10779 58488
y Fl(Install)331 b(one)i(or)f(more)g(entries)f(into)h(the)h(per)-24
b(-domain)331 b(trap)h(handler)h(table)f(\(es-)10779
60144 y(sentially)230 b(a)h(softw)-12 b(are)229 b(v)-18
b(ersion)230 b(of)g(the)g(IDT\).)f(Each)i(entry)f(in)g(the)h(array)f
(pointed)10779 61800 y(to)272 b(by)g Fm(table)g Fl(includes)g(the)h(e)
-18 b(xception)272 b(v)-18 b(ector)272 b(number)g(with)h(the)f
(correspond-)10779 63456 y(ing)428 b(se)-18 b(gment)427
b(selector)g(and)h(entry)f(point.)750 b(Most)426 b(guest)h(OSes)h(can)g
(use)f(the)10779 65112 y(same)303 b(handlers)g(on)g(Xen)g(as)g(when)g
(running)g(on)g(the)h(real)f(hardw)-12 b(are.)7749 67322
y(A)303 b(further)f(h)-6 b(ypercall)303 b(is)g(pro)-18
b(vided)303 b(for)f(the)h(management)h(of)f(virtual)g(CPUs:)10779
70161 y Fh(vcpu)p 13412 70161 V 436 w(op\(int)337 b(cmd,)f(int)h
(vcpuid,)g(v)-30 b(oid)337 b(*e)-36 b(xtr)-12 b(a)p 31623
70161 V 435 w(args\))27068 75362 y Fl(42)p eop end
%%Page: 43 47
TeXDict begin 43 46 bop 5466 7306 a Fl(This)310 b(h)-6
b(ypercall)311 b(can)g(be)g(used)g(to)f(bootstrap)h(VCPUs,)i(to)e
(bring)f(them)h(up)g(and)5466 8962 y(do)-30 b(wn)303
b(and)g(to)g(test)g(their)f(current)h(status.)2435 13616
y Fi(A.3)1594 b(Scheduling)399 b(and)g(T)-29 b(imer)2435
17080 y Fl(Domains)294 b(are)g(preempti)-30 b(v)-18 b(ely)293
b(scheduled)i(by)e(Xen)i(according)f(to)g(the)g(parameters)f(installed)
2435 18736 y(by)400 b(domain)g(0)f(\(see)g(Section)g(A.10\).)665
b(In)399 b(addition,)424 b(ho)-30 b(we)g(v)-18 b(er)-48
b(,)423 b(a)399 b(domain)h(may)f(choose)h(to)2435 20392
y(e)-18 b(xplicitly)303 b(control)g(certain)h(beha)-24
b(vior)303 b(with)g(the)g(follo)-30 b(wing)303 b(h)-6
b(ypercall:)5466 23232 y Fh(sched)p 8773 23232 364 45
v 436 w(op)p 10557 23232 V 436 w(ne)-24 b(w\(int)336
b(cmd,)h(v)-30 b(oid)337 b(*e)-36 b(xtr)-12 b(a)p 23825
23232 V 435 w(args\))5466 25441 y Fl(Request)462 b(scheduling)h
(operation)f(from)g(h)-6 b(ypervisor)-67 b(.)853 b(The)462
b(follo)-30 b(wing)462 b(sub-)5466 27097 y(commands)303
b(are)g(a)-24 b(v)-30 b(ailable:)5466 29307 y Fm(SCHEDOP)p
11398 29307 V 436 w(yield)606 b Fl(v)-24 b(oluntarily)483
b(yields)f(the)h(CPU,)g(b)-24 b(ut)482 b(lea)-24 b(v)-18
b(es)483 b(the)f(caller)8132 30963 y(mark)-12 b(ed)306
b(as)f(runnable.)385 b(No)306 b(e)-18 b(xtra)305 b(ar)-22
b(guments)306 b(are)f(passed)h(to)f(this)h(com-)8132
32619 y(mand.)5466 34828 y Fm(SCHEDOP)p 11398 34828 V
436 w(block)606 b Fl(remo)-18 b(v)g(es)460 b(the)h(calling)g(domain)g
(from)f(the)h(run)f(queue)8132 36484 y(and)375 b(causes)f(it)g(to)g
(sleep)g(until)h(an)f(e)-30 b(v)-18 b(ent)375 b(is)e(deli)-30
b(v)-18 b(ered)374 b(to)h(it.)589 b(No)375 b(e)-18 b(xtra)8132
38140 y(ar)c(guments)303 b(are)g(passed)g(to)g(this)f(command.)5466
40350 y Fm(SCHEDOP)p 11398 40350 V 436 w(shutdo)-12 b(wn)605
b Fl(is)274 b(used)g(to)g(end)h(the)f(calling)h(domain')-67
b(s)274 b(e)-18 b(x)g(ecution.)8132 42006 y(The)383 b(e)-18
b(xtra)383 b(ar)-22 b(gument)384 b(is)e(a)i Fm(sched)p
23210 42006 V 436 w(shutdo)-12 b(wn)382 b Fl(structure)g(which)i(indi-)
8132 43662 y(cates)239 b(the)g(reason)g(wh)-6 b(y)239
b(the)h(domain)f(suspended)g(\(e.g.,)251 b(for)239 b(reboot,)251
b(halt,)8132 45318 y(po)-30 b(wer)-24 b(-of)-30 b(f\).)5466
47528 y Fm(SCHEDOP)p 11398 47528 V 436 w(poll)606 b Fl(allo)-30
b(ws)408 b(a)h(VCPU)g(to)g(w)-12 b(ait)409 b(on)f(a)h(set)g(of)f(e)-30
b(v)-18 b(ent)408 b(channels)8132 49184 y(with)231 b(an)f(optional)h
(timeout)f(\(all)g(of)g(which)h(are)f(speci\002ed)h(in)f(the)g
Fm(sched)p 38412 49184 V 437 w(poll)8132 50840 y Fl(e)-18
b(xtra)461 b(ar)-22 b(gument\).)849 b(The)461 b(semantics)f(are)h
(similar)f(to)h(the)g(UNIX)g Fm(poll)8132 52496 y Fl(system)318
b(call.)421 b(The)318 b(caller)g(must)f(ha)-24 b(v)-18
b(e)318 b(e)-30 b(v)-18 b(ent-channel)319 b(upcalls)f(mask)-12
b(ed)8132 54152 y(when)304 b(e)-18 b(x)g(ecuting)303
b(this)g(command.)2435 56361 y Fm(sched)p 5404 56361
V 436 w(op)p 7120 56361 V 437 w(new)372 b Fl(w)-12 b(as)372
b(not)g(a)-24 b(v)-30 b(ailable)372 b(prior)g(to)g(Xen)h(3.0.2.)583
b(Older)372 b(v)-18 b(ersions)371 b(pro)-18 b(vide)372
b(only)2435 58017 y(the)304 b(follo)-30 b(wing)302 b(h)-6
b(ypercall:)5466 60857 y Fh(sched)p 8773 60857 V 436
w(op\(int)336 b(cmd,)h(unsigned)g(long)f(e)-36 b(xtr)-12
b(a)p 26071 60857 V 436 w(arg\))5466 63066 y Fl(This)398
b(h)-6 b(ypercall)399 b(supports)f(the)h(follo)-30 b(wing)398
b(subset)g(of)h Fm(sched)p 32199 63066 V 436 w(op)p 33915
63066 V 436 w(new)h Fl(com-)5466 64722 y(mands:)5466
66932 y Fm(SCHEDOP)p 11398 66932 V 436 w(yield)606 b
Fl(\(e)-18 b(xtra)303 b(ar)-22 b(gument)303 b(is)g(0\).)5466
69141 y Fm(SCHEDOP)p 11398 69141 V 436 w(block)606 b
Fl(\(e)-18 b(xtra)303 b(ar)-22 b(gument)303 b(is)g(0\).)5466
71351 y Fm(SCHEDOP)p 11398 71351 V 436 w(shutdo)-12 b(wn)605
b Fl(\(e)-18 b(xtra)303 b(ar)-22 b(gument)303 b(is)g(numeric)g(reason)f
(code\).)21755 75362 y(43)p eop end
%%Page: 44 48
TeXDict begin 44 47 bop 7749 7306 a Fl(T)-97 b(o)305
b(aid)i(the)f(implementation)g(of)g(a)g(process)f(scheduler)h(within)g
(a)h(guest)e(OS,)i(Xen)f(pro)-18 b(vides)7749 8962 y(a)303
b(virtual)g(programmable)g(timer:)10779 11801 y Fh(set)p
12469 11801 364 45 v 436 w(timer)p 15599 11801 V 436
w(op\(uint64)p 21089 11801 V 436 w(t)337 b(timeout\))10779
14011 y Fl(Request)345 b(a)g(timer)f(e)-30 b(v)-18 b(ent)345
b(to)g(be)g(sent)f(at)h(the)g(speci\002ed)g(system)f(time)g(\(time)h
(in)10779 15667 y(nanoseconds)303 b(since)g(system)f(boot\).)7749
17876 y(Note)463 b(that)g(calling)g Fm(set)p 18098 17876
V 436 w(timer)p 21361 17876 V 436 w(op)f Fl(prior)g(to)h
Fm(sched)p 30660 17876 V 436 w(op)g Fl(allo)-30 b(ws)462
b(block-with-timeout)h(se-)7749 19532 y(mantics.)7749
24187 y Fi(A.4)1593 b(P)-16 b(age)398 b(T)-147 b(able)400
b(Management)7749 27651 y Fl(Since)269 b(guest)g(operating)g(systems)e
(ha)-24 b(v)-18 b(e)269 b(read-only)g(access)g(to)g(their)f(page)i
(tables,)275 b(Xen)270 b(must)7749 29307 y(be)456 b(in)-48
b(v)-24 b(olv)-18 b(ed)455 b(when)h(making)g(an)-18 b(y)456
b(changes.)834 b(The)456 b(follo)-30 b(wing)455 b(multi-purpose)g(h)-6
b(ypercall)7749 30963 y(can)293 b(be)g(used)f(to)h(modify)f(page-table)
h(entries,)h(update)g(the)e(machine-to-ph)-6 b(ysical)293
b(mapping)7749 32619 y(table,)303 b(\003ush)g(the)g(TLB,)g(install)f(a)
h(ne)-30 b(w)304 b(page-table)f(base)g(pointer)-48 b(,)302
b(and)i(more.)10779 35458 y Fh(mm)-12 b(u)p 13534 35458
V 436 w(update\(mm)g(u)p 20763 35458 V 434 w(update)p
24904 35458 V 436 w(t)337 b(*req,)f(int)h(count,)g(int)g(*success)p
40634 35458 V 436 w(count\))10779 37668 y Fl(Update)326
b(the)f(page)g(table)g(for)g(the)g(domain;)336 b(a)325
b(set)g(of)f Fm(count)h Fl(updates)g(are)g(sub-)10779
39324 y(mitted)302 b(for)g(processing)f(in)h(a)g(batch,)h(with)f
Fm(success)p 32931 39324 V 435 w(count)g Fl(being)g(updated)h(to)10779
40980 y(report)g(the)g(number)g(of)g(successful)e(updates.)10779
43189 y(Each)285 b(element)h(of)f Fm(r)-22 b(eq[])285
b Fl(contains)g(a)h(pointer)f(\(address\))f(and)h(v)-30
b(alue;)292 b(the)285 b(least)10779 44845 y(signi\002cant)324
b(2-bits)g(of)g(the)h(pointer)f(are)g(used)h(to)f(distinguish)g(the)g
(type)h(of)f(up-)10779 46501 y(date)303 b(requested)g(as)g(follo)-30
b(ws:)10779 48711 y Fm(MMU)p 14015 48711 V 437 w(NORMAL)p
19972 48711 V 438 w(PT)p 21959 48711 V 436 w(UPD)-42
b(A)-115 b(TE:)606 b Fl(update)496 b(a)g(page)g(directory)f(entry)g(or)
13446 50367 y(page)328 b(table)g(entry)g(to)g(the)g(associated)f(v)-30
b(alue;)340 b(Xen)329 b(will)e(check)i(that)f(the)13446
52023 y(update)303 b(is)g(safe,)f(as)h(described)g(in)g(Chapter)g(3.)
10779 54232 y Fm(MMU)p 14015 54232 V 437 w(MA)-67 b(CHPHYS)p
21455 54232 V 437 w(UPD)-42 b(A)-115 b(TE:)606 b Fl(update)354
b(an)g(entry)f(in)g(the)h(machine-to-)13446 55888 y(ph)-6
b(ysical)350 b(table.)517 b(The)350 b(calling)h(domain)f(must)g(o)-30
b(wn)350 b(the)h(machine)g(page)13446 57544 y(in)303
b(question)g(\(or)f(be)h(pri)-30 b(vile)-18 b(ged\).)7749
59754 y(Explicitly)470 b(updating)h(batches)f(of)g(page)h(table)g
(entries)e(is)h(e)-18 b(xtremely)471 b(ef)-30 b(\002cient,)512
b(b)-24 b(ut)470 b(can)7749 61410 y(require)256 b(a)h(number)g(of)f
(alterations)h(to)g(the)g(guest)f(OS.)h(Using)g(the)g(writable)g(page)g
(table)g(mode)7749 63066 y(\(Chapter)303 b(3\))g(is)f(recommended)i
(for)e(ne)-30 b(w)303 b(OS)g(ports.)7749 65276 y(Re)-18
b(g)-6 b(ardless)242 b(of)g(which)h(page)g(table)g(update)g(mode)g(is)f
(being)g(used,)255 b(ho)-30 b(we)g(v)-18 b(er)-48 b(,)254
b(there)242 b(are)h(some)7749 66932 y(occasions)373 b(\(notably)g
(handling)g(a)h(demand)g(page)f(f)-12 b(ault\))373 b(where)g(a)h(guest)
f(OS)g(will)g(wish)g(to)7749 68588 y(modify)381 b(e)-18
b(xactly)382 b(one)g(PTE)f(rather)g(than)h(a)g(batch,)402
b(and)382 b(where)g(that)g(PTE)f(is)g(mapped)h(into)7749
70244 y(the)303 b(current)g(address)f(space.)376 b(This)302
b(is)g(catered)i(for)e(by)h(the)g(follo)-30 b(wing:)27068
75362 y(44)p eop end
%%Page: 45 49
TeXDict begin 45 48 bop 5466 7306 a Fh(update)p 9246
7306 364 45 v 436 w(v)-30 b(a)p 10932 7306 V 436 w(mapping\(unsigned)
255 b(long)i(v)-30 b(a,)273 b(uint64)p 29305 7306 V 436
w(t)257 b(v)-30 b(al,)273 b(unsigned)256 b(long)5466
8962 y(\003ags\))5466 11171 y Fl(Update)k(the)h(currently)e(installed)h
(PTE)f(that)i(maps)e(virtual)h(address)f Fm(v)-12 b(a)260
b Fl(to)g(ne)-30 b(w)5466 12827 y(v)g(alue)308 b Fm(v)-12
b(al)p Fl(.)390 b(As)308 b(with)g Fm(mmu)p 17484 12827
V 436 w(update)p Fl(,)h(Xen)f(checks)g(the)g(modi\002cation)h(is)e
(safe)5466 14484 y(before)390 b(applying)h(it.)639 b(The)390
b Fm(\003ags)g Fl(determine)h(which)g(kind)g(of)g(TLB)f(\003ush,)412
b(if)5466 16140 y(an)-18 b(y)-79 b(,)303 b(should)g(follo)-30
b(w)302 b(the)i(update.)2435 18349 y(Finally)-79 b(,)414
b(suf)-30 b(\002ciently)391 b(pri)-30 b(vile)-18 b(ged)391
b(domains)g(may)h(occasionally)g(wish)f(to)h(manipulate)g(the)2435
20005 y(pages)303 b(of)g(others:)5466 22844 y Fh(update)p
9246 22844 V 436 w(v)-30 b(a)p 10932 22844 V 436 w(mapping)p
16017 22844 V 435 w(otherdomain\(unsigned)256 b(long)g(v)-30
b(a,)273 b(uint64)p 36478 22844 V 436 w(t)257 b(v)-30
b(al,)5466 24500 y(unsigned)336 b(long)h(\003ags)-18
b(,)337 b(domid)p 19939 24500 V 436 w(t)g(domid\))5466
26710 y Fl(Identical)460 b(to)g Fm(update)p 15213 26710
V 436 w(v)-12 b(a)p 16849 26710 V 436 w(mapping)460 b
Fl(sa)-24 b(v)-18 b(e)460 b(that)g(the)g(pages)h(being)f(mapped)5466
28366 y(must)302 b(belong)i(to)f(the)g(domain)g Fm(domid)p
Fl(.)2435 30576 y(An)393 b(additional)g(MMU)f(h)-6 b(ypercall)393
b(pro)-18 b(vides)392 b(an)h(\223e)-18 b(xtended)393
b(command\224)g(interf)-12 b(ace.)645 b(This)2435 32232
y(pro)-18 b(vides)303 b(additional)g(functionality)g(be)-18
b(yond)304 b(the)f(basic)g(table)g(updating)g(commands:)5466
35071 y Fh(mm)-12 b(ue)-36 b(xt)p 9802 35071 V 435 w(op\(str)18
b(uct)287 b(mm)-12 b(ue)-36 b(xt)p 19521 35071 V 435
w(op)289 b(*op)-42 b(,)296 b(int)289 b(count,)298 b(int)288
b(*success)p 35591 35071 V 436 w(count,)5466 36727 y(domid)p
8840 36727 V 436 w(t)336 b(domid\))5466 38936 y Fl(This)c(h)-6
b(ypercall)333 b(is)f(used)g(to)h(perform)f(additional)h(MMU)f
(operations.)465 b(These)5466 40592 y(include)262 b(updating)h
Fg(cr3)f Fl(\(or)g(just)f(re-installing)h(it)g(for)f(a)h(TLB)g
(\003ush\),)269 b(request-)5466 42249 y(ing)415 b(v)-30
b(arious)415 b(kinds)g(of)g(TLB)g(\003ush,)443 b(\003ushing)416
b(the)f(cache,)445 b(installing)415 b(a)g(ne)-30 b(w)5466
43905 y(LDT)-90 b(,)343 b(or)h(pinning)g(&)g(unpinning)h(page-table)f
(pages)g(\(to)g(ensure)f(their)h(refer)-24 b(-)5466 45561
y(ence)308 b(count)g(doesn')-22 b(t)308 b(drop)g(to)g(zero)g(which)g(w)
-12 b(ould)308 b(require)g(a)g(re)-30 b(v)g(alidation)308
b(of)5466 47217 y(all)289 b(entries\).)370 b(Some)290
b(of)f(the)h(operations)f(a)-24 b(v)-30 b(ailable)289
b(are)h(restricted)e(to)i(domains)5466 48873 y(with)303
b(suf)-30 b(\002cient)302 b(system)g(pri)-30 b(vile)-18
b(ges.)5466 51082 y(It)370 b(is)g(also)g(possible)f(for)h(pri)-30
b(vile)-18 b(ged)370 b(domains)g(to)h(reassign)e(page)i(o)-30
b(wnership)5466 52738 y(via)425 b(an)h(e)-18 b(xtended)426
b(MMU)f(operation,)456 b(although)426 b(grant)g(tables)f(are)h(used)f
(in-)5466 54394 y(stead)303 b(of)f(this)h(where)g(possible;)f(see)h
(Section)g(A.8.)2435 56604 y(Finally)-79 b(,)310 b(a)f(h)-6
b(ypercall)308 b(interf)-12 b(ace)308 b(is)g(e)-18 b(xposed)308
b(to)g(acti)-30 b(v)g(ate)308 b(and)h(deacti)-30 b(v)g(ate)308
b(v)-30 b(arious)308 b(optional)2435 58260 y(f)-12 b(acilities)303
b(pro)-18 b(vided)303 b(by)g(Xen)g(for)f(memory)h(management.)5466
61099 y Fh(vm)p 7155 61099 V 436 w(assist\(unsigned)336
b(int)h(cmd,)g(unsigned)f(int)h(type\))5466 63309 y Fl(T)-97
b(oggle)507 b(v)-30 b(arious)507 b(memory)g(management)i(modes)e(\(in)g
(particular)h(writable)5466 64965 y(page)303 b(tables\).)21755
75362 y(45)p eop end
%%Page: 46 50
TeXDict begin 46 49 bop 7749 7306 a Fi(A.5)1593 b(Segmentation)398
b(Support)7749 10770 y Fl(Xen)383 b(allo)-30 b(ws)382
b(guest)g(OSes)g(to)h(install)f(a)h(custom)f(GDT)h(if)f(the)-18
b(y)382 b(require)h(it;)422 b(this)382 b(is)g(conte)-18
b(xt)7749 12426 y(switched)298 b(transparently)g(whene)-30
b(v)-18 b(er)299 b(a)g(domain)g(is)f([de]scheduled.)374
b(The)299 b(follo)-30 b(wing)298 b(h)-6 b(yper)-24 b(-)7749
14082 y(call)303 b(is)f(ef)-30 b(fecti)g(v)-18 b(ely)303
b(a)g(`safe')f(v)-18 b(ersion)302 b(of)h Fg(lgdt)p Fl(:)10779
16921 y Fh(set)p 12469 16921 364 45 v 436 w(gdt\(unsigned)336
b(long)h(*fr)-12 b(ame)p 26436 16921 V 435 w(list,)337
b(int)g(entr)18 b(ies\))10779 19131 y Fl(Install)407
b(a)h(global)g(descriptor)g(table)g(for)f(a)h(domain;)461
b Fm(frame)p 36991 19131 V 436 w(list)407 b Fl(is)g(an)h(array)10779
20787 y(of)321 b(up)h(to)f(16)h(machine)g(page)g(frames)f(within)h
(which)g(the)f(GDT)h(resides,)j(with)10779 22443 y Fm(entries)450
b Fl(being)i(the)f(actual)g(number)g(of)g(descriptor)-24
b(-entry)449 b(slots.)819 b(All)451 b(page)10779 24099
y(frames)436 b(must)g(be)h(mapped)h(read-only)e(within)h(the)g(guest')
-67 b(s)436 b(address)g(space,)10779 25755 y(and)371
b(the)f(table)h(must)e(be)i(lar)-22 b(ge)370 b(enough)h(to)f(contain)h
(Xen')-67 b(s)370 b(reserv)-18 b(ed)370 b(entries)10779
27411 y(\(see)303 b Fm(xen/include/public/ar)-22 b(ch-x86)p
27498 27411 V 436 w(32.h)p Fl(\).)7749 29621 y(Man)k(y)230
b(guest)g(OSes)g(will)g(also)g(wish)g(to)g(install)g(LDTs;)254
b(this)229 b(is)h(achie)-30 b(v)-18 b(ed)231 b(by)f(using)g
Fm(mmu)p 45549 29621 V 436 w(update)7749 31277 y Fl(with)288
b(an)g(e)-18 b(xtended)289 b(command,)i(passing)d(the)g(linear)g
(address)f(of)h(the)g(LDT)g(base)g(along)g(with)7749
32933 y(the)269 b(number)f(of)h(entries.)363 b(No)269
b(special)g(safety)f(checks)h(are)g(required;)280 b(Xen)269
b(needs)f(to)h(perform)7749 34589 y(this)302 b(task)h(simply)g(since)f
Fg(lldt)j Fl(requires)d(CPL)h(0.)7749 36798 y(Xen)354
b(also)f(allo)-30 b(ws)353 b(guest)g(operating)h(systems)e(to)i(update)
g(just)f(an)h(indi)-30 b(vidual)353 b(se)-18 b(gment)353
b(de-)7749 38454 y(scriptor)302 b(in)h(the)g(GDT)g(or)g(LDT)-61
b(:)10779 41294 y Fh(update)p 14559 41294 V 436 w(descr)18
b(iptor\(uint64)p 24041 41294 V 435 w(t)337 b(ma,)g(uint64)p
30810 41294 V 436 w(t)g(desc\))10779 43503 y Fl(Update)396
b(the)f(GDT/LDT)f(entry)h(at)g(machine)h(address)e Fm(ma)p
Fl(;)441 b(the)395 b(ne)-30 b(w)395 b(8-byte)10779 45159
y(descriptor)342 b(is)h(stored)f(in)h Fm(desc)p Fl(.)496
b(Xen)343 b(performs)f(a)h(number)g(of)g(checks)g(to)g(en-)10779
46815 y(sure)302 b(the)i(descriptor)e(is)g(v)-30 b(alid.)7749
49025 y(Guest)397 b(OSes)h(can)g(use)g(the)g(abo)-18
b(v)g(e)398 b(in)g(place)g(of)g(conte)-18 b(xt)398 b(switching)f
(entire)h(LDTs)f(\(or)g(the)7749 50681 y(GDT\))302 b(when)i(the)f
(number)g(of)g(changing)g(descriptors)f(is)h(small.)7749
55335 y Fi(A.6)1593 b(Context)398 b(Switching)7749 58799
y Fl(When)364 b(a)g(guest)f(OS)h(wishes)f(to)h(conte)-18
b(xt)364 b(switch)f(between)i(tw)-12 b(o)363 b(processes,)378
b(it)364 b(can)g(use)f(the)7749 60455 y(page)299 b(table)f(and)h(se)-18
b(gmentation)298 b(h)-6 b(ypercalls)298 b(described)h(abo)-18
b(v)g(e)298 b(to)h(perform)e(the)i(the)f(b)-24 b(ulk)299
b(of)7749 62111 y(the)312 b(pri)-30 b(vile)-18 b(ged)313
b(w)-12 b(ork.)404 b(In)312 b(addition,)j(ho)-30 b(we)g(v)-18
b(er)-48 b(,)314 b(it)e(will)h(need)g(to)f(in)-48 b(v)-24
b(ok)-12 b(e)312 b(Xen)h(to)g(switch)f(the)7749 63767
y(k)-12 b(ernel)303 b(\(ring)f(1\))h(stack)g(pointer:)10779
66607 y Fh(stac)-24 b(k)p 13657 66607 V 436 w(s)-36 b(witch\(unsigned)
336 b(long)h(ss)-18 b(,)337 b(unsigned)g(long)g(esp\))10779
68816 y Fl(Request)329 b(k)-12 b(ernel)328 b(stack)h(switch)f(from)g(h)
-6 b(ypervisor;)340 b Fm(ss)328 b Fl(is)g(the)h(ne)-30
b(w)328 b(stack)h(se)-18 b(g-)10779 70472 y(ment,)303
b(which)h Fm(esp)e Fl(is)h(the)g(ne)-30 b(w)303 b(stack)g(pointer)-67
b(.)27068 75362 y(46)p eop end
%%Page: 47 51
TeXDict begin 47 50 bop 2435 7306 a Fl(A)311 b(useful)f(h)-6
b(ypercall)311 b(for)f(conte)-18 b(xt)311 b(switching)f(allo)-30
b(ws)310 b(\223lazy\224)i(sa)-24 b(v)-18 b(e)310 b(and)h(restore)e(of)i
(\003oating)2435 8962 y(point)303 b(state:)5466 11801
y Fh(fpu)p 7224 11801 364 45 v 436 w(tasks)-36 b(witch\(int)336
b(set\))5466 14011 y Fl(This)403 b(call)i(instructs)e(Xen)i(to)g(set)f
(the)g Fg(TS)h Fl(bit)g(in)f(the)h Fg(cr0)g Fl(control)g(re)-18
b(gister;)5466 15667 y(this)321 b(means)g(that)h(the)g(ne)-18
b(xt)321 b(attempt)h(to)g(use)f(\003oating)h(point)g(will)f(cause)h(a)g
(trap)5466 17323 y(which)293 b(the)g(guest)g(OS)g(can)h(trap.)372
b(T)-97 b(ypically)293 b(it)g(will)g(then)h(sa)-24 b(v)-18
b(e/restore)291 b(the)j(FP)5466 18979 y(state,)302 b(and)i(clear)f(the)
g Fg(TS)h Fl(bit,)f(using)f(the)i(same)f(call.)2435 21188
y(This)348 b(is)f(pro)-18 b(vided)349 b(as)e(an)i(optimization)g(only;)
371 b(guest)348 b(OSes)g(can)g(also)g(choose)h(to)f(sa)-24
b(v)-18 b(e)348 b(and)2435 22844 y(restore)302 b(FP)h(state)g(on)g(all)
g(conte)-18 b(xt)304 b(switches)e(for)h(simplicity)-79
b(.)2435 25054 y(Finally)g(,)304 b(a)f(h)-6 b(ypercall)303
b(is)g(pro)-18 b(vided)303 b(for)f(entering)h(vm86)g(mode:)5466
27893 y Fh(s)-36 b(witch)p 8870 27893 V 436 w(vm86)5466
30103 y Fl(This)329 b(allo)-30 b(ws)329 b(the)h(guest)g(to)g(run)f
(code)i(in)f(vm86)g(mode,)337 b(which)330 b(is)g(needed)g(for)5466
31759 y(some)302 b(le)-18 b(g)-6 b(ac)-18 b(y)304 b(softw)-12
b(are.)2435 36413 y Fi(A.7)1594 b(Ph)-24 b(ysical)399
b(Memory)e(Management)2435 39877 y Fl(As)336 b(mentioned)g(pre)-30
b(viously)-79 b(,)344 b(each)336 b(domain)h(has)e(a)h(maximum)g(and)h
(current)e(memory)h(allo-)2435 41533 y(cation.)395 b(The)310
b(maximum)f(allocation,)j(set)d(at)g(domain)h(creation)f(time,)i
(cannot)f(be)g(modi\002ed.)2435 43189 y(Ho)-30 b(we)g(v)-18
b(er)306 b(a)g(domain)h(can)f(choose)h(to)f(reduce)g(and)h
(subsequently)f(gro)-30 b(w)305 b(its)h(current)g(alloca-)2435
44845 y(tion)d(by)h(using)e(the)h(follo)-30 b(wing)303
b(call:)5466 47685 y Fh(memor)36 b(y)p 9953 47685 V 435
w(op\(unsigned)336 b(int)h(op)-42 b(,)337 b(v)-30 b(oid)336
b(*arg\))5466 49894 y Fl(Increase)306 b(or)g(decrease)g(current)g
(memory)h(allocation)f(\(as)g(determined)h(by)f(the)5466
51550 y(v)-30 b(alue)303 b(of)f Fm(op)p Fl(\).)376 b(The)303
b(a)-24 b(v)-30 b(ailable)303 b(operations)g(are:)5466
53760 y Fm(XENMEM)p 11193 53760 V 438 w(incr)-22 b(ease)p
15850 53760 V 436 w(r)g(eser)-12 b(v)g(ation)606 b Fl(Request)231
b(an)g(increase)f(in)g(machine)h(mem-)8132 55416 y(ory)488
b(allocation;)582 b Fm(ar)-12 b(g)489 b Fl(must)f(point)g(to)g(a)h
Fm(xen)p 28337 55416 V 437 w(memory)p 33082 55416 V 436
w(r)-22 b(eser)-12 b(v)g(ation)8132 57072 y Fl(structure.)5466
59281 y Fm(XENMEM)p 11193 59281 V 438 w(decr)-22 b(ease)p
16051 59281 V 437 w(r)g(eser)-12 b(v)g(ation)606 b Fl(Request)230
b(a)h(decrease)f(in)g(machine)h(mem-)8132 60937 y(ory)488
b(allocation;)582 b Fm(ar)-12 b(g)489 b Fl(must)f(point)g(to)g(a)h
Fm(xen)p 28337 60937 V 437 w(memory)p 33082 60937 V 436
w(r)-22 b(eser)-12 b(v)g(ation)8132 62593 y Fl(structure.)5466
64803 y Fm(XENMEM)p 11193 64803 V 438 w(maximum)p 16884
64803 V 435 w(ram)p 19473 64803 V 436 w(page)607 b Fl(Request)396
b(the)h(frame)f(number)g(of)g(the)8132 66459 y(highest-addressed)315
b(frame)g(of)g(machine)i(memory)e(in)h(the)g(system.)412
b Fm(ar)-12 b(g)8132 68115 y Fl(must)303 b(point)g(to)g(an)g
Fm(unsigned)g(long)g Fl(where)g(this)f(v)-30 b(alue)304
b(will)f(be)g(stored.)5466 70324 y Fm(XENMEM)p 11193
70324 V 438 w(curr)-22 b(ent)p 15513 70324 V 436 w(r)g(eser)-12
b(v)g(ation)606 b Fl(Returns)230 b(current)g(memory)h(reserv)-30
b(ation)8132 71980 y(of)303 b(the)g(speci\002ed)g(domain.)21755
75362 y(47)p eop end
%%Page: 48 52
TeXDict begin 48 51 bop 10779 7306 a Fm(XENMEM)p 16506
7306 364 45 v 438 w(maximum)p 22197 7306 V 436 w(r)-22
b(eser)-12 b(v)g(ation)605 b Fl(Returns)231 b(maximum)f(memory)g(reser)
-24 b(-)13446 8962 y(v)-30 b(ation)303 b(of)f(the)i(speci\002ed)f
(domain.)7749 11171 y(In)386 b(addition)h(to)f(simply)g(reducing)h(or)f
(increasing)g(the)h(current)f(memory)g(allocation)h(via)g(a)7749
12827 y(`balloon)253 b(dri)-30 b(v)-18 b(er',)263 b(this)253
b(call)h(is)f(also)g(useful)g(for)g(obtaining)h(contiguous)f(re)-18
b(gions)253 b(of)h(machine)7749 14484 y(memory)303 b(when)g(required)g
(\(e.g.)376 b(for)302 b(certain)h(PCI)g(de)-30 b(vices,)303
b(or)g(if)f(using)h(superpages\).)7749 19138 y Fi(A.8)1593
b(Inter)-59 b(-Domain)398 b(Communication)7749 22602
y Fl(Xen)g(pro)-18 b(vides)397 b(a)h(simple)g(asynchronous)f
(noti\002cation)h(mechanism)g(via)g Fj(e)-18 b(vent)398
b(c)-18 b(hannels)p Fl(.)7749 24258 y(Each)397 b(domain)i(has)e(a)h
(set)f(of)h(end-points)f(\(or)g Fj(ports)p Fl(\))f(which)j(may)f(be)g
(bound)g(to)f(an)h(e)-30 b(v)-18 b(ent)7749 25914 y(source)367
b(\(e.g.)570 b(a)368 b(ph)-6 b(ysical)368 b(IRQ,)g(a)g(virtual)g(IRQ,)g
(or)g(an)g(port)g(in)f(another)h(domain\).)571 b(When)7749
27570 y(a)452 b(pair)f(of)g(end-points)h(in)f(tw)-12
b(o)452 b(dif)-30 b(ferent)451 b(domains)g(are)h(bound)g(together)-48
b(,)488 b(then)452 b(a)g(`send')7749 29226 y(operation)303
b(on)g(one)g(will)g(cause)h(an)f(e)-30 b(v)-18 b(ent)303
b(to)g(be)g(recei)-30 b(v)-18 b(ed)303 b(by)g(the)g(destination)g
(domain.)7749 31435 y(The)g(control)g(and)g(use)g(of)f(e)-30
b(v)-18 b(ent)303 b(channels)g(in)-48 b(v)-24 b(olv)-18
b(es)302 b(the)i(follo)-30 b(wing)302 b(h)-6 b(ypercall:)10779
34275 y Fh(e)-36 b(v)-30 b(ent)p 13751 34275 V 436 w(channel)p
18432 34275 V 436 w(op\(e)-36 b(vtchn)p 24155 34275 V
435 w(op)p 25938 34275 V 436 w(t)337 b(*op\))10779 36484
y Fl(Inter)-24 b(-domain)315 b(e)-30 b(v)-18 b(ent-channel)316
b(management;)324 b Fm(op)316 b Fl(is)f(a)h(discriminated)g(union)10779
38140 y(which)303 b(allo)-30 b(ws)303 b(the)g(follo)-30
b(wing)303 b(7)g(operations:)10779 40350 y Fm(alloc)p
13276 40350 V 437 w(unbound:)605 b Fl(allocate)366 b(a)f(free)g
(\(unbound\))g(local)h(port)f(and)g(prepare)h(for)13446
42006 y(connection)303 b(from)g(a)g(speci\002ed)g(domain.)10779
44215 y Fm(bind)p 13211 44215 V 436 w(vir)-22 b(q:)606
b Fl(bind)251 b(a)g(local)g(port)f(to)h(a)g(virtual)f(IRQ;)h(an)-18
b(y)251 b(particular)g(VIRQ)g(can)13446 45871 y(be)303
b(bound)g(to)g(at)g(most)g(one)g(port)g(per)g(domain.)10779
48081 y Fm(bind)p 13211 48081 V 436 w(pir)-22 b(q:)606
b Fl(bind)414 b(a)f(local)h(port)g(to)f(a)h(ph)-6 b(ysical)413
b(IRQ;)h(once)g(more,)441 b(a)414 b(gi)-30 b(v)-18 b(en)13446
49737 y(pIRQ)278 b(can)g(be)h(bound)f(to)g(at)g(most)g(one)g(port)g
(per)g(domain.)368 b(Furthermore)13446 51393 y(the)303
b(calling)g(domain)h(must)e(be)h(suf)-30 b(\002ciently)303
b(pri)-30 b(vile)-18 b(ged.)10779 53603 y Fm(bind)p 13211
53603 V 436 w(interdomain:)605 b Fl(construct)386 b(an)h(interdomain)g
(e)-30 b(v)-18 b(ent)386 b(channel;)429 b(in)387 b(gen-)13446
55259 y(eral,)518 b(the)476 b(tar)-22 b(get)475 b(domain)h(must)f(ha)
-24 b(v)-18 b(e)475 b(pre)-30 b(viously)475 b(allocated)h(an)f(un-)
13446 56915 y(bound)439 b(port)g(for)g(this)g(channel,)474
b(although)439 b(this)g(can)h(be)f(bypassed)g(by)13446
58571 y(pri)-30 b(vile)-18 b(ged)302 b(domains)h(during)g(domain)g
(setup.)10779 60780 y Fm(close:)606 b Fl(close)302 b(an)i(interdomain)f
(e)-30 b(v)-18 b(ent)303 b(channel.)10779 62990 y Fm(send:)605
b Fl(send)262 b(an)h(e)-30 b(v)-18 b(ent)262 b(to)g(the)g(remote)g(end)
h(of)f(a)g(interdomain)g(e)-30 b(v)-18 b(ent)262 b(channel.)10779
65199 y Fm(status:)604 b Fl(determine)303 b(the)g(current)g(status)f
(of)h(a)g(local)h(port.)10779 67409 y(F)-18 b(or)303
b(more)f(details)h(see)g Fm(xen/include/public/e)-18
b(v)-12 b(ent)p 33498 67409 V 436 w(channel.h)p Fl(.)7749
69618 y(Ev)-18 b(ent)462 b(channels)i(are)f(the)g(fundamental)g
(communication)h(primiti)-30 b(v)-18 b(e)462 b(between)i(Xen)g(do-)7749
71274 y(mains)485 b(and)g(seamlessly)f(support)g(SMP)-135
b(.)485 b(Ho)-30 b(we)g(v)-18 b(er)485 b(the)-18 b(y)485
b(pro)-18 b(vide)485 b(little)g(bandwidth)h(for)27068
75362 y(48)p eop end
%%Page: 49 53
TeXDict begin 49 52 bop 2435 7306 a Fl(communication)241
b Fa(per)e(se)p Fl(,)252 b(and)240 b(hence)g(are)g(typically)g(married)
f(with)h(a)f(piece)i(of)e(shared)g(mem-)2435 8962 y(ory)303
b(to)g(produce)g(ef)-30 b(fecti)g(v)-18 b(e)303 b(and)g
(high-performance)f(inter)-24 b(-domain)303 b(communication.)2435
11171 y(Safe)362 b(sharing)g(of)g(memory)g(pages)g(between)h(guest)f
(OSes)g(is)f(carried)h(out)h(by)f(granting)g(ac-)2435
12827 y(cess)473 b(on)g(a)h(per)f(page)g(basis)g(to)g(indi)-30
b(vidual)473 b(domains.)886 b(This)472 b(is)h(achie)-30
b(v)-18 b(ed)474 b(by)f(using)g(the)2435 14484 y Fg(grant)p
6143 14484 364 45 v 438 w(table)p 10216 14484 V 438 w(op)303
b Fl(h)-6 b(ypercall.)5466 17323 y Fh(g)-12 b(r)g(ant)p
8278 17323 V 435 w(tab)-24 b(le)p 11317 17323 V 436 w(op\(unsigned)336
b(int)h(cmd,)g(v)-30 b(oid)336 b(*uop)-42 b(,)336 b(unsigned)h(int)g
(count\))5466 19532 y Fl(Used)266 b(to)h(in)-48 b(v)-24
b(ok)-12 b(e)267 b(operations)f(on)h(a)g(grant)g(reference,)274
b(to)267 b(setup)f(the)h(grant)g(table)5466 21188 y(and)303
b(to)g(dump)g(the)g(tables')g(contents)g(for)f(deb)-24
b(ugging.)2435 25843 y Fi(A.9)1594 b(IO)398 b(Con\002guration)2435
29307 y Fl(Domains)383 b(with)h(ph)-6 b(ysical)383 b(de)-30
b(vice)383 b(access)g(\(i.e.)g(dri)-30 b(v)-18 b(er)382
b(domains\))h(recei)-30 b(v)-18 b(e)383 b(limited)g(access)2435
30963 y(to)428 b(certain)g(PCI)g(de)-30 b(vices)427 b(\(b)-24
b(us)427 b(address)g(space)h(and)g(interrupts\).)749
b(Ho)-30 b(we)g(v)-18 b(er)427 b(man)-18 b(y)428 b(guest)2435
32619 y(operating)417 b(systems)e(attempt)i(to)g(determine)f(the)h(PCI)
f(con\002guration)h(by)g(directly)f(access)2435 34275
y(the)304 b(PCI)f(BIOS,)g(which)g(cannot)h(be)f(allo)-30
b(wed)303 b(for)g(safety)-79 b(.)2435 36484 y(Instead,)303
b(Xen)g(pro)-18 b(vides)303 b(the)g(follo)-30 b(wing)303
b(h)-6 b(ypercall:)5466 39324 y Fh(ph)-36 b(ysde)g(v)p
9981 39324 V 435 w(op\(v)-30 b(oid)336 b(*ph)-36 b(ysde)g(v)p
19611 39324 V 435 w(op\))5466 41533 y Fl(Set)335 b(and)g(query)g(IRQ)g
(con\002guration)g(details,)343 b(set)334 b(the)h(system)g(IOPL,)f(set)
g(the)5466 43189 y(TSS)302 b(IO)h(bitmap.)2435 45399
y(F)-18 b(or)370 b(e)-18 b(xamples)370 b(of)g(using)g
Fg(physdev)p 18940 45399 V 438 w(op)p Fl(,)387 b(see)370
b(the)h(Xen-speci\002c)f(PCI)g(code)g(in)g(the)h(linux)2435
47055 y(sparse)302 b(tree.)2435 51709 y Fi(A.10)1594
b(Administrati)-16 b(v)g(e)398 b(Operations)2435 55173
y Fl(A)350 b(lar)-22 b(ge)349 b(number)g(of)g(control)g(operations)f
(are)i(a)-24 b(v)-30 b(ailable)349 b(to)g(a)g(suf)-30
b(\002ciently)348 b(pri)-30 b(vile)-18 b(ged)349 b(do-)2435
56829 y(main)f(\(typically)f(domain)h(0\).)508 b(These)347
b(allo)-30 b(w)348 b(the)f(creation)h(and)f(management)i(of)e(ne)-30
b(w)347 b(do-)2435 58485 y(mains,)330 b(for)324 b(e)-18
b(xample.)442 b(A)325 b(complete)g(list)g(is)f(gi)-30
b(v)-18 b(en)325 b(belo)-30 b(w:)419 b(for)324 b(more)h(details)f(on)h
(an)-18 b(y)325 b(or)g(all)2435 60141 y(of)303 b(these,)g(please)g(see)
g Fg(xen/include/public/dom0)p 28822 60141 V 443 w(ops.h)5466
62981 y Fh(dom0)p 8571 62981 V 435 w(op\(dom0)p 13790
62981 V 436 w(op)p 15574 62981 V 436 w(t)337 b(*op\))5466
65190 y Fl(Administrati)-30 b(v)-18 b(e)373 b(domain)h(operations)g
(for)f(domain)h(management.)590 b(The)374 b(op-)5466
66846 y(tions)302 b(are:)5466 69056 y Fm(DOM0)p 9107
69056 V 436 w(GETMEMLIST)-90 b(:)609 b Fl(get)303 b(list)f(of)h(pages)g
(used)g(by)g(the)g(domain)5466 71265 y Fm(DOM0)p 9107
71265 V 436 w(SCHEDCTL:)21755 75362 y Fl(49)p eop end
%%Page: 50 54
TeXDict begin 50 53 bop 10779 7306 a Fm(DOM0)p 14420
7306 364 45 v 437 w(ADJUSTDOM:)607 b Fl(adjust)303 b(scheduling)g
(priorities)f(for)g(domain)10779 9515 y Fm(DOM0)p 14420
9515 V 437 w(CREA)-115 b(TEDOMAIN:)607 b Fl(create)304
b(a)f(ne)-30 b(w)303 b(domain)10779 11725 y Fm(DOM0)p
14420 11725 V 437 w(DESTR)-36 b(O)-61 b(YDOMAIN:)607
b Fl(deallocate)231 b(all)g(resources)e(associated)h(with)13446
13381 y(a)303 b(domain)10779 15590 y Fm(DOM0)p 14420
15590 V 437 w(P)-90 b(A)-61 b(USEDOMAIN:)607 b Fl(remo)-18
b(v)g(e)316 b(a)g(domain)g(from)g(the)g(scheduler)g(run)13446
17246 y(queue.)10779 19456 y Fm(DOM0)p 14420 19456 V
437 w(UNP)-90 b(A)-61 b(USEDOMAIN:)607 b Fl(mark)251
b(a)g(paused)g(domain)g(as)g(schedulable)13446 21112
y(once)303 b(ag)-6 b(ain.)10779 23322 y Fm(DOM0)p 14420
23322 V 437 w(GETDOMAININFO:)606 b Fl(get)303 b(statistics)f(about)h
(the)g(domain)10779 25531 y Fm(DOM0)p 14420 25531 V 437
w(SETDOMAININFO:)606 b Fl(set)303 b(VCPU-related)g(attrib)-24
b(utes)10779 27741 y Fm(DOM0)p 14420 27741 V 437 w(MSR:)606
b Fl(read)303 b(or)g(write)g(model)g(speci\002c)g(re)-18
b(gisters)10779 29950 y Fm(DOM0)p 14420 29950 V 437 w(DEB)-12
b(UG:)607 b Fl(interacti)-30 b(v)-18 b(ely)303 b(in)-48
b(v)-24 b(ok)-12 b(e)302 b(the)h(deb)-24 b(ugger)10779
32160 y Fm(DOM0)p 14420 32160 V 437 w(SETTIME:)607 b
Fl(set)303 b(system)f(time)10779 34369 y Fm(DOM0)p 14420
34369 V 437 w(GETP)-90 b(A)-67 b(GEFRAMEINFO:)10779 36579
y(DOM0)p 14420 36579 V 437 w(READCONSOLE:)608 b Fl(read)230
b(console)g(content)h(from)f(h)-6 b(ypervisor)229 b(b)-24
b(uf)-30 b(fer)13446 38235 y(ring)10779 40444 y Fm(DOM0)p
14420 40444 V 437 w(PINCPUDOMAIN:)605 b Fl(pin)303 b(domain)g(to)g(a)h
(particular)e(CPU)10779 42654 y Fm(DOM0)p 14420 42654
V 437 w(TB)-12 b(UFCONTR)-36 b(OL:)607 b Fl(get)303 b(and)h(set)e
(trace)i(b)-24 b(uf)-30 b(fer)301 b(attrib)-24 b(utes)10779
44863 y Fm(DOM0)p 14420 44863 V 437 w(PHYSINFO:)605 b
Fl(get)303 b(information)f(about)i(the)f(host)f(machine)10779
47073 y Fm(DOM0)p 14420 47073 V 437 w(SCHED)p 19032 47073
V 437 w(ID:)605 b Fl(get)303 b(the)h(ID)f(of)f(the)h(current)g(Xen)h
(scheduler)10779 49282 y Fm(DOM0)p 14420 49282 V 437
w(SHADO)-61 b(W)p 20318 49282 V 437 w(CONTR)-36 b(OL:)607
b Fl(switch)286 b(between)i(shado)-30 b(w)287 b(page-table)13446
50938 y(modes)10779 53148 y Fm(DOM0)p 14420 53148 V 437
w(SETDOMAINMAXMEM:)608 b Fl(set)230 b(maximum)h(memory)f(allocation)
13446 54804 y(of)302 b(a)i(domain)10779 57013 y Fm(DOM0)p
14420 57013 V 437 w(GETP)-90 b(A)-67 b(GEFRAMEINFO2:)607
b Fl(batched)231 b(interf)-12 b(ace)230 b(for)g(getting)h(page)13446
58669 y(frame)302 b(info)10779 60879 y Fm(DOM0)p 14420
60879 V 437 w(ADD)p 17482 60879 V 437 w(MEMTYPE:)607
b Fl(set)303 b(MTRRs)10779 63088 y Fm(DOM0)p 14420 63088
V 437 w(DEL)p 17348 63088 V 437 w(MEMTYPE:)608 b Fl(remo)-18
b(v)g(e)302 b(a)i(memory)f(type)g(range)10779 65298 y
Fm(DOM0)p 14420 65298 V 437 w(READ)p 18290 65298 V 437
w(MEMTYPE:)607 b Fl(read)304 b(MTRR)10779 67507 y Fm(DOM0)p
14420 67507 V 437 w(PERFCCONTR)-36 b(OL:)607 b Fl(control)230
b(Xen')-67 b(s)230 b(softw)-12 b(are)229 b(performance)h(coun-)13446
69163 y(ters)10779 71373 y Fm(DOM0)p 14420 71373 V 437
w(MICR)-36 b(OCODE:)606 b Fl(update)304 b(CPU)f(microcode)27068
75362 y(50)p eop end
%%Page: 51 55
TeXDict begin 51 54 bop 5466 7306 a Fm(DOM0)p 9107 7306
364 45 v 436 w(IOPOR)-48 b(T)p 14277 7306 V 436 w(PERMISSION:)605
b Fl(modify)529 b(domain)f(permissions)f(for)8132 8962
y(an)440 b(IO)f(port)h(range)f(\(enable)h(/)g(disable)f(a)h(range)g
(for)f(a)g(particular)h(do-)8132 10618 y(main\))5466
12827 y Fm(DOM0)p 9107 12827 V 436 w(GETVCPUCONTEXT)-90
b(:)609 b Fl(get)304 b(conte)-18 b(xt)303 b(from)f(a)h(VCPU)5466
15037 y Fm(DOM0)p 9107 15037 V 436 w(GETVCPUINFO:)606
b Fl(get)304 b(current)e(state)h(for)f(a)i(VCPU)5466
17246 y Fm(DOM0)p 9107 17246 V 436 w(GETDOMAININFOLIST)-90
b(:)607 b Fl(batched)318 b(interf)-12 b(ace)318 b(to)f(get)h(domain)
8132 18903 y(info)5466 21112 y Fm(DOM0)p 9107 21112 V
436 w(PLA)-115 b(TFORM)p 16363 21112 V 437 w(Q)-12 b(UIRK:)606
b Fl(inform)524 b(Xen)h(of)g(a)g(platform)f(quirk)h(it)8132
22768 y(needs)303 b(to)g(handle)h(\(e.g.)376 b(noirqbalance\))5466
24978 y Fm(DOM0)p 9107 24978 V 436 w(PHYSICAL)p 15806
24978 V 437 w(MEMOR)-42 b(Y)p 21990 24978 V 437 w(MAP:)606
b Fl(get)230 b(info)g(about)h(dom0')-67 b(s)230 b(mem-)8132
26634 y(ory)303 b(map)5466 28843 y Fm(DOM0)p 9107 28843
V 436 w(MAX)p 12437 28843 V 437 w(VCPUS:)606 b Fl(change)269
b(max)g(number)g(of)f(VCPUs)h(for)f(a)g(domain)5466 31053
y Fm(DOM0)p 9107 31053 V 436 w(SETDOMAINHANDLE:)609 b
Fl(set)302 b(the)h(handle)h(for)e(a)i(domain)2435 33262
y(Most)343 b(of)h(the)g(abo)-18 b(v)g(e)344 b(are)g(best)f(understood)h
(by)g(looking)g(at)g(the)g(code)g(implementing)h(them)2435
34918 y(\(in)230 b Fg(xen/common/dom0)p 14990 34918 V
441 w(ops.c)p Fl(\))h(and)g(in)f(the)g(user)-24 b(-space)230
b(tools)f(that)i(use)f(them)g(\(mostly)2435 36574 y(in)303
b Fg(tools/libxc)p Fl(\).)2435 41228 y Fi(A.11)1594 b(Access)397
b(Contr)-29 b(ol)399 b(Module)g(Hyper)-29 b(calls)2435
44693 y Fl(Hypercalls)342 b(relating)g(to)g(the)g(management)g(of)g
(the)g(Access)f(Control)h(Module)g(are)g(also)f(re-)2435
46349 y(stricted)306 b(to)h(domain)g(0)g(access)f(for)g(no)-30
b(w)-79 b(.)387 b(F)-18 b(or)306 b(more)g(details)h(on)f(an)-18
b(y)307 b(or)f(all)h(of)f(these,)i(please)2435 48005
y(see)303 b Fg(xen/include/public/acm)p 20353 48005 V
443 w(ops.h)p Fl(.)377 b(A)303 b(complete)g(list)g(is)f(gi)-30
b(v)-18 b(en)303 b(belo)-30 b(w:)5466 50844 y Fh(acm)p
7829 50844 V 436 w(op\(int)336 b(cmd,)h(v)-30 b(oid)336
b(*args\))5466 53053 y Fl(This)381 b(h)-6 b(ypercall)383
b(can)g(be)g(used)f(to)h(con\002gure)g(the)g(state)f(of)g(the)h(A)-48
b(CM,)383 b(query)5466 54709 y(that)312 b(state,)i(request)d(access)h
(control)g(decisions)f(and)h(dump)g(additional)h(infor)-24
b(-)5466 56366 y(mation.)5466 58575 y Fm(A)-67 b(CMOP)p
10050 58575 V 436 w(SETPOLICY)-112 b(:)607 b Fl(set)303
b(the)g(access)g(control)g(polic)-18 b(y)5466 60785 y
Fm(A)-67 b(CMOP)p 10050 60785 V 436 w(GETPOLICY)-112
b(:)608 b Fl(get)497 b(the)g(current)g(access)g(control)g(polic)-18
b(y)497 b(and)8132 62441 y(status)5466 64650 y Fm(A)-67
b(CMOP)p 10050 64650 V 436 w(DUMPST)-109 b(A)-115 b(TS:)607
b Fl(get)334 b(current)g(access)f(control)h(hook)g(in)-48
b(v)-24 b(ocation)8132 66306 y(statistics)5466 68516
y Fm(A)-67 b(CMOP)p 10050 68516 V 436 w(GETSSID:)607
b Fl(get)509 b(security)g(access)f(control)h(information)g(for)f(a)8132
70172 y(domain)21755 75362 y(51)p eop end
%%Page: 52 56
TeXDict begin 52 55 bop 10779 7306 a Fm(A)-67 b(CMOP)p
15363 7306 364 45 v 437 w(GETDECISION:)606 b Fl(get)231
b(access)f(decision)g(based)g(on)h(the)f(currently)13446
8962 y(enforced)303 b(access)f(control)h(polic)-18 b(y)7749
11171 y(Most)343 b(of)g(the)h(abo)-18 b(v)g(e)344 b(are)g(best)g
(understood)f(by)h(looking)g(at)g(the)g(code)h(implementing)f(them)7749
12827 y(\(in)265 b Fg(xen/common/acm)p 19612 12827 V
441 w(ops.c)p Fl(\))i(and)f(in)g(the)g(user)-24 b(-space)265
b(tools)h(that)g(use)g(them)g(\(mostly)7749 14484 y(in)303
b Fg(tools/security)k Fl(and)c Fg(tools/python/xen/lowlevel/acm)p
Fl(\).)7749 19138 y Fi(A.12)1593 b(Deb)-32 b(ugging)399
b(Hyper)-29 b(calls)7749 22602 y Fl(A)303 b(fe)-30 b(w)303
b(additional)g(h)-6 b(ypercalls)303 b(are)g(mainly)g(useful)f(for)h
(deb)-24 b(ugging:)10779 25441 y Fh(console)p 15029 25441
V 436 w(io\(int)337 b(cmd,)f(int)h(count,)g(char)g(*str\))10779
27651 y Fl(Use)303 b(Xen)g(to)g(interact)g(with)h(the)f(console;)g
(operations)f(are:)10779 29860 y(CONSOLEIO)p 17720 29860
V 436 w(write:)376 b(Output)303 b(count)g(characters)g(from)f(b)-24
b(uf)-30 b(fer)302 b(str)-67 b(.)10779 32070 y(CONSOLEIO)p
17720 32070 V 436 w(read:)376 b(Input)303 b(at)g(most)f(count)i
(characters)f(into)g(b)-24 b(uf)-30 b(fer)301 b(str)-67
b(.)7749 34279 y(A)303 b(pair)g(of)f(h)-6 b(ypercalls)303
b(allo)-30 b(ws)303 b(access)f(to)h(the)h(underlying)f(deb)-24
b(ug)303 b(re)-18 b(gisters:)10779 37119 y Fh(set)p 12469
37119 V 436 w(deb)-24 b(ug)-12 b(reg\(int)336 b(reg,)g(unsigned)h(long)
g(v)-30 b(alue\))10779 39328 y Fl(Set)303 b(deb)-24 b(ug)303
b(re)-18 b(gister)302 b Fm(r)-22 b(eg)304 b Fl(to)f Fm(v)-12
b(alue)10779 42168 y Fh(get)p 12537 42168 V 436 w(deb)-24
b(ug)-12 b(reg\(int)336 b(reg\))10779 44377 y Fl(Return)303
b(the)h(contents)f(of)f(the)i(deb)-24 b(ug)303 b(re)-18
b(gister)302 b Fm(r)-22 b(eg)7749 46587 y Fl(And)303
b(\002nally:)10779 49426 y Fh(x)-36 b(en)p 12770 49426
V 436 w(v)-30 b(ersion\(int)336 b(cmd\))10779 51636 y
Fl(Request)303 b(Xen)h(v)-18 b(ersion)302 b(number)-67
b(.)7749 53845 y(This)276 b(is)h(useful)g(to)h(ensure)f(that)g(user)-24
b(-space)277 b(tools)g(are)g(in)h(sync)f(with)h(the)f(underlying)h(h)-6
b(yper)-24 b(-)7749 55501 y(visor)-67 b(.)27068 75362
y(52)p eop end
%%Trailer

userdict /end-hook known{end-hook}if
%%EOF
